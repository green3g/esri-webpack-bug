(function(){(this||window).webpackJsonp.registerAbsMids({"esri/core/tsSupport/generatorHelper":398,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/core/tsSupport/generatorHelper":398,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/core/tsSupport/awaiterHelper":404,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/core/asyncUtils":653,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/core/loadAll":973,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/Basemap":992})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{398:function(e,r,t){var n;void 0===(n=function(){return function(e,r){function t(e){return function(r){return n([e,r])}}function n(t){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&t[0]?a.return:t[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,t[1])).done)return i;switch(a=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,a=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=(i=u.trys).length>0&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(e,u)}catch(e){t=[6,e],a=0}finally{o=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}}.apply(null,[]))||(e.exports=n)},404:function(e,r,t){var n,o;n=[t(340)],void 0===(o=function(e){function r(r){return r&&"function"==typeof r.then?r:e.resolve(r)}return function(t,n,o,a){var i=null;return e.create(function(e,o){function s(e){try{l(a.next(e))}catch(e){o(e)}}function u(e){try{l(a.throw(e))}catch(e){o(e)}}function l(t){t.done?(i=r(t.value)).then(e,o):(i=r(t.value)).then(s,u)}l((a=a.apply(t,n||[])).next())},function(e){i&&i.cancel(e)})}}.apply(null,n))||(e.exports=o)},653:function(e,r,t){var n,o;n=[t.dj.c(e.i),r,t(398),t(404),t(340)],void 0===(o=function(e,r,t,n,o){Object.defineProperty(r,"__esModule",{value:!0}),r.forEach=function(e,r,t){return o.eachAlways(e.map(function(e,n){return r.apply(t,[e,n])}))},r.map=function(e,r,t){return o.eachAlways(e.map(function(e,n){return r.apply(t,[e,n])})).then(function(e){return e.map(function(e){return e.value})})},r.maybe=function(e){return e.then(function(e){return{ok:!0,value:e}}).catch(function(e){return{ok:!1,error:e}})},r.assertMaybe=function(e){if(!0===e.ok)return e.value;throw e.error},r.safeCast=function(e){return e}}.apply(null,n))||(e.exports=o)},973:function(e,r,t){var n,o;n=[t.dj.c(e.i),r,t(398),t(404),t(653),t(358),t(467)],void 0===(o=function(e,r,t,n,o,a,i){function s(e,r){return n(this,void 0,void 0,function(){var s,u,l=this;return t(this,function(c){switch(c.label){case 0:return[4,e.load()];case 1:return c.sent(),s=[],u=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var t=0,n=e;t<n.length;t++){var o=n[t];o&&(Array.isArray(o)?u.apply(void 0,o):a.isCollection(o)?o.forEach(function(e){return u(e)}):o.isInstanceOf&&o.isInstanceOf(i)&&s.push(o))}},r(u),[4,o.map(s,function(e){return n(l,void 0,void 0,function(){return t(this,function(r){switch(r.label){case 0:return function(e){return"loadAll"in e&&"function"==typeof e.loadAll}(e)?[4,e.loadAll()]:[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.load()];case 3:r.sent(),r.label=4;case 4:return[2]}})})})];case 2:return c.sent(),[2,e]}})})}Object.defineProperty(r,"__esModule",{value:!0}),r.loadAll=s,r.default=s}.apply(null,n))||(e.exports=o)},992:function(e,r,t){var n,o;n=[t.dj.c(e.i),r,t(345),t(338),t(336),t(653),t(358),t(908),t(446),t(341),t(339),t(467),t(973),t(343),t(340),t(350),t(337),t(399),t(408),t(691),t(783)],void 0===(o=function(e,r,n,o,a,i,s,u,l,c,p,f,y,d,h,b,m,v,w,L,g){var I=0,_=s.ofType(v),S=d.getLogger("esri.Basemap");return function(e){function r(r){var t=e.call(this)||this;t.id=null,t.portalItem=null,t.thumbnailUrl=null,t.title="Basemap",t.id=Date.now().toString(16)+"-basemap-"+I++,t.baseLayers=new _,t.referenceLayers=new _;var n=function(e){e.parent&&e.parent!==t&&"remove"in e.parent&&e.parent.remove(e),e.parent=t,"elevation"===e.type&&S.error("Layer '"+e.title+", id:"+e.id+"' of type '"+e.type+"' is not supported as a basemap layer and will therefore be ignored.")},o=function(e){e.parent=null};return t.baseLayers.on("after-add",function(e){return n(e.item)}),t.referenceLayers.on("after-add",function(e){return n(e.item)}),t.baseLayers.on("after-remove",function(e){return o(e.item)}),t.referenceLayers.on("after-remove",function(e){return o(e.item)}),t}var s;return o(r,e),s=r,r.prototype.initialize=function(){var e=this;this.when().catch(function(r){S.error("#load()","Failed to load basemap (title: '"+e.title+"', id: '"+e.id+"')",r)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)},r.prototype.normalizeCtorArgs=function(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e=n({},e)).resourceInfo),e},Object.defineProperty(r.prototype,"baseLayers",{set:function(e){this._set("baseLayers",u.referenceSetter(e,this._get("baseLayers"),_))},enumerable:!0,configurable:!0}),r.prototype.writeBaseLayers=function(e,r,t,o){var a=[];e?(o=n({},o,{layerContainerType:"basemap"}),this.baseLayers.forEach(function(e){if(e.write){var r={};e.write(r,o)&&a.push(r)}}),this.referenceLayers.forEach(function(e){if(e.write){var r={isReference:!0};e.write(r,o)&&a.push(r)}}),r[t]=a):r[t]=a},Object.defineProperty(r.prototype,"referenceLayers",{set:function(e){this._set("referenceLayers",u.referenceSetter(e,this._get("referenceLayers"),_))},enumerable:!0,configurable:!0}),r.prototype.writeTitle=function(e,r){r.title=e||"Basemap"},r.prototype.load=function(){return this.addResolvingPromise(this._loadFromSource()),this.when()},r.prototype.loadAll=function(){var e=this;return i.safeCast(y.loadAll(this,function(r){r(e.baseLayers,e.referenceLayers)}))},r.prototype.clone=function(){var e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};return this.loaded&&(e.loadStatus="loaded"),new s({resourceInfo:this.resourceInfo}).set(e)},r.prototype.read=function(e,r){return this.resourceInfo||this._set("resourceInfo",{data:e,context:r}),this.inherited(arguments)},r.prototype.write=function(e,r){return e=e||{},r&&r.origin||(r=n({origin:"web-map"},r)),this.inherited(arguments,[e,r]),!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(function(e){var r=p.clone(e);return r.url&&b.isProtocolRelative(r.url)&&(r.url="https:"+r.url),r.templateUrl&&b.isProtocolRelative(r.templateUrl)&&(r.templateUrl="https:"+r.templateUrl),r})),e},r.prototype._loadFromSource=function(){var e=this.resourceInfo,r=this.portalItem;return e?this._loadLayersFromJSON(e.data,e.context?e.context.url:null):r?this._loadFromItem(r):h.resolve(null)},r.prototype._loadLayersFromJSON=function(e,r){var n=this,o=this.resourceInfo&&this.resourceInfo.context,a=this.portalItem&&this.portalItem.portal||o&&o.portal||null,i=o&&"web-scene"===o.origin?"web-scene":"web-map";return h.create(function(e){return t.e(42).then(function(){var r=[t(1421)];e.apply(null,r)}.bind(this)).catch(t.oe)}).then(function(t){var o=[];if(e.baseMapLayers&&Array.isArray(e.baseMapLayers)){var s={context:{origin:i,url:r,portal:a,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},u=t.populateOperationalLayers(n.baseLayers,e.baseMapLayers.filter(function(e){return!e.isReference}),s);o.push.apply(o,u);var l=t.populateOperationalLayers(n.referenceLayers,e.baseMapLayers.filter(function(e){return e.isReference}),s);o.push.apply(o,l)}return h.eachAlways(o)}).then(function(){})},r.prototype._loadFromItem=function(e){var r=this;return e.load().then(function(e){return e.fetchData()}).then(function(t){var n=b.urlToObject(e.itemUrl);return r._set("resourceInfo",{data:t.baseMap,context:{origin:"web-map",portal:e.portal||w.getDefault(),url:n}}),r.read(r.resourceInfo.data,r.resourceInfo.context),r.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||w.getDefault(),url:n}),r._loadLayersFromJSON(r.resourceInfo.data,n)})},r.fromId=function(e){var r=g[e];return r?s.fromJSON(r):null},a([m.property({type:_,json:{write:{ignoreOrigin:!0,target:"baseMapLayers"}}}),m.cast(u.castForReferenceSetter)],r.prototype,"baseLayers",null),a([m.writer("baseLayers")],r.prototype,"writeBaseLayers",null),a([m.property({type:String,json:{origins:{"web-scene":{write:!0}}}})],r.prototype,"id",void 0),a([m.property({type:L})],r.prototype,"portalItem",void 0),a([m.property({type:_}),m.cast(u.castForReferenceSetter)],r.prototype,"referenceLayers",null),a([m.property({readOnly:!0})],r.prototype,"resourceInfo",void 0),a([m.property()],r.prototype,"thumbnailUrl",void 0),a([m.property({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],r.prototype,"title",void 0),a([m.writer("title")],r.prototype,"writeTitle",null),s=a([m.subclass("esri.Basemap")],r)}(m.declared(c,l,f))}.apply(null,n))||(e.exports=o)}}]);