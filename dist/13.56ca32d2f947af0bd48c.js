(function(){(this||window).webpackJsonp.registerAbsMids({"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/core/watchUtils":374,"esri/layers/support/TileInfo":450,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/layers/support/TileInfo":450,"esri/views/2d/tiling/TileKey":456,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/tiling/TileKey":456,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/layers/support/LOD":637,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/layers/LayerView":664,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/layers/RefreshableLayerView":683,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/engine/Container":716,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/engine/DisplayObject":728,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/tiling/TileSpan":733,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/tiling/TileInfoView":766,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/engine/Evented":787,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/layers/LayerView2D":790,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/tiling/LODInfo":834,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/tiling/TileCoverage":835,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/engine/BitmapSource":1005,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/engine/Canvas2DContainer":1006,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/engine/Bitmap":1041,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/viewStateUtils":1070,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/layers/support/ExportStrategy":1575})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1005:function(e,t,r){var i,o;i=[r.dj.c(e.i),t,r(347),r(412),r(1071)],void 0===(o=function(e,t,r,i,o){function n(e){return e&&"render"in e}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t){var r=e.call(this)||this;return r._height=0,r.pixelRatio=1,r.resolution=0,r.rotation=0,r._width=0,r.x=0,r.y=0,r.data=t,r}return r(t,e),t.prototype.release=function(){this.data=null},Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this._width=this._height=0,e&&(n(e)||(e instanceof HTMLImageElement?(this._width=e.naturalWidth,this._height=e.naturalHeight):e.width>0&&e.height>0&&(this._width=e.width,this._height=e.height)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return n(this._data)?this._data.height:this._height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ready",{get:function(){return n(this._data)?this._data.width>0&&this._data.height>0:this._width>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return n(this.data)?this._data.width:this._width},enumerable:!0,configurable:!0}),t.prototype.draw=function(e,t,r,i,o,s,a,l,u){this.ready&&(n(this._data)?this._data.render(e,t,r,i,o,s,a,l,u):function(e){return e&&!("render"in e)}(this._data)&&i&&o&&l&&u&&e.drawImage(this._data,t,r,i,o,s,a,l,u))},t.pool=new i(t,!0),t}(o.default);t.default=s}.apply(null,i))||(e.exports=o)},1006:function(e,t,r){var i,o;i=[r.dj.c(e.i),t,r(347),r(340),r(980),r(716),r(711)],void 0===(o=function(e,t,r,i,o,n,s){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._childrenRenderParameters={context:null,pixelRatio:1,state:new o,stationary:!0},t.hidpi=!1,t}return r(t,e),t.prototype.createElement=function(){var e=document.createElement("canvas");return e.setAttribute("class","esri-display-object"),e},t.prototype.setElement=function(e){this.element=e},t.prototype.takeScreenshot=function(e){var t=this._childrenRenderParameters.state,r={context:null,pixelRatio:e.pixelRatio,state:new o,stationary:!0};r.opacity=this._childrenRenderParameters.opacity,r.state.copy(t);var n,a=e.framebufferWidth,l=e.framebufferHeight,u=e.region,h=document.createElement("canvas");if(h.width=a,h.height=l,r.context=h.getContext("2d"),this.beforeRenderChildren(r,r),void 0!==e.rotation&&null!==e.rotation){var p=r.state,c=p.clone();c.viewpoint.rotation=e.rotation,r.state=c,this.renderChildren(r),r.state=p}else this.renderChildren(r);this.afterRenderChildren(r,r);try{n=r.context.getImageData(u.x,u.y,u.width,u.height)}catch(e){return i.reject(e)}return i.resolve(s.encodeResult(n,e,h,{flipY:!1,premultipliedAlpha:!1}))},t.prototype.doRender=function(t){var r=this.element,i=r.style;if(this.visible){var o=t.state,n=t.pixelRatio,s=o.width,a=o.height;r.width=s*(this.hidpi?n:1),r.height=a*(this.hidpi?n:1),i.display="block",i.opacity=""+Math.min(this.opacity,this.parent.opacity),i.width=s+"px",i.height=a+"px",e.prototype.doRender.call(this,t)}else i.display="none"},t.prototype.prepareChildrenRenderParameters=function(e){var t=this._childrenRenderParameters;return t.context=this.element.getContext("2d"),t.pixelRatio=e.pixelRatio,t.state.copy(e.state),t.state.pixelRatio=this.hidpi?e.pixelRatio:1,t.stationary=e.stationary,t},t.prototype.beforeRenderChildren=function(e,t){var r=t.context,i=t.state;if(r.save(),i.spatialReference.isWrappable){var o=i.width,n=i.height,s=i.rotation,a=i.pixelRatio,l=this.hidpi?a:1,u=s*Math.PI/180,h=Math.abs(Math.cos(u)),p=Math.abs(Math.sin(u)),c=Math.round(o*l*h+n*l*p),d=i.worldScreenWidth*l;if(d<c){var f=o*l*.5,y=n*l*.5;u&&(r.translate(f,y),r.rotate(u),r.translate(-f,-y)),r.beginPath(),r.rect(f-.5*d,y-.5*c,d,c),r.closePath(),u&&(r.translate(f,y),r.rotate(-u),r.translate(-f,-y)),r.clip("evenodd")}}},t.prototype.afterRenderChildren=function(e,t){t.context.restore()},t.prototype.renderChild=function(e,t){t.context.save(),e.processRender(t),t.context.restore()},t}(n)}.apply(null,i))||(e.exports=o)},1041:function(e,t,r){var i,o;i=[r.dj.c(e.i),t,r(347),r(728)],void 0===(o=function(e,t,r,i){var o=[0,0];return function(e){function t(t){var r=e.call(this)||this;return r.height=0,r.resolution=0,r.rotation=0,r._source=null,r._sourceHandle=null,r.width=0,r.x=0,r.y=0,r.source=t,r.requestRender=r.requestRender.bind(r),r}return r(t,e),Object.defineProperty(t.prototype,"source",{get:function(){return this._source},set:function(e){this._sourceHandle&&(this._sourceHandle.remove(),this._sourceHandle=null),this._source=e,this._source&&(this._sourceHandle=this._source.on("update",this.requestRender)),this.requestRender()},enumerable:!0,configurable:!0}),t.prototype.doRender=function(e){this.source&&this.source.ready&&this.renderCanvas2D(e)},t.prototype.renderCanvas2D=function(e){var t=this.source,r=e.context,i=e.state,n=i.resolution,s=i.rotation,a=this.resolution/n*i.pixelRatio;if(!(a<.05)){r.save();var l=i.toScreen(o,this.x,this.y),u=l[0],h=l[1];if(a>.99&&a<1.01?r.translate(Math.round(u),Math.round(h)):(r.translate(u,h),r.scale(a,a)),s){var p=s*Math.PI/180;r.rotate(p)}t.rotation&&(r.translate(.5*this.width,.5*this.height),r.rotate(-t.rotation*Math.PI/180),r.translate(.5*-this.width,.5*-this.height));var c=t.resolution||this.resolution,d=(this.x-t.x)/c,f=-(this.y-t.y)/c,y=(t.width||this.width)*(this.resolution/c),v=(t.height||this.height)*(this.resolution/c);r.clearRect(0,0,this.width,this.height),t.draw(r,Math.round(d),Math.round(f),Math.round(y),Math.round(v),0,0,this.width,this.height),r.restore()}},t}(i)}.apply(null,i))||(e.exports=o)},1070:function(e,t,r){var i,o;i=[r.dj.c(e.i),t],void 0===(o=function(e,t){function r(e){return e*i}Object.defineProperty(t,"__esModule",{value:!0});var i=Math.PI/180;t.snapToPixel=function(e,t,r){var i=r.resolution,o=r.size;return e[0]=i*(Math.round(t[0]/i)+o[0]%2*.5),e[1]=i*(Math.round(t[1]/i)+o[1]%2*.5),e},t.getOuterSize=function(e,t){var i=r(t.rotation),o=Math.abs(Math.cos(i)),n=Math.abs(Math.sin(i)),s=t.size,a=s[0],l=s[1];return e[0]=Math.round(l*n+a*o),e[1]=Math.round(l*o+a*n),e},t.getBBox=function(e,t,r,i){var o=t[0],n=t[1],s=i[0],a=i[1],l=.5*r;return e[0]=o-l*s,e[1]=n-l*a,e[2]=o+l*s,e[3]=n+l*a,e},t.bboxIntersects=function(e,t){var r=e[0],i=e[1],o=e[2],n=e[3],s=t[0],a=t[1],l=t[2],u=t[3];return!(r>l||o<s||i>u||n<a)}}.apply(null,i))||(e.exports=o)},1575:function(e,t,r){var i,o;i=[r.dj.c(e.i),t,r(345),r(340),r(361),r(367),r(410),r(450),r(1070),r(1041),r(766),r(456)],void 0===(o=function(e,t,r,i,o,n,s,a,l,u,h,p){var c=n.create(),d=[0,0],f=new p(0,0,0,0),y={container:null,fetchSource:null,requestUpdate:null,imageMaxWidth:2048,imageMaxHeight:2048,imageRotationSupported:!1,imageNormalizationSupported:!1,hidpi:!1};return function(){function e(e){this._imagePromise=null,this.hidpi=y.hidpi,this.imageMaxWidth=y.imageMaxWidth,this.imageMaxHeight=y.imageMaxHeight,this.imageRotationSupported=y.imageRotationSupported,this.imageNormalizationSupported=y.imageNormalizationSupported;var t=r({},y,e);this.container=t.container,this.disposeSource=t.disposeSource,this.fetchSource=t.fetchSource,this.requestUpdate=t.requestUpdate,this.imageMaxWidth=t.imageMaxWidth,this.imageMaxHeight=t.imageMaxHeight,this.imageRotationSupported=t.imageRotationSupported,this.imageNormalizationSupported=t.imageNormalizationSupported,this.hidpi=t.hidpi}return e.prototype.destroy=function(){},Object.defineProperty(e.prototype,"updating",{get:function(){return null!==this._imagePromise},enumerable:!0,configurable:!0}),e.prototype.update=function(e){var t=this,r=e.state,i=s.getInfo(r.spatialReference),o=this.hidpi?e.pixelRatio:1;if(this._imagePromise&&(this._imagePromise.cancel(),this._imagePromise=null),e.stationary){this.imageRotationSupported?(d[0]=r.width,d[1]=r.height):l.getOuterSize(d,r);var n=Math.floor(d[0]*o)>this.imageMaxWidth||Math.floor(d[1]*o)>this.imageMaxHeight,a=i&&(r.extent.xmin<i.valid[0]||r.extent.xmax>i.valid[1]),u=!this.imageNormalizationSupported&&a,h=!n&&!u,p=this.imageRotationSupported?r.rotation:0;if(h)this._imagePromise=this._singleExport(r,d,p,o);else{var c=Math.min(this.imageMaxWidth,this.imageMaxHeight);u&&(c=Math.min(r.worldScreenWidth,c)),this._imagePromise=this._tiledExport(r,c,p,o)}this._imagePromise.then(function(e){t._imagePromise=null;var r=t.container.children.slice();t.container.removeAllChildren(),e.forEach(t.container.addChild,t.container),t.disposeSource&&r.forEach(function(e){t.disposeSource(e.source)},t)}).catch(function(e){if(t._imagePromise=null,"cancel"!==e.dojoType)throw e})}},e.prototype.updateExports=function(e,t){for(var r=0,i=this.container.children;r<i.length;r++){var o=i[r];if(!o.visible||!o.attached)return;e(o,t)?console.error("ExportStrategy.updateExports doesn't support promise yet"):o.requestRender()}},e.prototype._export=function(e,t,r,o,n){var s=this;return i.resolve().then(function(){return s.fetchSource(e,Math.floor(t*n),Math.floor(r*n),{rotation:o,pixelRatio:n})}).then(function(i){var s=new u(i);return s.x=i.x=e.xmin,s.y=i.y=e.ymax,s.resolution=i.resolution=e.width/t,i.rotation=o,i.pixelRatio=n,s.width=t,s.height=r,s})},e.prototype._singleExport=function(e,t,r,i){l.getBBox(c,e.center,e.resolution,t);var n=new o(c[0],c[1],c[2],c[3],e.spatialReference);return this._export(n,t[0],t[1],r,i).then(function(e){return[e]})},e.prototype._tiledExport=function(e,t,r,n){var s=this,l=a.create({size:t,spatialReference:e.spatialReference,scales:[e.scale]}),u=new h(l),p=u.getTileCoverage(e);if(!p)return null;var d=[];return p.forEach(function(i,a,l,h){f.set(i,a,l,h),u.getTileBounds(c,f);var p=new o(c[0],c[1],c[2],c[3],e.spatialReference);d.push(s._export(p,t,t,r,n))}),i.all(d)},e}()}.apply(null,i))||(e.exports=o)},374:function(e,t,r){var i,o;i=[r.dj.c(e.i),t,r(380),r(599)],void 0===(o=function(e,t,r,i){function o(e,t,r,i,o){var n=e.watch(t,function(t,o,n,s){i&&!i(t)||r.call(e,t,o,n,s)},o);if(Array.isArray(t))for(var s=0,a=t;s<a.length;s++){var l=a[s],u=e.get(l);i&&i(u)&&r.call(e,u,u,t,e)}else{u=e.get(t);i&&i(u)&&r.call(e,u,u,t,e)}return n}function n(e,t,n,s,a){function l(){u&&(u.remove(),u=null)}var u,h=!1,p=new r(l),c=new i;return c.cancel=p.cancel,c.isCanceled=p.isCanceled,c.isFulfilled=p.isFulfilled,c.isRejected=p.isRejected,c.isResolved=p.isResolved,c.then=p.then,c.remove=l,Object.freeze(c),u=o(e,t,function(t,r,i,o){h=!0,l(),n&&n.call(e,t,r,i,o),p.resolve({value:t,oldValue:r,propertyName:i,target:o})},s,a),h&&l(),c}function s(e){return!!e}function a(e){return!e}function l(e){return!0===e}function u(e){return!1===e}function h(e){return void 0!==e}function p(e){return void 0===e}function c(e,t,r,i){for(var o=Array.isArray(t)?t:t.indexOf(",")>-1?t.split(","):[t],n=d(e,t,r,i),s=0,a=o;s<a.length;s++){var l=a[s].trim(),u=e.get(l);r.call(e,u,u,l,e)}return n}function d(e,t,r,i){return e.watch(t,r,i)}Object.defineProperty(t,"__esModule",{value:!0}),t.init=c,t.watch=d,t.once=function(e,t,r,i){return n(e,t,r,null,i)},t.when=function(e,t,r,i){return o(e,t,r,s,i)},t.whenOnce=function(e,t,r,i){return n(e,t,r,s,i)},t.whenNot=function(e,t,r,i){return o(e,t,r,a,i)},t.whenNotOnce=function(e,t,r,i){return n(e,t,r,a,i)},t.whenTrue=function(e,t,r,i){return o(e,t,r,l,i)},t.whenTrueOnce=function(e,t,r,i){return n(e,t,r,l,i)},t.whenFalse=function(e,t,r,i){return o(e,t,r,u,i)},t.whenFalseOnce=function(e,t,r,i){return n(e,t,r,u,i)},t.whenDefined=function(e,t,r,i){return o(e,t,r,h,i)},t.whenDefinedOnce=function(e,t,r,i){return n(e,t,r,h,i)},t.whenUndefined=function(e,t,r,i){return o(e,t,r,p,i)},t.whenUndefinedOnce=function(e,t,r,i){return n(e,t,r,p,i)},t.pausable=function(e,t,r,i){var o=!1,n=e.watch(t,function(t,i,n,s){o||r.call(e,t,i,n,s)},i);return{remove:function(){n.remove()},pause:function(){o=!0},resume:function(){o=!1}}},t.on=function(e,t,r,i,o,n,s){function a(t){var i=l[t];i&&(n&&n(i.target,t,e,r),i.handle.remove(),delete l[t])}var l={},u=c(e,t,function(t,n,s){a(s),t&&"function"==typeof t.on&&(l[s]={handle:t.on(r,i),target:t},o&&o(t,s,e,r))},s);return{remove:function(){for(var e in u.remove(),l)a(e)}}}}.apply(null,i))||(e.exports=o)},450:function(e,t,r){var i,o;i=[r.dj.c(e.i),t,r(345),r(338),r(336),r(365),r(341),r(348),r(337),r(359),r(367),r(442),r(410),r(383),r(637)],void 0===(o=function(e,t,r,i,o,n,s,a,l,u,h,p,c,d,f){var y=a({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc"});return function(e){function t(t){var r=e.call(this)||this;return r.dpi=96,r.format=null,r.origin=null,r.minScale=0,r.maxScale=0,r.size=null,r.spatialReference=null,r}var s;return i(t,e),s=t,t.create=function(e){void 0===e&&(e={size:256,spatialReference:n.SpatialReference.WebMercator});var t=e.resolutionFactor||1,r=e.scales,i=e.size||256,o=e.spatialReference||n.SpatialReference.WebMercator,a=c.getInfo(o),l=a?new n.Point(a.origin[0],a.origin[1],o):new n.Point(0,0,o),u=1/(39.37*p.getMetersPerUnitForSR(o)*96),h=[];if(r)for(var d=0;d<r.length;d++){var f=(g=r[d])*u;h.push({level:d,scale:g,resolution:f})}else{var y=c.isGeographic(o)?512/i*147748799.285417:256/i*591657527.591555,v=Math.ceil(24/t);h.push({level:0,scale:y,resolution:y*u});for(d=1;d<v;d++){var g;f=(g=y/Math.pow(2,t))*u;h.push({level:d,scale:g,resolution:f}),y=g}}return new s({dpi:96,lods:h,origin:l,size:i,spatialReference:o})},Object.defineProperty(t.prototype,"isWrappable",{get:function(){var e=this.spatialReference,t=this.origin;if(e&&t){var r=c.getInfo(e);return e.isWrappable&&Math.abs(r.origin[0]-t.x)<=r.dx}return!1},enumerable:!0,configurable:!0}),t.prototype.readOrigin=function(e,t){return n.Point.fromJSON(r({spatialReference:t.spatialReference},e))},Object.defineProperty(t.prototype,"lods",{set:function(e){var t=this,r=0,i=0,o=[];this._levelToLOD={},e&&(r=-1/0,i=1/0,e.forEach(function(e){o.push(e.scale),r=e.scale>r?e.scale:r,i=e.scale<i?e.scale:i,t._levelToLOD[e.level]=e})),this._set("scales",o),this._set("minScale",r),this._set("maxScale",i),this._set("lods",e),this._initializeUpsampleLevels()},enumerable:!0,configurable:!0}),t.prototype.readSize=function(e,t){return[t.cols,t.rows]},t.prototype.writeSize=function(e,t){t.cols=e[0],t.rows=e[0]},t.prototype.zoomToScale=function(e){var t=this.scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];var r=Math.round(e-.5),i=Math.round(e);return t[i]+(i-e)*(t[r]-t[i])},t.prototype.scaleToZoom=function(e){for(var t=this.scales,r=t.length-1,i=0;i<r;i++){var o=t[i],n=t[i+1];if(o<=e)return i;if(n===e)return i+1;if(o>e&&n<e)return i+1-(e-n)/(o-n)}return i},t.prototype.snapScale=function(e,t){void 0===t&&(t=.95);var r=this.scaleToZoom(e);return r%Math.floor(r)>=t?this.zoomToScale(Math.ceil(r)):this.zoomToScale(Math.floor(r))},t.prototype.tileAt=function(e,t,r,i){var o,n,s=this.lodAt(e);if(!s)return null;if("number"==typeof t)o=t,n=r;else if(c.equals(t.spatialReference,this.spatialReference))o=t.x,n=t.y,i=r;else{var a=d.project(t,this.spatialReference);if(!a)return null;o=a.x,n=a.y,i=r}var l=s.resolution*this.size[0],u=s.resolution*this.size[1];return i||(i={id:null,level:0,row:0,col:0,extent:h.create()}),i.level=e,i.row=Math.floor((this.origin.y-n)/u+.001),i.col=Math.floor((o-this.origin.x)/l+.001),this.updateTileInfo(i),i},t.prototype.updateTileInfo=function(e){var t=this.lodAt(e.level);if(t){var r=t.resolution*this.size[0],i=t.resolution*this.size[1];e.id=e.level+"/"+e.row+"/"+e.col,e.extent||(e.extent=h.create()),e.extent[0]=this.origin.x+e.col*r,e.extent[1]=this.origin.y-(e.row+1)*i,e.extent[2]=e.extent[0]+r,e.extent[3]=e.extent[1]+i}},t.prototype.upsampleTile=function(e){var t=this._upsampleLevels[e.level];return!(!t||-1===t.parentLevel||(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),0))},t.prototype.getTileBounds=function(e,t){var r=this.lodAt(t.level).resolution,i=r*this.size[0],o=r*this.size[1];return e[0]=this.origin.x+t.col*i,e[1]=this.origin.y-(t.row+1)*o,e[2]=e[0]+i,e[3]=e[1]+o,e},t.prototype.lodAt=function(e){return this._levelToLOD&&this._levelToLOD[e]||null},t.prototype.clone=function(){return s.fromJSON(this.write({}))},t.prototype._initializeUpsampleLevels=function(){var e=this.lods;this._upsampleLevels=[];for(var t=null,r=0;r<e.length;r++){var i=e[r];this._upsampleLevels[i.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/i.resolution:0},t=i}},o([l.property({type:Number,json:{write:!0}})],t.prototype,"compressionQuality",void 0),o([l.property({type:Number,json:{write:!0}})],t.prototype,"dpi",void 0),o([l.property({type:String,json:{read:y.read,write:y.write}})],t.prototype,"format",void 0),o([l.property({readOnly:!0,dependsOn:["spatialReference","origin"]})],t.prototype,"isWrappable",null),o([l.property({type:n.Point,json:{write:!0}})],t.prototype,"origin",void 0),o([l.reader("origin")],t.prototype,"readOrigin",null),o([l.property({type:[f],value:null,json:{write:!0}})],t.prototype,"lods",null),o([l.property({readOnly:!0})],t.prototype,"minScale",void 0),o([l.property({readOnly:!0})],t.prototype,"maxScale",void 0),o([l.property({readOnly:!0})],t.prototype,"scales",void 0),o([l.property({cast:function(e){return Array.isArray(e)?e:"number"==typeof e?[e,e]:[256,256]}})],t.prototype,"size",void 0),o([l.reader("size",["rows","cols"])],t.prototype,"readSize",null),o([l.writer("size",{cols:{type:u.Integer},rows:{type:u.Integer}})],t.prototype,"writeSize",null),o([l.property({type:n.SpatialReference,json:{write:!0}})],t.prototype,"spatialReference",void 0),s=o([l.subclass("esri.layers.support.TileInfo")],t)}(l.declared(s))}.apply(null,i))||(e.exports=o)},456:function(e,t,r){var i,o;i=[r.dj.c(e.i),t,r(412)],void 0===(o=function(e,t,r){return function(){function e(e,t,r,i){this.set(e,t,r,i)}return e.from=function(t,r,i,o){return e.pool.acquire(t,r,i,o)},e.getId=function(e,t,r,i){return"object"==typeof e?e.level+"/"+e.row+"/"+e.col+"/"+e.world:e+"/"+t+"/"+r+"/"+i},Object.defineProperty(e.prototype,"key",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.toString()},enumerable:!0,configurable:!0}),e.prototype.equals=function(e){return this.level===e.level&&this.row===e.row&&this.col===e.col&&this.world===e.world},e.prototype.release=function(){this.level=0,this.row=0,this.col=0,this.world=0},e.prototype.set=function(e,t,r,i){if(null==e)this.level=0,this.row=0,this.col=0,this.world=0;else if("object"==typeof e)this.level=e.level||0,this.row=e.row||0,this.col=e.col||0,this.world=e.world||0;else if("string"==typeof e){var o=e.split("/"),n=o[0],s=o[1],a=o[2],l=o[3];this.level=parseFloat(n),this.row=parseFloat(s),this.col=parseFloat(a),this.world=parseFloat(l)}else this.level=+e,this.row=+t,this.col=+r,this.world=+i||0;return this},e.prototype.toString=function(){return this.level+"/"+this.row+"/"+this.col+"/"+this.world},e.prototype.getChildKeys=function(){var t=this.level+1,r=this.row<<1,i=this.col<<1,o=this.world;return[e.pool.acquire(t,r,i,o),e.pool.acquire(t,r,i+1,o),e.pool.acquire(t,r+1,i,o),e.pool.acquire(t,r+1,i+1,o)]},e.prototype._compare=function(e){return this.row<e.row?-1:this.row>e.row?1:this.col<e.col?-1:this.col>e.col?1:0},e.sort=function(t){return t.map(function(t){return e.from(t)}).sort(function(e,t){return e._compare(t)}).map(function(e){return e.id})},e.pool=new r(e,!0,null,25,50),e}()}.apply(null,i))||(e.exports=o)},637:function(e,t,r){var i,o;i=[r.dj.c(e.i),t,r(338),r(336),r(341),r(337),r(359)],void 0===(o=function(e,t,r,i,o,n,s){return function(e){function t(t){var r=e.call(this,t)||this;return r.level=0,r.levelValue=null,r.resolution=0,r.scale=0,r}var o;return r(t,e),o=t,t.prototype.clone=function(){return new o({level:this.level,levelValue:this.levelValue,resolution:this.resolution,scale:this.scale})},i([n.property({type:s.Integer,json:{write:!0}})],t.prototype,"level",void 0),i([n.property({type:String,json:{write:!0}})],t.prototype,"levelValue",void 0),i([n.property({type:Number,json:{write:!0}})],t.prototype,"resolution",void 0),i([n.property({type:Number,json:{write:!0}})],t.prototype,"scale",void 0),o=i([n.subclass("esri.layers.support.LOD")],t)}(n.declared(o))}.apply(null,i))||(e.exports=o)},664:function(e,t,r){var i,o;i=[r.dj.c(e.i),t,r(338),r(336),r(346),r(446),r(366),r(689),r(343),r(624),r(340),r(337)],void 0===(o=function(e,t,r,i,o,n,s,a,l,u,h,p){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handles=new s,t.layer=null,t.parent=null,t.view=null,t}return r(t,e),t.prototype.initialize=function(){var e=this;this.addResolvingPromise(this.layer),this.when().catch(function(t){if("layerview:create-error"!==t.name){var r=e.layer&&e.layer.id||"no id",i=e.layer&&e.layer.title||"no title";return l.getLogger(e.declaredClass).error("#resolve()","Failed to resolve layer view (layer title: '"+i+"', id: '"+r+"')",t),h.reject(t)}})},t.prototype.destroy=function(){this.layer=this.view=this.parent=null},Object.defineProperty(t.prototype,"suspended",{get:function(){return!this.canResume()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updating",{get:function(){return!this.suspended&&this.isUpdating()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return!0===this.get("layer.visible")},set:function(e){void 0!==e?this._override("visible",e):this._clearOverride("visible")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullOpacity",{get:function(){var e=function(e){return null!=e?e:1};return e(this.get("layer.opacity"))*e(this.get("parent.fullOpacity"))},enumerable:!0,configurable:!0}),t.prototype.canResume=function(){return!this.get("parent.suspended")&&this.get("view.ready")&&this.get("layer.loaded")&&this.visible||!1},t.prototype.isUpdating=function(){return!1},i([p.property()],t.prototype,"layer",void 0),i([p.property()],t.prototype,"parent",void 0),i([p.property({readOnly:!0,dependsOn:["view","visible","layer.loaded","parent.suspended"]})],t.prototype,"suspended",null),i([p.property({type:Boolean,dependsOn:["suspended"],readOnly:!0})],t.prototype,"updating",null),i([p.property()],t.prototype,"view",void 0),i([p.property({dependsOn:["layer.visible"]})],t.prototype,"visible",null),i([p.property({dependsOn:["layer.opacity","parent.fullOpacity"]})],t.prototype,"fullOpacity",null),i([p.subclass("esri.views.layers.LayerView")],t)}(p.declared(o,n,a,u))}.apply(null,i))||(e.exports=o)},683:function(e,t,r){var i,o;i=[r.dj.c(e.i),t,r(338),r(336),r(346),r(337)],void 0===(o=function(e,t,r,i,o,n){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.refreshTimestamp=null,t}return r(t,e),t.prototype.refresh=function(e){void 0===e&&(e=Date.now()),this._set("refreshTimestamp",e),this.doRefresh&&this.doRefresh()},i([n.property()],t.prototype,"layer",void 0),i([n.aliasOf("layer.refreshInterval")],t.prototype,"refreshInterval",void 0),i([n.property({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),i([n.subclass("esri.layers.mixins.RefreshableLayerView")],t)}(n.declared(o))}.apply(null,i))||(e.exports=o)},716:function(e,t,r){var i,o;i=[r.dj.c(e.i),t,r(347),r(728)],void 0===(o=function(e,t,r,i){var o;return function(e){e[e.BEFORE=0]="BEFORE",e[e.ATTACHING=1]="ATTACHING",e[e.DETACHING=2]="DETACHING",e[e.RENDERING=3]="RENDERING",e[e.AFTER=4]="AFTER",e[e.DONE=5]="DONE"}(o||(o={})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._childrenSet=new Set,t._childrenToAttach=[],t._childrenToDetach=[],t._renderPhase=o.DONE,t.children=[],t}return r(t,e),Object.defineProperty(t.prototype,"numChildren",{get:function(){return this.children.length},enumerable:!0,configurable:!0}),t.prototype.detach=function(e){for(var t=this.children.concat(this._childrenToDetach),r=this.prepareChildrenRenderParameters(e),i=0,o=t;i<o.length;i++){var n=o[i];n.attached&&(this.detachChild(n,r),n.attached=!1,n.parent=null)}},t.prototype.doRender=function(e){var t=this.prepareChildrenRenderParameters(e);this._renderPhase=o.BEFORE,this.beforeRenderChildren(e,t),this._renderPhase=o.ATTACHING,this.attachChildren(t),this._renderPhase=o.DETACHING;for(var r=this._childrenToDetach;r.length>0;){var i=r.shift();this.detachChild(i,t),i.attached=!1,i.parent=null}this._renderPhase=o.RENDERING,this.renderChildren(t),this._renderPhase=o.AFTER,this.afterRenderChildren(e,t),this._renderPhase=o.DONE},t.prototype.addChild=function(e){return this.addChildAt(e,this.children.length)},t.prototype.addChildAt=function(e,t){if(void 0===t&&(t=this.numChildren),!e)return e;if(this.contains(e))return e;var r=e.parent;r&&r!==this&&r.removeChild(e),t>=this.numChildren?this.children.push(e):this.children.splice(t,0,e),this._childrenSet.add(e);var i=this._childrenToDetach.indexOf(e);return i>-1&&this._childrenToDetach.splice(i,1),this._childrenToAttach.push(e),this._renderPhase>=o.RENDERING&&this.requestRender(),e},t.prototype.contains=function(e){return this._childrenSet.has(e)},t.prototype.getChildIndex=function(e){return this.children.indexOf(e)},t.prototype.getChildAt=function(e){return e<0||e>this.children.length?null:this.children[e]},t.prototype.removeAllChildren=function(){for(var e=this.numChildren;e--;)this.removeChildAt(0)},t.prototype.removeChild=function(e){return this.contains(e)?this.removeChildAt(this.getChildIndex(e)):e},t.prototype.removeChildAt=function(e){var t;if(e<0||e>=this.children.length)return null;if(t=this.children.splice(e,1)[0],function(e,t){e.delete(t)}(this._childrenSet,t),t.attached)this._childrenToDetach.push(t),this._renderPhase>=o.RENDERING&&this.requestRender();else{var r=this._childrenToAttach.indexOf(t);r>-1&&this._childrenToAttach.splice(r,1)}return t},t.prototype.requestChildRender=function(e){e&&e.parent===this&&this._renderPhase>=o.RENDERING&&this.requestRender()},t.prototype.setChildIndex=function(e,t){var r=this.getChildIndex(e);r>-1&&(this.children.splice(r,1),this.children.splice(t,0,e),this._renderPhase>=o.RENDERING&&this.requestRender())},t.prototype.sortChildren=function(e){return this._renderPhase>o.RENDERING&&this.requestRender(),this.children.sort(e)},t.prototype.attachChildren=function(e){var t=this._childrenToAttach;if(0!==t.length)for(var r=0,i=!1;!i;){var o=t[r];this.attachChild(o,e)?(o.attached=!0,o.parent=this,t.splice(r,1)):++r,i=t.length===r}},t.prototype.renderChildren=function(e){for(var t=this.children,r=t.length,i=0;i<r;i++){var o=t[i];o.attached&&this.renderChild(o,e)}},t.prototype.beforeRenderChildren=function(e,t){},t.prototype.attachChild=function(e,t){return e.attach(t)},t.prototype.detachChild=function(e,t){e.detach(t)},t.prototype.renderChild=function(e,t){e.processRender(t)},t.prototype.afterRenderChildren=function(e,t){},t}(i)}.apply(null,i))||(e.exports=o)},728:function(e,t,r){var i,o;i=[r.dj.c(e.i),t,r(347),r(787)],void 0===(o=function(e,t,r,i){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._renderRequestedCalled=!1,t._attached=!1,t._opacity=1,t.renderRequested=!1,t._visible=!0,t}return r(t,e),Object.defineProperty(t.prototype,"attached",{get:function(){return this._attached},set:function(e){this._attached!==e&&(this._attached=e,e?this.hasEventListener("attach")&&this.emit("attach"):this.hasEventListener("detach")&&this.emit("detach"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){this._opacity!==e&&(this._opacity=e,this.requestRender())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(e){this._visible!==e&&(this._visible=e,this.requestRender())},enumerable:!0,configurable:!0}),t.prototype.attach=function(e){return!0},t.prototype.detach=function(e){},t.prototype.processRender=function(e){this._renderRequestedCalled=!1,this.doRender(e),this._renderRequestedCalled||(this.renderRequested=!1),this.hasEventListener("post-render")&&this.emit("post-render")},t.prototype.requestRender=function(){var e=this.renderRequested;this._renderRequestedCalled=!0,this.renderRequested=!0,this.parent&&this.parent.requestChildRender(this),e!==this.renderRequested&&this.hasEventListener("will-render")&&this.emit("will-render")},t.prototype.dispose=function(){},t}(i.Evented)}.apply(null,i))||(e.exports=o)},733:function(e,t,r){var i,o;i=[r.dj.c(e.i),t,r(412)],void 0===(o=function(e,t,r){return function(){function e(e,t,r){this.row=e,this.colFrom=t,this.colTo=r}return e.pool=new r(e,!0),e}()}.apply(null,i))||(e.exports=o)},766:function(e,t,r){var i,o;i=[r.dj.c(e.i),t,r(410),r(834),r(835),r(456),r(733)],void 0===(o=function(e,t,r,i,o,n,s){var a=new n("0/0/0/0"),l=function(){function e(e,t,r,i,o,n,s,a){this.x=e,this.ymin=t,this.ymax=r,this.invM=i,this.leftAdjust=o,this.rightAdjust=n,this.leftBound=s,this.rightBound=a}return e.create=function(t,r){var i;t[1]>r[1]&&(t=(i=[r,t])[0],r=i[1]);var o=t[0],n=t[1],s=r[0],a=r[1],l=s-o,u=a-n,h=0!==u?l/u:0,p=(Math.ceil(n)-n)*h,c=(Math.floor(n)-n)*h;return new e(o,Math.floor(n),Math.ceil(a),h,l<0?p:c,l<0?c:p,l<0?s:o,l<0?o:s)},e.prototype.incrRow=function(){this.x+=this.invM},e.prototype.getLeftCol=function(){return Math.max(this.x+this.leftAdjust,this.leftBound)},e.prototype.getRightCol=function(){return Math.min(this.x+this.rightAdjust,this.rightBound)},e}(),u=[[0,0],[0,0],[0,0],[0,0]];return function(){function e(e,t){var r=this;this.tileInfo=e,this.fullExtent=t,this.scales=[],this._lodInfos=null,this._infoByScale={},this._infoByLevel={};var o=e.lods.slice();o.sort(function(e,t){return t.scale-e.scale});var n=this._lodInfos=o.map(function(r){return i.create(e,r,t)});o.forEach(function(e,t){r._infoByLevel[e.level]=n[t],r._infoByScale[e.scale]=n[t],r.scales[t]=e.scale},this),this._wrap=e.isWrappable}return e.prototype.getLODInfoAt=function(e){return this._infoByLevel[e.level]},e.prototype.getTileBounds=function(e,t,r){void 0===r&&(r=!1),a.set(t);var i=this._infoByLevel[a.level];return i?i.getTileBounds(e,a,r):e},e.prototype.getTileCoords=function(e,t,r){void 0===r&&(r=!1),a.set(t);var i=this._infoByLevel[a.level];return i?i.getTileCoords(e,a,r):e},e.prototype.getTileCoverage=function(e,t){void 0===t&&(t=192);var r,i,n,a=this.getClosestInfoForScale(e.scale),h=o.pool.acquire(a),p=this._wrap,c=1/0,d=-1/0,f=h.spans;u[0][0]=u[0][1]=u[1][1]=u[3][0]=-t,u[1][0]=u[2][0]=e.size[0]+t,u[2][1]=u[3][1]=e.size[1]+t;for(var y=0,v=u;y<v.length;y++){var g=v[y];e.toMap(g,g),g[0]=a.getColumnForX(g[0]),g[1]=a.getRowForY(g[1])}for(var m=[],w=3,_=0;_<4;_++)if(u[_][1]!==u[w][1]){var R=l.create(u[_],u[w]);c=Math.min(R.ymin,c),d=Math.max(R.ymax,d),void 0===m[R.ymin]&&(m[R.ymin]=[]),m[R.ymin].push(R),w=_}else w=_;if(null==c||null==d||d-c>100)return null;var b=[];for(r=c;r<d;){null!=m[r]&&(b=b.concat(m[r])),i=1/0,n=-1/0;for(_=b.length-1;_>=0;_--){R=b[_];i=Math.min(i,R.getLeftCol()),n=Math.max(n,R.getRightCol())}if(i=Math.floor(i),n=Math.floor(n),r>=a.first[1]&&r<=a.last[1])if(p)if(a.size[0]<a.worldSize[0]){var x=Math.floor(n/a.worldSize[0]);for(_=Math.floor(i/a.worldSize[0]);_<=x;_++)f.push(new s(r,Math.max(a.getFirstColumnForWorld(_),i),Math.min(a.getLastColumnForWorld(_),n)))}else f.push(new s(r,i,n));else i>a.last[0]||n<a.first[0]||(i=Math.max(i,a.first[0]),n=Math.min(n,a.last[0]),f.push(new s(r,i,n)));r+=1;for(_=b.length-1;_>=0;_--){(R=b[_]).ymax>=r?R.incrRow():b.splice(_,1)}}return h},e.prototype.getTileIdAtParent=function(e,t){var r=n.pool.acquire(t),i=this._infoByLevel[r.level];if(e.resolution<i.resolution)throw new Error("Cannot calculate parent tile. destination LOD's resolution "+e.resolution+" is not a parent resolution of "+i.resolution);if(e.resolution===i.resolution)return r.id;var o=Math.floor(r.col*i.resolution/e.resolution+.01),s=Math.floor(r.row*i.resolution/e.resolution+.01);return n.getId(e.level,s,o,r.world)},e.prototype.getTileParentId=function(e){var t=n.pool.acquire(e),r=this._infoByLevel[t.level],i=this._lodInfos.indexOf(r)-1;if(i<0)return n.pool.release(t),null;var o=this._lodInfos[i],s=this.getTileIdAtParent(o,t);return n.pool.release(t),s},e.prototype.getTileResolution=function(e){var t=this._infoByLevel["object"==typeof e?e.level:e];return t?t.resolution:-1},e.prototype.getTileScale=function(e){var t=this._infoByLevel[e.level];return t?t.scale:-1},e.prototype.intersects=function(e,t){var r=n.pool.acquire(t),i=this._infoByLevel[r.level],o=e.lodInfo;if(o.resolution>i.resolution){var s=n.pool.acquire(this.getTileIdAtParent(o,r)),a=o.denormalizeCol(s.col,s.world),l=e.spans.some(function(e){return e.row===s.row&&e.colFrom<=a&&e.colTo>=a});return n.pool.release(r),n.pool.release(s),l}if(o.resolution<i.resolution){var u=e.spans.reduce(function(e,t){return e[0]=Math.min(e[0],t.row),e[1]=Math.max(e[1],t.row),e[2]=Math.min(e[2],t.colFrom),e[3]=Math.max(e[3],t.colTo),e},[1/0,-1/0,1/0,-1/0]),h=u[0],p=u[1],c=u[2],d=u[3],f=i.denormalizeCol(r.col,r.world),y=o.getColumnForX(i.getXForColumn(f)),v=o.getRowForY(i.getYForRow(r.row)),g=o.getColumnForX(i.getXForColumn(f+1))-1,m=o.getRowForY(i.getYForRow(r.row+1))-1;return n.pool.release(r),!(y>d||g<c||v>p||m<h)}var w=o.denormalizeCol(r.col,r.world),_=e.spans.some(function(e){return e.row===r.row&&e.colFrom<=w&&e.colTo>=w});return n.pool.release(r),_},e.prototype.normalizeBounds=function(e,t,i){if(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],this._wrap){var o=r.getInfo(this.tileInfo.spatialReference),n=-i*(o.valid[1]-o.valid[0]);e[0]+=n,e[2]+=n}return e},e.prototype.getClosestInfoForScale=function(e){var t=this.scales;return this._infoByScale[e]?this._infoByScale[e]:(e=t.reduce(function(t,r,i,o){return Math.abs(r-e)<Math.abs(t-e)?r:t},t[0]),this._infoByScale[e])},e.prototype.scaleToLevel=function(e){var t=this.scales;if(this._infoByScale[e])return this._infoByScale[e].level;for(var r=t.length-1;r>=0;r--)if(e<t[r]){return r===t.length-1?this._infoByScale[t[t.length-1]].level:this._infoByScale[t[r]].level+(t[r]-e)/(t[r]-t[r+1])}return this._infoByScale[t[0]].level},e}()}.apply(null,i))||(e.exports=o)},787:function(e,t,r){var i,o;i=[r.dj.c(e.i),t,r(347),r(436),r(409)],void 0===(o=function(e,t,r,i,o){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.on=function(e,t){return i.after(this,"on"+e,t,!0)},e.prototype.once=function(e,t){return o.once(this,e,t)},e.prototype.emit=function(e){o.emit(this,e,this)},e.prototype.hasEventListener=function(e){var t="on"+e;return!(!this[t]||!this[t].after)},e}();t.Evented=n,t.EventedMixin=function(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.on=function(e,t){return i.after(this,"on"+e,t,!0)},t.prototype.once=function(e,t){return o.once(this,e,t)},t.prototype.emit=function(e,t){o.emit(this,e,t)},t.prototype.hasEventListener=function(e){var t="on"+e;return!(!this[t]||!this[t].after)},t}(e)}}.apply(null,i))||(e.exports=o)},790:function(e,t,r){var i,o;i=[r.dj.c(e.i),t,r(347),r(336),r(374),r(337),r(664)],void 0===(o=function(e,t,r,i,o,n,s){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.attached=!1,t.lastUpdateId=-1,t.moving=!1,t.updateRequested=!1,t}return r(t,e),t.prototype.initialize=function(){var e=this;this.when(function(){e.requestUpdate()}),o.init(this,"suspended",function(t){e.container.visible=!t,!t&&e.updateRequested&&e.view.requestLayerViewUpdate(e)},!0),o.init(this,"fullOpacity",function(t){e.container.opacity=t},!0);var t=function(){this.notifyChange("rendering")}.bind(this);this.container.on("post-render",t),this.container.on("will-render",t)},t.prototype.destroy=function(){this.attached&&(this.attached=!1,this.detach()),this.updateRequested=!1,this.layer=null},Object.defineProperty(t.prototype,"rendering",{get:function(){return this.isRendering()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updating",{get:function(){return!this.suspended&&(!this.attached||this.updateRequested||this.isUpdating())},enumerable:!0,configurable:!0}),t.prototype.requestUpdate=function(){this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestLayerViewUpdate(this))},t.prototype.processUpdate=function(e){!this.isFulfilled()||this.isResolved()?(this._set("updateParameters",e),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(e))):this.updateRequested=!1},t.prototype.isUpdating=function(){return!1},t.prototype.isRendering=function(){return this.attached&&(this.moving||this.container.renderRequested)},t.prototype.canResume=function(){var e=this.inherited(arguments),t=this.layer;if(e&&null!=t.minScale&&null!=t.minScale){var r=this.view.scale,i=t.minScale,o=t.maxScale,n=!i,s=!o;!n&&r<=i&&(n=!0),!s&&r>=o&&(s=!0),e=n&&s}return e},i([n.property()],t.prototype,"attached",void 0),i([n.property()],t.prototype,"container",void 0),i([n.property()],t.prototype,"moving",void 0),i([n.property({dependsOn:["moving"]})],t.prototype,"rendering",null),i([n.property({dependsOn:["view.scale","layer.minScale","layer.maxScale"]})],t.prototype,"suspended",void 0),i([n.property({readOnly:!0})],t.prototype,"updateParameters",void 0),i([n.property()],t.prototype,"updateRequested",void 0),i([n.property({dependsOn:["updateRequested","attached"]})],t.prototype,"updating",null),i([n.property()],t.prototype,"view",void 0),i([n.subclass("esri.views.2d.layers.LayerView2D")],t)}(n.declared(s))}.apply(null,i))||(e.exports=o)},834:function(e,t,r){var i,o;i=[r.dj.c(e.i),t,r(410),r(456)],void 0===(o=function(e,t,r,i){function o(e,t){return[e,t]}function n(e,t,r){return e[0]=t,e[1]=r,e}var s=new i("0/0/0/0");return function(){function e(e,t,r,i,o,n,s,a,l,u,h,p){this.level=e,this.resolution=t,this.scale=r,this.origin=i,this.first=o,this.last=n,this.size=s,this.norm=a,this.worldStart=l,this.worldEnd=u,this.worldSize=h,this.wrap=p}return e.create=function(t,i,s){var a,l,u,h,p=r.getInfo(t.spatialReference),c=o(t.origin.x,t.origin.y),d=o(t.size[0]*i.resolution,t.size[1]*i.resolution),f=o(-1/0,-1/0),y=o(1/0,1/0),v=o(1/0,1/0);return s&&(n(f,Math.max(0,Math.floor((s.xmin-c[0])/d[0])),Math.max(0,Math.floor((c[1]-s.ymax)/d[1]))),n(y,Math.max(0,Math.floor((s.xmax-c[0])/d[0])),Math.max(0,Math.floor((c[1]-s.ymin)/d[1]))),n(v,y[0]-f[0]+1,y[1]-f[1]+1)),t.isWrappable?(a=o(Math.ceil(Math.round(2*p.origin[1]/i.resolution)/t.size[0]),v[1]),l=o(Math.floor((p.origin[0]-c[0])/d[0]),f[1]),u=o(a[0]+l[0]-1,y[1]),h=!0):(l=f,u=y,a=v,h=!1),new e(i.level,i.resolution,i.scale,c,f,y,v,d,l,u,a,h)},e.prototype.normalizeCol=function(e){if(!this.wrap)return e;var t=this.worldSize[0];return e<0?t-1-Math.abs((e+1)%t):e%t},e.prototype.denormalizeCol=function(e,t){return this.wrap?this.worldSize[0]*t+e:e},e.prototype.getWorldForColumn=function(e){return this.wrap?Math.floor(e/this.worldSize[0]):0},e.prototype.getFirstColumnForWorld=function(e){return e*this.worldSize[0]+this.first[0]},e.prototype.getLastColumnForWorld=function(e){return e*this.worldSize[0]+this.first[0]+this.size[0]-1},e.prototype.getColumnForX=function(e){return(e-this.origin[0])/this.norm[0]},e.prototype.getXForColumn=function(e){return this.origin[0]+e*this.norm[0]},e.prototype.getRowForY=function(e){return(this.origin[1]-e)/this.norm[1]},e.prototype.getYForRow=function(e){return this.origin[1]-e*this.norm[1]},e.prototype.getTileBounds=function(e,t,r){void 0===r&&(r=!1),s.set(t);var i=r?s.col:this.denormalizeCol(s.col,s.world),o=s.row;return function(e,t,r,i,o){e[0]=t,e[1]=r,e[2]=i,e[3]=o}(e,this.getXForColumn(i),this.getYForRow(o+1),this.getXForColumn(i+1),this.getYForRow(o)),e},e.prototype.getTileCoords=function(e,t,r){void 0===r&&(r=!1),s.set(t);var i=r?s.col:this.denormalizeCol(s.col,s.world);return Array.isArray(e)?n(e,this.getXForColumn(i),this.getYForRow(s.row)):(e.x=this.getXForColumn(i),e.y=this.getYForRow(s.row)),e},e}()}.apply(null,i))||(e.exports=o)},835:function(e,t,r){var i,o;i=[r.dj.c(e.i),t,r(718),r(412),r(733)],void 0===(o=function(e,t,r,i,o){return function(){function e(e){this.lodInfo=e,this.spans=r.acquire()}return e.prototype.release=function(){for(var e=0,t=this.spans;e<t.length;e++){var i=t[e];o.pool.release(i)}r.release(this.spans)},e.prototype.forEach=function(e,t){var r=this.spans,i=this.lodInfo,o=i.level;if(0!==r.length)for(var n=0,s=r;n<s.length;n++)for(var a=s[n],l=a.row,u=a.colFrom,h=a.colTo,p=u;p<=h;p++)e.call(t,o,l,i.normalizeCol(p),i.getWorldForColumn(p))},e.pool=new i(e,!0),e}()}.apply(null,i))||(e.exports=o)}}]);