(function(){(this||window).webpackJsonp.registerAbsMids({"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/symbols/support/styleUtils":632})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[103],{632:function(e,t,r){var n,l;n=[r.dj.c(e.i),t,r(351),r(435),r(342),r(340),r(350),r(408),r(655),r(363),r(763),r(750)],void 0===(l=function(e,t,r,n,l,a,o,s,i,u,y,m){function f(e,t){return t.load().then(function(){var r=new i({disableExtraQuery:!0,query:"owner:"+h+" AND type:"+w+' AND typekeywords:"'+e+'"'});return t.queryItems(r)}).then(function(t){var r=t.results,n=null,a=e.toLowerCase();if(r&&Array.isArray(r))for(var o=0,s=r;o<s.length;o++){var i=s[o];if(i.typeKeywords.some(function(e){return e.toLowerCase()===a})&&i.type===w&&i.owner===h){n=i;break}}if(n)return n.load();throw new l("symbolstyleutils:style-not-found","The style '"+e+"' could not be found",{styleName:e})})}function c(e,t){return e.styleUrl?function(e,t){return d(e).then(function(t){return{data:t.data,baseUrl:o.removeFile(e),styleUrl:e}})}(e.styleUrl):e.styleName?function(e,t){var r,n=t.portal||s.getDefault(),l=n.url+" - "+(n.user&&n.user.username)+" - "+e;return p[l]||(p[l]=f(e,n).then(function(e){return r=e,e.fetchData()}).then(function(t){return{data:t,baseUrl:r.itemUrl,styleName:e}})),p[l]}(e.styleName,t):a.reject(new l("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function b(e,t,r){for(var s=e.data,i={portal:r.portal,url:o.urlToObject(e.baseUrl),origin:"portal-item"},f=0,c=s.items;f<c.length;f++){var b=function(l){if(l.name!==t)return"continue";var a=o.read(l.webRef,i),s={portal:r.portal,url:o.urlToObject(o.removeFile(a)),origin:"portal-item"};return{value:d(a).then(function(a){var f=u.fromJSON(a.data,s);if(f&&f.isInstanceOf(n.BaseSymbol3D)){if(l.thumbnail)if(l.thumbnail.href){var c=o.read(l.thumbnail.href,i);f.thumbnail=new m.default({url:c})}else l.thumbnail.imageData&&(f.thumbnail=new m.default({url:"data:image/png;base64,"+l.thumbnail.imageData}));e.styleUrl?f.styleOrigin=new y({portal:r.portal,styleUrl:e.styleUrl,name:t}):e.styleName&&(f.styleOrigin=new y({portal:r.portal,styleName:e.styleName,name:t}))}return f})}}(c[f]);if("object"==typeof b)return b.value}return a.reject(new l("symbolstyleutils:symbol-name-not-found","The symbol name '"+t+"' could not be found",{symbolName:t}))}function d(e){var t={responseType:"json",query:{f:"json"}};return r(o.normalize(e),t)}Object.defineProperty(t,"__esModule",{value:!0});var p={};t.fetchStyle=c,t.resolveWebStyleSymbol=function(e,t){return e.name?c(e,t).then(function(r){return b(r,e.name,t)}):a.reject(new l("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))},t.fetchSymbolFromStyle=b,t.styleNameFromItem=function(e){for(var t=0,r=e.typeKeywords;t<r.length;t++){var n=r[t];if(/^Esri.*Style$/.test(n)&&"Esri Style"!==n)return n}};var h="esri_en",w="Style"}.apply(null,n))||(e.exports=l)}}]);