(function(){(this||window).webpackJsonp.registerAbsMids({"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/core/watchUtils":377,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/layers/LayerView":649,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/libs/gl-matrix/common":655,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/libs/gl-matrix/vec2":683,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/libs/gl-matrix/mat2d":733,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/layers/LayerView2D":768,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/viewpointUtils":805,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/Viewpoint":885,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/Camera":1009,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/renderers/support/renderingInfoUtils":1010,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/layers/support/FeaturesView2D":1418})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{1009:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(337),r(335),r(340),r(336),r(404),r(359)],void 0===(i=function(e,t,r,n,i,o,a,s){return function(e){function t(t,r,n,i){var o=e.call(this)||this;return o.position=null,o.heading=0,o.tilt=0,o.fov=55,o}var i;return r(t,e),i=t,t.prototype.getDefaults=function(e){if(!e.position)return{position:new a([0,0,0])}},t.prototype.normalizeCtorArgs=function(e,t,r,n){if(e&&"object"==typeof e&&("x"in e||Array.isArray(e))){var i={position:e};return null!=t&&(i.heading=t),null!=r&&(i.tilt=r),null!=n&&(i.fov=n),i}return e},t.prototype.equals=function(e){return!!e&&this.tilt===e.tilt&&this.heading===e.heading&&this.fov===e.fov&&this.position.equals(e.position)},t.prototype.clone=function(){return new i({position:this.position.clone(),heading:this.heading,tilt:this.tilt,fov:this.fov})},n([o.property({type:a,json:{write:{isRequired:!0}}})],t.prototype,"position",void 0),n([o.property({type:Number,json:{write:{isRequired:!0}}}),o.cast(function(e){return s.cyclicalDeg.normalize(e)})],t.prototype,"heading",void 0),n([o.property({type:Number,json:{write:{isRequired:!0}}}),o.cast(function(e){return s.clamp(e,-180,180)})],t.prototype,"tilt",void 0),n([o.property({json:{read:!1,write:!1}})],t.prototype,"fov",void 0),i=n([o.subclass("esri.Camera")],t)}(o.declared(i))}.apply(null,n))||(e.exports=i)},1010:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=function(e,t){function r(e,t){if(!e||e.symbol)return null;var r=t.renderer;return e&&r&&r.getObservationRenderer?r.getObservationRenderer(e):r}function n(e,t){if(e.symbol)return e.symbol;var n=r(e,t);return n&&n.getSymbol(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.getRenderer=r,t.getSymbol=n,t.getRenderingInfo=function(e,t){var i=r(e,t),o=n(e,t);if(!o)return null;var a={renderer:i,symbol:o};if(i){if(i.colorInfo&&(a.color=i.getColor(e).toRgba()),i.sizeInfo){var s=i.getSize(e);a.size=[s,s,s]}if(i.visualVariables){s=["proportional","proportional","proportional"];for(var u=0,c=i.getVisualVariableValues(e,t);u<c.length;u++){var l=c[u],p=l.variable,d=l.value;if("color"===p.type)a.color=d.toRgba();else if("size"===p.type)if("outline"===p.target)a.outlineSize=d;else{var f=p.axis,y=p.useSymbolValue?"symbolValue":d;"width"===f?s[0]=y:"depth"===f?s[1]=y:"height"===f?s[2]=y:s[0]=s[1]="width-and-depth"===f?y:s[2]=y}else"opacity"===p.type?a.opacity=d:"rotation"===p.type&&"tilt"===p.axis?a.tilt=d:"rotation"===p.type&&"roll"===p.axis?a.roll=d:"rotation"===p.type&&(a.heading=d)}(isFinite(s[0])||isFinite(s[1])||isFinite(s[2]))&&(a.size=s)}}return a}}.apply(null,n))||(e.exports=i)},1418:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(337),r(335),r(383),r(357),r(365),r(343),r(339),r(336),r(1010),r(756),r(1300),r(1301),r(1302),r(1306)],void 0===(i=function(e,t,r,n,i,o,a,s,u,c,l,p,d,f,y,h){var v=s.getLogger("esri.views.2d.layers.support.FeaturesView2D");return function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=e.apply(this,t)||this;return n._handles=new a,n._backgroundGroup=new d,n._frontGroup=new d,n._frontObjects=new Map,n._backgroundObjects=new Map,n._scale=0,n.container=new y,n.layer=null,n.container.addChild(n._backgroundGroup),n.container.addChild(n._frontGroup),n.watch("graphics",function(){return n._reset()}),n.watch("renderer",function(){return n._resymbolize()}),n.watch("mapView.scale, mapView.stationary",function(){return n._applyScale()}),n}return r(t,e),t.prototype.destroy=function(){this.graphics=null,this.renderer=null},t.prototype.hitTest=function(e,t){e+=this.mapView.position[0]-window.pageXOffset,t+=this.mapView.position[1]-window.pageYOffset;var r=this.container.hitTest(e,t);return r?u.resolve(r.graphic):u.resolve()},t.prototype.graphicUpdateHandler=function(e){},t.prototype._reset=function(){var e=this;this._handles.remove("graphics"),this.graphics&&(this.graphics.forEach(this._add,this),this._handles.add(this.graphics.on("change",function(t){return e._graphicsChangeHandler(t)}),"graphics"))},t.prototype._applyScale=function(){var e=this.get("mapView.scale"),t=this.get("mapView.stationary");e!==this._scale&&t&&(this._scale=e,this._resymbolize())},t.prototype._resymbolize=function(){var e=this;this.graphics&&this.graphics.forEach(function(t){return e._resymbolizeGraphic(t)})},t.prototype._add=function(e){if(e&&!this._frontObjects.has(e)){var t=l.getRenderingInfo(e,{renderer:this.renderer,viewingMode:"map",scale:this.mapView.state.scale,resolution:this.mapView.state.resolution,spatialReference:this.mapView.spatialReference});if(t){if(t.symbol instanceof p)return void v.error("3D symbols are not supported with MapView");var r=new f;r.graphic=e,r.renderingInfo=t,this._frontObjects.set(e,r),this._frontGroup.addChild(r);var n=t.renderer&&t.renderer.backgroundFillSymbol;if(n&&r.isPolygonMarkerSymbol){var i=new f;i.graphic=e,null!=t.outlineSize?i.renderingInfo={symbol:n,size:[t.outlineSize,t.outlineSize,t.outlineSize]}:i.renderingInfo={symbol:n},this._backgroundObjects.set(e,i),this._backgroundGroup.addChild(i)}}}},t.prototype._remove=function(e){var t=this._frontObjects.get(e);if(t&&(this._frontObjects.delete(e),this._frontGroup.removeChild(t),this._backgroundObjects.has(e))){var r=this._backgroundObjects.get(e);this._backgroundObjects.delete(e),this._backgroundGroup.removeChild(r)}},t.prototype._resymbolizeGraphic=function(e){if(this._frontObjects.has(e)){var t=l.getRenderingInfo(e,{renderer:this.renderer,viewingMode:"map",scale:this.mapView.state.scale,resolution:this.mapView.state.resolution,spatialReference:this.mapView.spatialReference});if(t){if(t.symbol instanceof p)return void v.error("3D symbols are not supported with MapView");var r=this._frontObjects.get(e);r&&(r.renderingInfo=t);var n=t.renderer&&t.renderer.backgroundFillSymbol,i=this._backgroundObjects.get(e);n&&r.isPolygonMarkerSymbol?(i||((i=new f).graphic=e,this._backgroundObjects.set(e,i),this._backgroundGroup.addChild(i)),null!=t.outlineSize?i.renderingInfo={symbol:n,size:[t.outlineSize,t.outlineSize,t.outlineSize]}:i.renderingInfo={symbol:n}):!n&&i&&(this._backgroundObjects.delete(e),this._backgroundGroup.removeChild(i))}}},t.prototype._graphicsChangeHandler=function(e){for(var t=e.added,r=e.removed,n=0,i=t;n<i.length;n++){var o=i[n];this._add(o)}for(var a=0,s=r;a<s.length;a++){o=s[a];this._remove(o)}},n([c.property()],t.prototype,"container",void 0),n([c.property(),c.cast(o.ofType(i))],t.prototype,"graphics",void 0),n([c.property()],t.prototype,"layer",void 0),n([c.property()],t.prototype,"mapView",void 0),n([c.subclass("esri.views.2d.layers.support.FeaturesView2D")],t)}(c.declared(h))}.apply(null,n))||(e.exports=i)},377:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(380),r(631)],void 0===(i=function(e,t,r,n){function i(e,t,r,n,i){var o=e.watch(t,function(t,i,o,a){n&&!n(t)||r.call(e,t,i,o,a)},i);if(Array.isArray(t))for(var a=0,s=t;a<s.length;a++){var u=s[a],c=e.get(u);n&&n(c)&&r.call(e,c,c,t,e)}else{c=e.get(t);n&&n(c)&&r.call(e,c,c,t,e)}return o}function o(e,t,o,a,s){function u(){c&&(c.remove(),c=null)}var c,l=!1,p=new r(u),d=new n;return d.cancel=p.cancel,d.isCanceled=p.isCanceled,d.isFulfilled=p.isFulfilled,d.isRejected=p.isRejected,d.isResolved=p.isResolved,d.then=p.then,d.remove=u,Object.freeze(d),c=i(e,t,function(t,r,n,i){l=!0,u(),o&&o.call(e,t,r,n,i),p.resolve({value:t,oldValue:r,propertyName:n,target:i})},a,s),l&&u(),d}function a(e){return!!e}function s(e){return!e}function u(e){return!0===e}function c(e){return!1===e}function l(e){return void 0!==e}function p(e){return void 0===e}function d(e,t,r,n){for(var i=Array.isArray(t)?t:t.indexOf(",")>-1?t.split(","):[t],o=f(e,t,r,n),a=0,s=i;a<s.length;a++){var u=s[a].trim(),c=e.get(u);r.call(e,c,c,u,e)}return o}function f(e,t,r,n){return e.watch(t,r,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.init=d,t.watch=f,t.once=function(e,t,r,n){return o(e,t,r,null,n)},t.when=function(e,t,r,n){return i(e,t,r,a,n)},t.whenOnce=function(e,t,r,n){return o(e,t,r,a,n)},t.whenNot=function(e,t,r,n){return i(e,t,r,s,n)},t.whenNotOnce=function(e,t,r,n){return o(e,t,r,s,n)},t.whenTrue=function(e,t,r,n){return i(e,t,r,u,n)},t.whenTrueOnce=function(e,t,r,n){return o(e,t,r,u,n)},t.whenFalse=function(e,t,r,n){return i(e,t,r,c,n)},t.whenFalseOnce=function(e,t,r,n){return o(e,t,r,c,n)},t.whenDefined=function(e,t,r,n){return i(e,t,r,l,n)},t.whenDefinedOnce=function(e,t,r,n){return o(e,t,r,l,n)},t.whenUndefined=function(e,t,r,n){return i(e,t,r,p,n)},t.whenUndefinedOnce=function(e,t,r,n){return o(e,t,r,p,n)},t.pausable=function(e,t,r,n){var i=!1,o=e.watch(t,function(t,n,o,a){i||r.call(e,t,n,o,a)},n);return{remove:function(){o.remove()},pause:function(){i=!0},resume:function(){i=!1}}},t.on=function(e,t,r,n,i,o,a){function s(t){var n=u[t];n&&(o&&o(n.target,t,e,r),n.handle.remove(),delete u[t])}var u={},c=d(e,t,function(t,o,a){s(a),t&&"function"==typeof t.on&&(u[a]={handle:t.on(r,n),target:t},i&&i(t,a,e,r))},a);return{remove:function(){for(var e in c.remove(),u)s(e)}}}}.apply(null,n))||(e.exports=i)},649:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(337),r(335),r(346),r(449),r(365),r(694),r(343),r(624),r(339),r(336)],void 0===(i=function(e,t,r,n,i,o,a,s,u,c,l,p){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handles=new a,t.layer=null,t.parent=null,t.view=null,t}return r(t,e),t.prototype.initialize=function(){var e=this;this.addResolvingPromise(this.layer),this.when().catch(function(t){if("layerview:create-error"!==t.name){var r=e.layer&&e.layer.id||"no id",n=e.layer&&e.layer.title||"no title";return u.getLogger(e.declaredClass).error("#resolve()","Failed to resolve layer view (layer title: '"+n+"', id: '"+r+"')",t),l.reject(t)}})},t.prototype.destroy=function(){this.layer=this.view=this.parent=null},Object.defineProperty(t.prototype,"suspended",{get:function(){return!this.canResume()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updating",{get:function(){return!this.suspended&&this.isUpdating()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return!0===this.get("layer.visible")},set:function(e){void 0!==e?this._override("visible",e):this._clearOverride("visible")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullOpacity",{get:function(){var e=function(e){return null!=e?e:1};return e(this.get("layer.opacity"))*e(this.get("parent.fullOpacity"))},enumerable:!0,configurable:!0}),t.prototype.canResume=function(){return!this.get("parent.suspended")&&this.get("view.ready")&&this.get("layer.loaded")&&this.visible||!1},t.prototype.isUpdating=function(){return!1},n([p.property()],t.prototype,"layer",void 0),n([p.property()],t.prototype,"parent",void 0),n([p.property({readOnly:!0,dependsOn:["view","visible","layer.loaded","parent.suspended"]})],t.prototype,"suspended",null),n([p.property({type:Boolean,dependsOn:["suspended"],readOnly:!0})],t.prototype,"updating",null),n([p.property()],t.prototype,"view",void 0),n([p.property({dependsOn:["layer.visible"]})],t.prototype,"visible",null),n([p.property({dependsOn:["layer.opacity","parent.fullOpacity"]})],t.prototype,"fullOpacity",null),n([p.subclass("esri.views.layers.LayerView")],t)}(p.declared(i,o,s,c))}.apply(null,n))||(e.exports=i)},655:function(e,t,r){var n;void 0===(n=function(){if(!e)var e=1e-6;if(!t)var t="undefined"!=typeof Float32Array?Float32Array:Array;if(!r)var r=Math.random;var n={GLMAT_EPSILON:e,GLMAT_ARRAY_TYPE:t,GLMAT_RANDOM:r,setMatrixArrayType:function(e){n.GLMAT_ARRAY_TYPE=e}},i=Math.PI/180,o=180/Math.PI;return n.toRadian=function(e){return e*i},n.toDegree=function(e){return e*o},n.setMatrixArrayType(Array),n}.apply(null,[]))||(e.exports=n)},683:function(e,t,r){var n,i;n=[r(655)],void 0===(i=function(e){var t=e.GLMAT_ARRAY_TYPE,r=e.GLMAT_RANDOM,n={create:function(){var e=new t(2);return e[0]=0,e[1]=0,e},clone:function(e){var r=new t(2);return r[0]=e[0],r[1]=e[1],r},fromValues:function(e,r){var n=new t(2);return n[0]=e,n[1]=r,n},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e},set:function(e,t,r){return e[0]=t,e[1]=r,e},add:function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e},subtract:function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}};return n.sub=n.subtract,n.multiply=function(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e},n.mul=n.multiply,n.divide=function(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e},n.div=n.divide,n.min=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e},n.max=function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e},n.scale=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e},n.scaleAndAdd=function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e},n.distance=function(e,t){var r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n)},n.dist=n.distance,n.squaredDistance=function(e,t){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n},n.sqrDist=n.squaredDistance,n.length=function(e){var t=e[0],r=e[1];return Math.sqrt(t*t+r*r)},n.len=n.length,n.squaredLength=function(e){var t=e[0],r=e[1];return t*t+r*r},n.sqrLen=n.squaredLength,n.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e},n.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},n.normalize=function(e,t){var r=t[0],n=t[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e},n.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},n.cross=function(e,t,r){var n=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=n,e},n.lerp=function(e,t,r,n){var i=t[0],o=t[1];return e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e},n.random=function(e,t){t=t||1;var n=2*r()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e},n.transformMat2=function(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e},n.transformMat2d=function(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e},n.transformMat3=function(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[3]*i+r[6],e[1]=r[1]*n+r[4]*i+r[7],e},n.transformMat4=function(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e},n.forEach=function(){var e=n.create();return function(t,r,n,i,o,a){var s,u;for(r||(r=2),n||(n=0),u=i?Math.min(i*r+n,t.length):t.length,s=n;s<u;s+=r)e[0]=t[s],e[1]=t[s+1],o(e,e,a),t[s]=e[0],t[s+1]=e[1];return t}}(),n.str=function(e){return"vec2("+e[0]+", "+e[1]+")"},n}.apply(null,n))||(e.exports=i)},733:function(e,t,r){var n,i;n=[r(655)],void 0===(i=function(e){var t=e.GLMAT_ARRAY_TYPE,r={create:function(){var e=new t(6);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},clone:function(e){var r=new t(6);return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},invert:function(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=r*o-n*i;return u?(u=1/u,e[0]=o*u,e[1]=-n*u,e[2]=-i*u,e[3]=r*u,e[4]=(i*s-o*a)*u,e[5]=(n*a-r*s)*u,e):null},determinant:function(e){return e[0]*e[3]-e[1]*e[2]},multiply:function(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=r[0],l=r[1],p=r[2],d=r[3],f=r[4],y=r[5];return e[0]=n*c+o*l,e[1]=i*c+a*l,e[2]=n*p+o*d,e[3]=i*p+a*d,e[4]=n*f+o*y+s,e[5]=i*f+a*y+u,e}};return r.mul=r.multiply,r.rotate=function(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=Math.sin(r),l=Math.cos(r);return e[0]=n*l+o*c,e[1]=i*l+a*c,e[2]=n*-c+o*l,e[3]=i*-c+a*l,e[4]=s,e[5]=u,e},r.scale=function(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=r[0],l=r[1];return e[0]=n*c,e[1]=i*c,e[2]=o*l,e[3]=a*l,e[4]=s,e[5]=u,e},r.translate=function(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=r[0],l=r[1];return e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=n*c+o*l+s,e[5]=i*c+a*l+u,e},r.fromRotation=function(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=-r,e[3]=n,e[4]=0,e[5]=0,e},r.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e},r.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e},r.str=function(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"},r.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)},r}.apply(null,n))||(e.exports=i)},768:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(345),r(335),r(377),r(336),r(649)],void 0===(i=function(e,t,r,n,i,o,a){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.attached=!1,t.lastUpdateId=-1,t.moving=!1,t.updateRequested=!1,t}return r(t,e),t.prototype.initialize=function(){var e=this;this.when(function(){e.requestUpdate()}),i.init(this,"suspended",function(t){e.container.visible=!t,!t&&e.updateRequested&&e.view.requestLayerViewUpdate(e)},!0),i.init(this,"fullOpacity",function(t){e.container.opacity=t},!0);var t=function(){this.notifyChange("rendering")}.bind(this);this.container.on("post-render",t),this.container.on("will-render",t)},t.prototype.destroy=function(){this.attached&&(this.attached=!1,this.detach()),this.updateRequested=!1,this.layer=null},Object.defineProperty(t.prototype,"rendering",{get:function(){return this.isRendering()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updating",{get:function(){return!this.suspended&&(!this.attached||this.updateRequested||this.isUpdating())},enumerable:!0,configurable:!0}),t.prototype.requestUpdate=function(){this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestLayerViewUpdate(this))},t.prototype.processUpdate=function(e){!this.isFulfilled()||this.isResolved()?(this._set("updateParameters",e),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(e))):this.updateRequested=!1},t.prototype.isUpdating=function(){return!1},t.prototype.isRendering=function(){return this.attached&&(this.moving||this.container.renderRequested)},t.prototype.canResume=function(){var e=this.inherited(arguments),t=this.layer;if(e&&null!=t.minScale&&null!=t.minScale){var r=this.view.scale,n=t.minScale,i=t.maxScale,o=!n,a=!i;!o&&r<=n&&(o=!0),!a&&r>=i&&(a=!0),e=o&&a}return e},n([o.property()],t.prototype,"attached",void 0),n([o.property()],t.prototype,"container",void 0),n([o.property()],t.prototype,"moving",void 0),n([o.property({dependsOn:["moving"]})],t.prototype,"rendering",null),n([o.property({dependsOn:["view.scale","layer.minScale","layer.maxScale"]})],t.prototype,"suspended",void 0),n([o.property({readOnly:!0})],t.prototype,"updateParameters",void 0),n([o.property()],t.prototype,"updateRequested",void 0),n([o.property({dependsOn:["updateRequested","attached"]})],t.prototype,"updating",null),n([o.property()],t.prototype,"view",void 0),n([o.subclass("esri.views.2d.layers.LayerView2D")],t)}(o.declared(a))}.apply(null,n))||(e.exports=i)},805:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(885),r(341),r(339),r(784),r(363),r(606),r(404),r(362),r(443),r(409),r(386),r(386),r(655),r(733),r(683)],void 0===(i=function(e,t,r,n,i,o,a,s,u,c,l,p,d,f,y,h,v){function g(e,t,r,n){return n&&r&&!n.equals(r)&&d.canProject(n,r)&&n.isWebMercator?n.isWebMercator?function(e,t){var r=t[1];return r>89.99999?r=89.99999:r<-89.99999&&(r=-89.99999),r=Math.sin(y.toRadian(r)),v.set(e,y.toRadian(t[0])*C,.5*C*Math.log((1+r)/(1-r)))}(e,t):function(e,t,r){var n=y.toDegree(t[0]/C);return v.set(e,r?n:n-360*Math.floor((n+180)/360),y.toDegree(.5*Math.PI-2*Math.atan(Math.exp(-1*t[1]/C))))}(e,t):v.copy(e,t)}function m(e){return e.wkid?e:e.spatialReference||c.WGS84}function w(e,t){return t.type?v.set(e,t.x,t.y):v.copy(e,t)}function b(e){return l.getMetersPerUnitForSR(e)}function R(e,t){return Math.max(e.width/t[0],e.height/t[1])*P(e.spatialReference)}function M(e,t,r){var n,i;if(!e)return null;if(Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1])return new u(e);if(e.reduce)return e.reduce(function(e,r){return M(r,t,e)},r);if(e instanceof s?n=e:e.geometry&&(n=e.geometry),!n)return null;if(!(i="point"===n.type?new a({xmin:n.x,ymin:n.y,xmax:n.x,ymax:n.y,spatialReference:n.spatialReference}):n.extent))return null;var o=d.canProject(i,t);if(!i.spatialReference.equals(t)&&o)i=d.project(i,t);else if(!o)return null;return r?r.union(i):i.clone()}function _(e,t){if(!e)return new r({targetGeometry:new u,scale:0,rotation:0});var n=t.spatialReference,i=t.size,o=t.viewpoint,s=t.constraints,c=null;"esri.Viewpoint"===e.declaredClass?c=e:e.viewpoint?c=e.viewpoint:e.target&&"esri.Viewpoint"===e.target.declaredClass&&(c=e.target);var l=null;c&&c.targetGeometry?l=c.targetGeometry:e instanceof a?l=e:(e||e&&(e.hasOwnProperty("center")||e.hasOwnProperty("extent")||e.hasOwnProperty("target")))&&(l=M(e.center,n)||M(e.extent,n)||M(e.target,n)||M(e,n)),!l&&o&&o.targetGeometry?l=o.targetGeometry:!l&&t.extent&&(l=t.extent);var p=m(l);if(n||(n=m(t.spatialReference||t.extent||l)),!f.canProject(l,n)&&p&&!p.equals(n))return null;var y,h=w(v.create(),l.center?l.center:l),b=new u(g(h,h,p,n),n);y=c&&c.targetGeometry&&"point"===c.targetGeometry.type?c.scale:e.hasOwnProperty("scale")&&e.scale?e.scale:e.hasOwnProperty("zoom")&&-1!==e.zoom&&s&&s.effectiveLODs?s.zoomToScale(e.zoom):Array.isArray(l)||"point"===l.type||"extent"===l.type&&0===l.width&&0===l.height?t.extent&&d.canProject(t.extent,n)?R(d.project(t.extent,n),i):t.extent?R(t.extent,i):o.scale:d.canProject(l.extent,n)?R(d.project(l.extent,n),i):R(l.extent,i);var _=0;c?_=c.rotation:e.hasOwnProperty("rotation")?_=e.rotation:o&&(_=o.rotation);var x=new r({targetGeometry:b,scale:y,rotation:_});return s&&(x=s.fit(x),s.rotationEnabled||(x.rotation=_)),x}function x(e,t){var r=e.targetGeometry,n=t.targetGeometry;return r.x=n.x,r.y=n.y,r.spatialReference=n.spatialReference,e.scale=t.scale,e.rotation=t.rotation,e}function j(e,t,r){return r?v.set(e,.5*(t[0]-r.right+r.left),.5*(t[1]-r.bottom+r.top)):v.scale(e,t,.5)}function O(e,r,n,i){return t.getTransform(e,r,n,i),h.invert(e,e)}function A(e,t,r){var n=S(t),i=Math.abs(Math.cos(n)),o=Math.abs(Math.sin(n));return v.set(e,Math.round(r[1]*o+r[0]*i),Math.round(r[1]*i+r[0]*o))}function G(e){return e.scale*function(e){return 1/(b(e)*q*96)}(e.targetGeometry.spatialReference)}function S(e){return y.toRadian(e.rotation)||0}function P(e){return b(e)*q*96}function z(e){if(e.isWrappable){var t=p.getInfo(e);return t.valid[1]-t.valid[0]}return 0}function V(e,t){return Math.round(z(e)/t)}Object.defineProperty(t,"__esModule",{value:!0});var q=39.37,C=o.wgs84Radius,T=180/Math.PI;t.extentToScale=R,t.create=_,t.copy=x,t.getAnchor=j,t.getExtent=function(){var e=v.create();return function(t,r,n){var i=r.targetGeometry;w(e,i);var o=.5*G(r);return t.xmin=e[0]-o*n[0],t.ymin=e[1]-o*n[1],t.xmax=e[0]+o*n[0],t.ymax=e[1]+o*n[1],t.spatialReference=i.spatialReference,t}}(),t.setExtent=function(e,r,n,i,o){return t.centerAt(e,r,n.center),e.scale=R(n,i),o&&o.constraints&&o.constraints.constrain(e),e},t.getOuterExtent=function(){var e=v.create(),t=v.create();return function(r,n,i){w(e,n.targetGeometry),A(t,n,i);var o=.5*G(n),a=e[0]-o*t[0],s=e[1]-o*t[1],u=e[0]+o*t[0],c=e[1]+o*t[1],l=n.targetGeometry.spatialReference;return r.set({xmin:a,ymin:s,xmax:u,ymax:c,spatialReference:l}),r}}(),t.getClippedExtent=function(){var e=v.create(),t=v.create();return function(r,n,i){var o=G(n),a=n.targetGeometry.spatialReference,s=V(a,o);w(e,n.targetGeometry),A(t,n,i),a.isWrappable&&t[0]>s&&(t[0]=s);var u=.5*o,c=e[0]-u*t[0],l=e[1]-u*t[1],p=e[0]+u*t[0],d=e[1]+u*t[1];return r.set({xmin:c,ymin:l,xmax:p,ymax:d,spatialReference:a}),r}}(),t.getOuterSize=A,t.getPaddingScreenTranslation=function(){var e=v.create();return function(t,r,n){return v.sub(t,function(e,t){return v.scale(e,t,.5)}(t,r),j(e,r,n))}}();var k=function(){var e=h.create(),r=v.create();return function(n,i,o,a){var s=G(i),u=S(i);return v.set(r,s,s),h.fromScaling(e,r),h.rotate(e,e,u),h.translate(e,e,t.getPaddingScreenTranslation(r,o,a)),h.translate(e,e,[0,a.top-a.bottom]),v.set(n,e[4],e[5])}}();t.getResolution=G,t.getResolutionToScaleFactor=P,t.getMatrix=function(){var e=v.create(),t=v.create(),r=v.create();return function(n,i,o,a,s,u){return v.negate(e,i),v.scale(t,o,.5*u),v.set(r,1/a*u,-1/a*u),h.identity(n),h.translate(n,n,t),s&&h.rotate(n,n,s),h.scale(n,n,r),h.translate(n,n,e),n}}(),t.getTransform=function(){var e=v.create();return function(r,n,i,o){var a=G(n),s=S(n);return w(e,n.targetGeometry),t.getMatrix(r,e,i,a,s,o)}}(),t.getTransformNoRotation=function(){var e=v.create();return function(r,n,i,o){var a=G(n);return w(e,n.targetGeometry),t.getMatrix(r,e,i,a,0,o)}}(),t.getWorldWidth=z,t.getWorldScreenWidth=V,t.createAsync=function(e,t){var r=_(e,t);if(r)return i.resolve(r);var o=new n("viewpointUtils-createAsync:different-spatialReference","Target spatialReference cannot be projected and is different from out spatialReference");return i.reject(o)},t.angleBetween=function(){var e=v.create(),t=v.create(),r=v.create();return function(n,i,o){v.subtract(e,n,i),v.normalize(e,e),v.subtract(t,n,o),v.normalize(t,t),v.cross(r,e,t);var a=Math.acos(v.dot(e,t)/(v.length(e)*v.length(t)))*T;return r[2]<0&&(a=-a),isNaN(a)&&(a=0),a}}(),t.addPadding=function(){var e=v.create();return function(t,r,n,i){var o=t.targetGeometry;return x(t,r),k(e,r,n,i),o.x+=e[0],o.y+=e[1],t}}(),t.removePadding=function(){var e=v.create();return function(t,r,n,i){var o=t.targetGeometry;return x(t,r),k(e,r,n,i),o.x-=e[0],o.y-=e[1],t}}(),t.centerAt=function(){var e=v.create();return function(t,r,n){x(t,r);var i=t.targetGeometry,o=m(n),a=m(i);return w(e,n),g(e,e,o,a),i.x=e[0],i.y=e[1],t}}(),t.pixelSizeAt=function(e,t,r){return G(t)},t.resize=function(){var e=v.create();return function(r,n,i,o,a){a||(a="center"),v.sub(e,i,o),v.scale(e,e,.5);var s=e[0],u=e[1];switch(a){case"center":v.set(e,0,0);break;case"left":v.set(e,-s,0);break;case"top":v.set(e,0,u);break;case"right":v.set(e,s,0);break;case"bottom":v.set(e,0,-u);break;case"top-left":v.set(e,-s,u);break;case"bottom-left":v.set(e,-s,-u);break;case"top-right":v.set(e,s,u);break;case"bottom-right":v.set(e,s,-u)}return t.translateBy(r,n,e),r}}(),t.rotateBy=function(e,t,r){return x(e,t),e.rotation+=r,e},t.rotateTo=function(e,t,r){return x(e,t),e.rotation=r,e},t.scaleBy=function(){var e=v.create();return function(r,n,i,o,a){return x(r,n),isNaN(i)||0===i||(t.toMap(e,o,n,a),r.scale=n.scale*i,t.toScreen(e,e,r,a),t.translateBy(r,r,v.set(e,e[0]-o[0],o[1]-e[1]))),r}}(),t.scaleTo=function(e,t,r){return x(e,t),e.scale=r,e},t.scaleAndRotateBy=function(){var e=v.create();return function(r,n,i,o,a,s){return x(r,n),isNaN(i)||0===i||(t.toMap(e,a,n,s),r.scale=n.scale*i,r.rotation+=o,t.toScreen(e,e,r,s),t.translateBy(r,r,v.set(e,e[0]-a[0],a[1]-e[1]))),r}}(),t.padAndScaleAndRotateBy=function(){var e=v.create(),r=v.create();return function(n,i,o,a,s,u,c){return t.getPaddingScreenTranslation(r,u,c),v.add(e,s,r),a?t.scaleAndRotateBy(n,i,o,a,e,u):t.scaleBy(n,i,o,e,u)}}(),t.toMap=function(){var e=h.create();return function(t,r,n,i){return v.transformMat2d(t,r,O(e,n,i,1))}}(),t.toScreen=function(){var e=h.create();return function(r,n,i,o){return v.transformMat2d(r,n,t.getTransform(e,i,o,1))}}(),t.translateBy=function(){var e=v.create(),t=h.create();return function(r,n,i){x(r,n);var o=G(n),a=r.targetGeometry;return h.fromRotation(t,S(n)),h.scale(t,t,v.fromValues(o,o)),v.transformMat2d(e,i,t),a.x+=e[0],a.y+=e[1],r}}()}.apply(null,n))||(e.exports=i)},885:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(337),r(335),r(1009),r(340),r(336),r(422),r(990)],void 0===(i=function(e,t,r,n,i,o,a,s,u){function c(){return{enabled:!this.camera}}return function(e){function t(t){var r=e.call(this)||this;return r.rotation=0,r.scale=0,r.targetGeometry=null,r.camera=null,r}var o;return r(t,e),o=t,t.prototype.castRotation=function(e){return(e%=360)<0&&(e+=360),e},t.prototype.clone=function(){return new o({rotation:this.rotation,scale:this.scale,targetGeometry:this.targetGeometry?this.targetGeometry.clone():null,camera:this.camera?this.camera.clone():null})},n([a.property({type:Number,json:{write:!0,origins:{"web-scene":{write:{overridePolicy:c}}}}})],t.prototype,"rotation",void 0),n([a.cast("rotation")],t.prototype,"castRotation",null),n([a.property({type:Number,json:{write:!0,origins:{"web-scene":{write:{overridePolicy:c}}}}})],t.prototype,"scale",void 0),n([a.property({types:u.types,json:{read:s.fromJSON,write:!0,origins:{"web-scene":{read:s.fromJSON,write:{overridePolicy:c}}}}})],t.prototype,"targetGeometry",void 0),n([a.property({type:i,json:{write:!0}})],t.prototype,"camera",void 0),o=n([a.subclass("esri.Viewpoint")],t)}(a.declared(o))}.apply(null,n))||(e.exports=i)}}]);