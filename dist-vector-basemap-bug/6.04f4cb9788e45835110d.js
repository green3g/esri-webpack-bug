(function(){(this||window).webpackJsonp.registerAbsMids({"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/webgl/Texture":368,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/webgl/FramebufferObject":372,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/webgl/capabilities/isWebGL2Context":761,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/webgl/Renderbuffer":891,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/webgl/RenderingContext":969,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/webgl/enums":1478,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/webgl/InstanceCounter":1479,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/webgl/capabilities/load":1480,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/webgl/capabilities/DisjointTimerQuery":1481,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/webgl/capabilities/Instancing":1482,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/webgl/capabilities/VertexArrayObjects":1483})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1478:function(t,e,i){var n,r;n=[i.dj.c(t.i),e],void 0===(r=function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.BASE_TEXTURE_UNIT=33984}.apply(null,n))||(t.exports=r)},1479:function(t,e,i){var n,r;n=[i.dj.c(t.i),e],void 0===(r=function(t,e){return function(){function t(){this._instanceCount={textureCount:0,bufferCount:0,vaoCount:0,programCount:0,framebufferCount:0,renderBufferCount:0}}return t.prototype.incrementCount=function(t){switch(t){case 0:this._instanceCount.textureCount++;break;case 1:this._instanceCount.bufferCount++;break;case 2:this._instanceCount.vaoCount++;break;case 3:this._instanceCount.programCount++;break;case 4:this._instanceCount.framebufferCount++;break;case 5:this._instanceCount.renderBufferCount++}},t.prototype.decrementCount=function(t){switch(t){case 0:this._instanceCount.textureCount--;break;case 1:this._instanceCount.bufferCount--;break;case 2:this._instanceCount.vaoCount--;break;case 3:this._instanceCount.programCount--;break;case 4:this._instanceCount.framebufferCount--;break;case 5:this._instanceCount.renderBufferCount--}},t.prototype.printResourceCount=function(){console.log("Live objects:"),console.log("Textures: "+this._instanceCount.textureCount),console.log("Buffers: "+this._instanceCount.bufferCount),console.log("VAOs: "+this._instanceCount.vaoCount),console.log("Programs: "+this._instanceCount.programCount),console.log("Framebuffers: "+this._instanceCount.framebufferCount),console.log("Renderbuffers: "+this._instanceCount.renderBufferCount)},t}()}.apply(null,n))||(t.exports=r)},1480:function(t,e,i){var n,r;n=[i.dj.c(t.i),e,i(1481),i(1482),i(761),i(1483)],void 0===(r=function(t,e,i,n,r,s){function o(t,e){if(r.default(t))return{MIN:t.MIN,MAX:t.MAX};if(e.blendMinMax)return null;var i=t.getExtension("EXT_blend_minmax");return i?{MIN:i.MIN_EXT,MAX:i.MAX_EXT}:null}function a(t,e){if(r.default(t))return!e.colorBufferFloat&&t.getExtension("EXT_color_buffer_float")?{R16F:t.R16F,RG16F:t.RG16F,RGBA16F:t.RGBA16F,R32F:t.R32F,RG32F:t.RG32F,RGBA32F:t.RGBA32F,R11F_G11F_B10F:t.R11F_G11F_B10F}:null;if(t instanceof WebGLRenderingContext){var i=!e.colorBufferFloat&&t.getExtension("EXT_color_buffer_half_float"),n=!e.colorBufferFloat&&t.getExtension("WEBGL_color_buffer_float");return i||n?{RGBA16F:i?i.RGBA16F_EXT:void 0,RGBA32F:n?n.RGBA32F_EXT:void 0}:null}}function l(t,e,i,n,s){if(n&&r.default(t))return!0;if(e[i])return!1;for(var o=0,a=s;o<a.length;o++){var l=a[o];if(t.getExtension(l))return!0}return!1}Object.defineProperty(e,"__esModule",{value:!0}),e.loadCapabilities=function(t,e){var r=e&&e.disabledExtensions||{};return l(t,r,"standardDerivatives",!0,["OES_standard_derivatives"]),{instancing:n.load(t),vao:s.load(t,r),compressedTextureS3TC:function(t,e){if(e.compressedTextureS3TC)return null;var i=t.getExtension("WEBGL_compressed_texture_s3tc");return i?{COMPRESSED_RGB_S3TC_DXT1:i.COMPRESSED_RGB_S3TC_DXT1_EXT,COMPRESSED_RGBA_S3TC_DXT1:i.COMPRESSED_RGBA_S3TC_DXT1_EXT,COMPRESSED_RGBA_S3TC_DXT3:i.COMPRESSED_RGBA_S3TC_DXT3_EXT,COMPRESSED_RGBA_S3TC_DXT5:i.COMPRESSED_RGBA_S3TC_DXT5_EXT}:null}(t,r),textureFilterAnisotropic:function(t,e){if(e.textureFilterAnisotropic)return null;var i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");return i?{MAX_TEXTURE_MAX_ANISOTROPY:i.MAX_TEXTURE_MAX_ANISOTROPY_EXT,TEXTURE_MAX_ANISOTROPY:i.TEXTURE_MAX_ANISOTROPY_EXT}:null}(t,r),disjointTimerQuery:i.load(t,r),colorBufferFloat:a(t,r),blendMinMax:o(t,r),depthTexture:l(t,r,"depthTexture",!0,["WEBGL_depth_texture","MOZ_WEBGL_depth_texture","WEBKIT_WEBGL_depth_texture"]),standardDerivatives:!0,shaderTextureLOD:l(t,r,"shaderTextureLOD",!0,["EXT_shader_texture_lod"]),textureFloatLinear:l(t,r,"textureFloatLinear",!1,["OES_texture_float_linear"]),fragDepth:l(t,r,"fragDepth",!0,["EXT_frag_depth"])}}}.apply(null,n))||(t.exports=r)},1481:function(t,e,i){var n,r;n=[i.dj.c(t.i),e,i(761)],void 0===(r=function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.load=function(t,e){if(e.disjointTimerQuery)return null;var n=t.getExtension("EXT_disjoint_timer_query")||t.getExtension("EXT_disjoint_timer_query_webgl2");return n?i.default(t)?{createQuery:function(){return t.createQuery()},resultAvailable:function(e){return t.getQueryParameter(e,t.QUERY_RESULT_AVAILABLE)},getResult:function(e){return t.getQueryParameter(e,t.QUERY_RESULT)},disjoint:function(){return t.getParameter(n.GPU_DISJOINT_EXT)},beginTimeElapsed:function(e){return t.beginQuery(n.TIME_ELAPSED_EXT,e)},endTimeElapsed:function(){return t.endQuery(n.TIME_ELAPSED_EXT)},createTimestamp:function(t){return n.queryCounterEXT(t,n.TIMESTAMP_EXT)},timestampBits:function(){return t.getQuery(n.TIMESTAMP_EXT,n.QUERY_COUNTER_BITS_EXT)}}:{createQuery:function(){return n.createQueryEXT()},resultAvailable:function(t){return n.getQueryObjectEXT(t,n.QUERY_RESULT_AVAILABLE_EXT)},getResult:function(t){return n.getQueryObjectEXT(t,n.QUERY_RESULT_EXT)},disjoint:function(){return t.getParameter(n.GPU_DISJOINT_EXT)},beginTimeElapsed:function(t){return n.beginQueryEXT(n.TIME_ELAPSED_EXT,t)},endTimeElapsed:function(){return n.endQueryEXT(n.TIME_ELAPSED_EXT)},createTimestamp:function(t){return n.queryCounterEXT(t,n.TIMESTAMP_EXT)},timestampBits:function(){return n.getQueryEXT(n.TIMESTAMP_EXT,n.QUERY_COUNTER_BITS_EXT)}}:null}}.apply(null,n))||(t.exports=r)},1482:function(t,e,i){var n,r;n=[i.dj.c(t.i),e,i(761)],void 0===(r=function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.load=function(t){if(i.default(t))return{drawArraysInstanced:t.drawArraysInstanced.bind(t),drawElementsInstanced:t.drawElementsInstanced.bind(t),vertexAttribDivisor:t.vertexAttribDivisor.bind(t)};var e=t.getExtension("ANGLE_instanced_arrays");return e?{drawArraysInstanced:e.drawArraysInstancedANGLE.bind(e),drawElementsInstanced:e.drawElementsInstancedANGLE.bind(e),vertexAttribDivisor:e.vertexAttribDivisorANGLE.bind(e)}:null}}.apply(null,n))||(t.exports=r)},1483:function(t,e,i){var n,r;n=[i.dj.c(t.i),e,i(761)],void 0===(r=function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.load=function(t,e){if(i.default(t))return{createVertexArray:t.createVertexArray.bind(t),deleteVertexArray:t.deleteVertexArray.bind(t),bindVertexArray:t.bindVertexArray.bind(t)};if(e.vao)return null;var n=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object");return n?{createVertexArray:n.createVertexArrayOES.bind(n),deleteVertexArray:n.deleteVertexArrayOES.bind(n),bindVertexArray:n.bindVertexArrayOES.bind(n)}:null}}.apply(null,n))||(t.exports=r)},368:function(t,e,i){var n,r;n=[i.dj.c(t.i),e,i(353)],void 0===(r=function(t,e,i){return function(){function t(e,n,r){this._context=null,this._glName=null,this._id=-1,this._desc=void 0,this._samplingModeDirty=!1,this._wrapModeDirty=!1,this._boundToUnits=new Set,this._context=e,this._desc={pixelFormat:n.pixelFormat,internalFormat:n.internalFormat,dataType:n.dataType,target:n.target?n.target:3553,samplingMode:n.samplingMode?n.samplingMode:9729,wrapMode:n.wrapMode?n.wrapMode:10497,maxAnisotropy:n.maxAnisotropy,flipped:void 0!==n.flipped&&n.flipped,hasMipmap:void 0!==n.hasMipmap&&n.hasMipmap,unpackAlignment:n.unpackAlignment?n.unpackAlignment:4,width:n.width,height:n.height,preMultiplyAlpha:void 0!==n.preMultiplyAlpha&&n.preMultiplyAlpha},this._id=++t._nextId,i("esri-webgl-debug")&&e.instanceCounter.incrementCount(0),this.setData(r)}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"glName",{get:function(){return this._glName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"descriptor",{get:function(){return this._desc},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=this;if(this._context){if(this._glName){var e=this._context.gl;this._boundToUnits.forEach(function(e){t._context.bindTexture(null,e)}),e.deleteTexture(this._glName),this._glName=null}i("esri-webgl-debug")&&this._context.instanceCounter.decrementCount(0),this._context=null}},t.prototype.resize=function(t,e){var i=this._desc;i.width===t&&i.height===e||(i.width=t,i.height=e,this.setData(null))},t.prototype.setData=function(e){var i=this._context.gl;this._glName||(this._glName=i.createTexture()),void 0===e&&(e=null),null===e&&(this._desc.width=this._desc.width||4,this._desc.height=this._desc.height||4);var n=this._context.getBoundTexture(0);this._context.bindTexture(this,0);var r=this._desc;t._validateTexture(r),i.pixelStorei(i.UNPACK_ALIGNMENT,r.unpackAlignment),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,r.flipped?1:0),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.preMultiplyAlpha);var s=r.pixelFormat,o=r.internalFormat?r.internalFormat:s;if(e instanceof ImageData||e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement)r.width&&r.height&&console.assert(e.width===r.width&&e.height===r.height),i.texImage2D(i.TEXTURE_2D,0,o,s,r.dataType,e),r.hasMipmap&&this.generateMipmap(),void 0===this._desc.width&&(this._desc.width=e.width),void 0===this._desc.height&&(this._desc.height=e.height);else{null!=r.width&&null!=r.height||console.error("Width and height must be specified!"),i.DEPTH24_STENCIL8&&o===i.DEPTH_STENCIL&&(o=i.DEPTH24_STENCIL8);var a=r.width,l=r.height;if(function(t){return null!=t&&"type"in t&&"compressed"===t.type}(e))for(var h=0;;++h){var c=e.levels[Math.min(h,e.levels.length-1)];if(i.compressedTexImage2D(i.TEXTURE_2D,h,o,a,l,0,c),1===a&&1===l||!r.hasMipmap)break;a=Math.max(1,a>>1),l=Math.max(1,l>>1)}else if(e)i.texImage2D(i.TEXTURE_2D,0,o,a,l,0,s,r.dataType,e),r.hasMipmap&&this.generateMipmap();else for(h=0;i.texImage2D(i.TEXTURE_2D,h,o,a,l,0,s,r.dataType,null),(1!==a||1!==l)&&r.hasMipmap;++h)a=Math.max(1,a>>1),l=Math.max(1,l>>1)}t._applySamplingMode(i,this._desc),t._applyWrapMode(i,this._desc),t._applyAnisotropicFilteringParameters(this._context,this._desc),this._context.bindTexture(n,0)},t.prototype.updateData=function(t,e,i,n,r,s){s||console.error("An attempt to use uninitialized data!"),this._glName||console.error("An attempt to update uninitialized texture!");var o=this._context.gl,a=this._desc,l=this._context.getBoundTexture(0);this._context.bindTexture(this,0),(e<0||i<0||n>a.width||r>a.height||e+n>a.width||i+r>a.height)&&console.error("An attempt to update out of bounds of the texture!"),s instanceof ImageData||s instanceof HTMLImageElement||s instanceof HTMLCanvasElement||s instanceof HTMLVideoElement?(console.assert(s.width===n&&s.height===r),o.texSubImage2D(o.TEXTURE_2D,t,e,i,a.pixelFormat,a.dataType,s)):o.texSubImage2D(o.TEXTURE_2D,t,e,i,n,r,a.pixelFormat,a.dataType,s),this._context.bindTexture(l,0)},t.prototype.generateMipmap=function(){var e=this._desc;e.hasMipmap||(e.hasMipmap=!0,t._validateTexture(e)),9729===e.samplingMode?(this._samplingModeDirty=!0,e.samplingMode=9985):9728===e.samplingMode&&(this._samplingModeDirty=!0,e.samplingMode=9984);var i=this._context.getBoundTexture(0);this._context.bindTexture(this,0);var n=this._context.gl;n.generateMipmap(n.TEXTURE_2D),this._context.bindTexture(i,0)},t.prototype.setSamplingMode=function(e){e!==this._desc.samplingMode&&(this._desc.samplingMode=e,t._validateTexture(this._desc),this._samplingModeDirty=!0)},t.prototype.setWrapMode=function(e){e!==this._desc.wrapMode&&(this._desc.wrapMode=e,t._validateTexture(this._desc),this._wrapModeDirty=!0)},t.prototype.applyChanges=function(){var e=this._context.gl,i=this._desc;this._samplingModeDirty&&(t._applySamplingMode(e,i),this._samplingModeDirty=!1),this._wrapModeDirty&&(t._applyWrapMode(e,i),this._wrapModeDirty=!1)},t.prototype.setBoundToUnit=function(t,e){e?this._boundToUnits.add(t):this._boundToUnits.delete(t)},t._isPowerOfTwo=function(t){return 0==(t&t-1)},t._validateTexture=function(e){(e.width<0||e.height<0)&&console.error("Negative dimension parameters are not allowed!"),t._isPowerOfTwo(e.width)&&t._isPowerOfTwo(e.height)||(33071!==e.wrapMode&&console.error("Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!"),e.hasMipmap&&console.error("Mipmapping requires power-of-two textures!"))},t._applySamplingMode=function(t,e){var i=e.samplingMode;9985===i||9987===i?i=9729:9984!==i&&9986!==i||(i=9728),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e.samplingMode)},t._applyWrapMode=function(t,e){t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,e.wrapMode),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,e.wrapMode)},t._applyAnisotropicFilteringParameters=function(t,e){if(null!=e.maxAnisotropy){var i=t.capabilities.textureFilterAnisotropic;if(i){var n=t.gl;n.texParameterf(n.TEXTURE_2D,i.TEXTURE_MAX_ANISOTROPY,e.maxAnisotropy)}}},t._nextId=0,t}()}.apply(null,n))||(t.exports=r)},372:function(t,e,i){var n,r;n=[i.dj.c(t.i),e,i(353),i(891),i(368)],void 0===(r=function(t,e,i,n,r){return function(){function t(e,s,o,a){if(this._context=null,this._glName=null,this._depthAttachment=null,this._stencilAttachment=null,this._colorAttachment=null,this._initialized=!1,this._context=e,this._desc={colorTarget:s.colorTarget,depthStencilTarget:s.depthStencilTarget,width:s.width,height:s.height,multisampled:s.multisampled},this._id=t._nextId++,i("esri-webgl-debug")&&e.instanceCounter.incrementCount(4),o){var l=void 0;o instanceof r?(this._colorAttachment=o,l=o.descriptor):(l=o,this._colorAttachment=new r(this._context,l)),0!==this._desc.colorTarget&&console.error("Framebuffer is initialized with a texture however the descriptor indicates using a renderbuffer color attachment!"),t._validateTextureDimensions(l,this._desc)}if(a instanceof n)2===s.depthStencilTarget?this._stencilAttachment=a:1===s.depthStencilTarget||3===s.depthStencilTarget?this._depthAttachment=a:console.error('If a Renderbuffer is provided, "depthStencilTarget" must be one of STENCIL_RENDER_BUFFER, DEPTH_RENDER_BUFFER or DEPTH_STENCIL_RENDER_BUFFER'),t._validateBufferDimensions(a.descriptor,this._desc);else if(a){this._context.capabilities.depthTexture||console.error("Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture as an attachment!");var h=void 0;a instanceof r?(this._depthStencilTexture=a,h=this._depthStencilTexture.descriptor):(h=a,this._depthStencilTexture=new r(this._context,h)),t._validateTextureDimensions(h,this._desc)}}return t.create=function(e,i){return new t(e,i)},t.createWithAttachments=function(e,i,n,r){return new t(e,n,i,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"glName",{get:function(){return this._glName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"descriptor",{get:function(){return this._desc},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this._colorAttachment instanceof r?this._colorAttachment:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"depthStencilTexture",{get:function(){return this._depthStencilTexture},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._desc.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._desc.height},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._context&&(this._disposeColorAttachment(),this._disposeDepthStencilAttachments(),this._glName&&(this._context.gl.deleteFramebuffer(this._glName),this._glName=null),i("esri-webgl-debug")&&this._context.instanceCounter.decrementCount(4),this._context=null)},t.prototype.attachColorTexture=function(e){if(e){var i=e.descriptor;if(t._validateTextureDimensions(i,this._desc),this._disposeColorAttachment(),this._initialized){this._context.bindFramebuffer(this);var n=this._context.gl;n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e.glName,0)}this._colorAttachment=e}},t.prototype.detachColorTexture=function(){var t=void 0;if(this._colorAttachment instanceof r){if(t=this._colorAttachment,this._initialized){this._context.bindFramebuffer(this);var e=this._context.gl;this._context.gl.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)}this._colorAttachment=null}return t},t.prototype.attachDepthStencilTexture=function(e){if(e){var i=e.descriptor;if(34041!==i.pixelFormat&&console.error("Depth/Stencil texture must have a pixel type of DEPTH_STENCIL!"),34042!==i.dataType&&console.error("Depth/Stencil texture must have data type of UNSIGNED_INT_24_8_WEBGL!"),this._context.capabilities.depthTexture||console.error("Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture!"),t._validateTextureDimensions(i,this._desc),4!==this._desc.depthStencilTarget&&(this._desc.depthStencilTarget=4),this._disposeDepthStencilAttachments(),this._initialized){this._context.bindFramebuffer(this);var n=this._context.gl;n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,e.glName,0)}this._depthStencilTexture=e}},t.prototype.detachDepthStencilTexture=function(){var t=this._depthStencilTexture;if(t&&this._initialized){this._context.bindFramebuffer(this);var e=this._context.gl;this._context.gl.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,null,0)}return this._depthStencilTexture=null,t},t.prototype.attachDepthStencilBuffer=function(e){if(e){var i=e.descriptor;if(34041!==i.internalFormat&&33189!==i.internalFormat&&console.error("Depth/Stencil buffer must have correct internalFormat"),t._validateBufferDimensions(i,this._desc),this._disposeDepthStencilAttachments(),this._desc.depthStencilTarget=34041===i.internalFormat?3:1,this._initialized){this._context.bindFramebuffer(this);var n=this._context.gl,r=1===this._desc.depthStencilTarget?n.DEPTH_ATTACHMENT:n.DEPTH_STENCIL_ATTACHMENT;n.framebufferRenderbuffer(n.FRAMEBUFFER,r,n.RENDERBUFFER,e.glName)}this._depthAttachment=e}},t.prototype.detachDepthStencilBuffer=function(){var t=this._context.gl,e=this._depthAttachment;if(e&&this._initialized){this._context.bindFramebuffer(this);var i=1===this._desc.depthStencilTarget?t.DEPTH_ATTACHMENT:t.DEPTH_STENCIL_ATTACHMENT;t.framebufferRenderbuffer(t.FRAMEBUFFER,i,t.RENDERBUFFER,null)}return this._depthAttachment=null,e},t.prototype.copyToTexture=function(t,e,i,n,r,s,o){(t<0||e<0||r<0||s<0)&&console.error("Offsets cannot be negative!"),(i<=0||n<=0)&&console.error("Copy width and height must be greater than zero!");var a=this._desc,l=o.descriptor;3553!==o.descriptor.target&&console.error("Texture target must be TEXTURE_2D!"),(t+i>a.width||e+n>a.height||r+i>l.width||s+n>l.height)&&console.error("Bad dimensions, the current input values will attempt to read or copy out of bounds!");var h=this._context;h.bindTexture(o),h.bindFramebuffer(this),h.gl.copyTexSubImage2D(3553,0,r,s,t,e,i,n)},t.prototype.readPixels=function(t,e,i,n,r,s,o){(i<=0||n<=0)&&console.error("Copy width and height must be greater than zero!"),o||console.error("Target memory is not initialized!"),this._context.bindFramebuffer(this),this._context.gl.readPixels(t,e,i,n,r,s,o)},t.prototype.resize=function(e,i){var n=this._desc;if(n.width!==e||n.height!==i){if(!this._initialized){if(n.width=e,n.height=i,this._colorAttachment instanceof r)(s=this._colorAttachment).resize(e,i);return void(this._depthStencilTexture&&this._depthStencilTexture.resize(e,i))}var s,o;if(n.width=e,n.height=i,this._colorAttachment instanceof r)(o=(s=this._colorAttachment).descriptor).width=e,o.height=i,this._colorAttachment.dispose(),this._colorAttachment=new r(this._context,o),t._validateTextureDimensions(s.descriptor,this._desc);else this._colorAttachment&&this._disposeColorAttachment();if(null!=this._depthStencilTexture)(o=this._depthStencilTexture.descriptor).width=e,o.height=i,this._depthStencilTexture.dispose(),this._depthStencilTexture=new r(this._context,o);else(this._depthAttachment||this._stencilAttachment)&&this._disposeDepthStencilAttachments();this._context.getBoundFramebufferObject()===this&&this._context.bindFramebuffer(null),this._initialized=!1}},t.prototype.initialize=function(){if(this._initialized)return!1;var t=this._context.gl;this._glName&&t.deleteFramebuffer(this._glName);var e=t.createFramebuffer(),i=this._desc;if(t.bindFramebuffer(t.FRAMEBUFFER,e),!this._colorAttachment)if(0===i.colorTarget){var s={target:3553,pixelFormat:6408,dataType:5121,samplingMode:9728,wrapMode:33071,width:i.width,height:i.height};this._colorAttachment=new r(this._context,s)}else{var o=new n(this._context,{internalFormat:32854,width:i.width,height:i.height});t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,o.glName),this._colorAttachment=o}if(this._colorAttachment instanceof r){var a=this._colorAttachment;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,a.glName,0)}switch(i.depthStencilTarget){case 1:case 3:this._depthAttachment||(this._depthAttachment=new n(this._context,{internalFormat:1===i.depthStencilTarget?33189:34041,width:i.width,height:i.height}));var l=1===i.depthStencilTarget?t.DEPTH_ATTACHMENT:t.DEPTH_STENCIL_ATTACHMENT;t.framebufferRenderbuffer(t.FRAMEBUFFER,l,t.RENDERBUFFER,this._depthAttachment.glName);break;case 2:this._stencilAttachment||(this._stencilAttachment=new n(this._context,{internalFormat:36168,width:i.width,height:i.height})),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.STENCIL_ATTACHMENT,t.RENDERBUFFER,this._stencilAttachment.glName);break;case 4:if(!this._depthStencilTexture){this._context.capabilities.depthTexture||console.error("Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture as an attachment!");var h={target:3553,pixelFormat:34041,dataType:34042,samplingMode:9728,wrapMode:33071,width:i.width,height:i.height};this._depthStencilTexture=new r(this._context,h)}t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,this._depthStencilTexture.glName,0)}return t.checkFramebufferStatus(t.FRAMEBUFFER)!==t.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer is incomplete!"),this._glName=e,this._initialized=!0,!0},t.prototype._disposeColorAttachment=function(){if(this._colorAttachment instanceof r){var t=this._colorAttachment;if(this._initialized)this._context.bindFramebuffer(this),(i=this._context.gl).framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,null,0);t.dispose()}else if(this._colorAttachment instanceof WebGLRenderbuffer){var e=this._colorAttachment,i=this._context.gl;this._initialized&&(this._context.bindFramebuffer(this),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,null)),this._context.gl.deleteRenderbuffer(e)}this._colorAttachment=null},t.prototype._disposeDepthStencilAttachments=function(){var t=this._context.gl;if(this._depthAttachment){if(this._initialized){this._context.bindFramebuffer(this);var e=1===this._desc.depthStencilTarget?t.DEPTH_ATTACHMENT:t.DEPTH_STENCIL_ATTACHMENT;t.framebufferRenderbuffer(t.FRAMEBUFFER,e,t.RENDERBUFFER,null)}this._depthAttachment.dispose(),this._depthAttachment=null}this._stencilAttachment&&(this._initialized&&(this._context.bindFramebuffer(this),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.STENCIL_ATTACHMENT,t.RENDERBUFFER,null)),this._stencilAttachment.dispose(),this._stencilAttachment=null),this._depthStencilTexture&&(this._initialized&&(this._context.bindFramebuffer(this),t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,null,0)),this._depthStencilTexture.dispose(),this._depthStencilTexture=null)},t._validateBufferDimensions=function(t,e){console.assert(t.width>=0&&t.height>=0),void 0!==e.width&&e.width>=0&&void 0!==e.height&&e.height>=0?e.width===t.width&&e.height===t.height||console.error("Renderbuffer dimensions must match the framebuffer's!"):(e.width=t.width,e.height=t.height)},t._validateTextureDimensions=function(t,e){console.assert(t.width>=0&&t.height>=0),3553!==t.target&&console.error("Texture type must be TEXTURE_2D!"),void 0!==e.width&&e.width>=0&&void 0!==e.height&&e.height>=0?e.width===t.width&&e.height===t.height||console.error("Color attachment texture must match the framebuffer's!"):(e.width=t.width,e.height=t.height)},t._nextId=0,t}()}.apply(null,n))||(t.exports=r)},761:function(t,e,i){var n,r;n=[i.dj.c(t.i),e],void 0===(r=function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return window.WebGL2RenderingContext&&t instanceof window.WebGL2RenderingContext}}.apply(null,n))||(t.exports=r)},891:function(t,e,i){var n,r;n=[i.dj.c(t.i),e,i(353)],void 0===(r=function(t,e,i){return function(){function t(e,n){this._context=e,this._desc=n,this._glName=null,this._id=-1;var r=this._context.gl;i("esri-webgl-debug")&&this._context.instanceCounter.incrementCount(5),this._id=++t._nextId,this._glName=r.createRenderbuffer(),this._context.bindRenderbuffer(this),r.renderbufferStorage(r.RENDERBUFFER,n.internalFormat,n.width,n.height)}return Object.defineProperty(t.prototype,"descriptor",{get:function(){return this._desc},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"glName",{get:function(){return this._glName},enumerable:!0,configurable:!0}),t.prototype.resize=function(t,e){var i=this._context.gl,n=this._desc;n.width===t&&n.height===e||(n.width=t,n.height=e,this._context.bindRenderbuffer(this),i.renderbufferStorage(i.RENDERBUFFER,n.internalFormat,n.width,n.height))},t.prototype.dispose=function(){this._glName&&(this._context.gl.deleteRenderbuffer(this._glName),this._glName=null),i("esri-webgl-debug")&&this._context.instanceCounter.decrementCount(5),this._context=null},t._nextId=0,t}()}.apply(null,n))||(t.exports=r)},969:function(t,e,i){var n,r;n=[i.dj.c(t.i),e,i(353),i(1478),i(1479),i(761),i(1480)],void 0===(r=function(t,e,i,n,r,s,o){function a(t,e){switch(t){case 0:return 2*e;case 4:return e/3;case 5:case 6:return e-2}return 0}return function(){function t(t,e){this.gl=null,this._blendEnabled=!1,this._blendColorState={r:0,g:0,b:0,a:0},this._blendFunctionState={srcRGB:1,dstRGB:0,srcAlpha:1,dstAlpha:0},this._blendEquationState={mode:32774,modeAlpha:32774},this._colorMaskState={r:!0,g:!0,b:!0,a:!0},this._polygonCullingEnabled=!1,this._cullFace=1029,this._frontFace=2305,this._scissorTestEnabled=!1,this._scissorRect={x:0,y:0,width:0,height:0},this._depthTestEnabled=!1,this._depthFunction=513,this._clearDepth=1,this._depthWriteEnabled=!0,this._depthRange={zNear:0,zFar:1},this._viewport=null,this._stencilTestEnabled=!1,this._polygonOffsetFillEnabled=!1,this._polygonOffset=[0,0],this._stencilFunction={face:1032,func:519,ref:0,mask:1},this._clearStencil=0,this._stencilWriteMask=1,this._stencilOperation={face:1032,fail:7680,zFail:7680,zPass:7680},this._lineWidth=1,this._clearColor={r:0,g:0,b:0,a:0},this._activeShaderProgram=null,this._activeVertexBuffer=null,this._activeIndexBuffer=null,this._activeFramebuffer=null,this._activeRenderbuffer=null,this._activeTextureUnit=0,this._textureUnitMap={},this._numOfDrawCalls=0,this._numOfTriangles=0,this.contextVersion=s.default(t)?"webgl2":"webgl",this.gl=t,t instanceof WebGLRenderingContext&&this.gl.getExtension("OES_element_index_uint"),this._capabilities=o.loadCapabilities(t,e);var n=this.gl.getParameter(this.gl.VIEWPORT);this._viewport={x:n[0],y:n[1],width:n[2],height:n[3]};var a=this.capabilities.textureFilterAnisotropic;this._parameters={versionString:this.gl.getParameter(this.gl.VERSION),maxVertexTextureImageUnits:this.gl.getParameter(this.gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS),maxVertexAttributes:this.gl.getParameter(this.gl.MAX_VERTEX_ATTRIBS),maxMaxAnisotropy:a?this.gl.getParameter(a.MAX_TEXTURE_MAX_ANISOTROPY):void 0,maxTextureImageUnits:this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS)},i("esri-webgl-debug")&&(this.instanceCounter=new r),this.enforceState()}return Object.defineProperty(t.prototype,"contextAttributes",{get:function(){return this.gl.getContextAttributes()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parameters",{get:function(){return this._parameters},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.bindVAO(null),this.unbindBuffer(34962),this.unbindBuffer(34963),this._textureUnitMap={},i("esri-webgl-debug")&&this.instanceCounter.printResourceCount(),this.gl=null},t.prototype.setBlendingEnabled=function(t){this._blendEnabled!==t&&(!0===t?this.gl.enable(this.gl.BLEND):this.gl.disable(this.gl.BLEND),this._blendEnabled=t)},t.prototype.setBlendColor=function(t,e,i,n){t===this._blendColorState.r&&e===this._blendColorState.g&&i===this._blendColorState.b&&n===this._blendColorState.a||(this.gl.blendColor(t,e,i,n),this._blendColorState.r=t,this._blendColorState.g=e,this._blendColorState.b=i,this._blendColorState.a=n)},t.prototype.setBlendFunction=function(t,e){t===this._blendFunctionState.srcRGB&&e===this._blendFunctionState.dstRGB||(this.gl.blendFunc(t,e),this._blendFunctionState.srcRGB=t,this._blendFunctionState.srcAlpha=t,this._blendFunctionState.dstRGB=e,this._blendFunctionState.dstAlpha=e)},t.prototype.setBlendFunctionSeparate=function(t,e,i,n){this._blendFunctionState.srcRGB===t&&this._blendFunctionState.srcAlpha===i&&this._blendFunctionState.dstRGB===e&&this._blendFunctionState.dstAlpha===n||(this.gl.blendFuncSeparate(t,e,i,n),this._blendFunctionState.srcRGB=t,this._blendFunctionState.srcAlpha=i,this._blendFunctionState.dstRGB=e,this._blendFunctionState.dstAlpha=n)},t.prototype.setBlendEquation=function(t){this._blendEquationState.mode!==t&&(this.gl.blendEquation(t),this._blendEquationState.mode=t,this._blendEquationState.modeAlpha=t)},t.prototype.setBlendEquationSeparate=function(t,e){this._blendEquationState.mode===t&&this._blendEquationState.modeAlpha===e||(this.gl.blendEquationSeparate(t,e),this._blendEquationState.mode=t,this._blendEquationState.modeAlpha=e)},t.prototype.setColorMask=function(t,e,i,n){this._colorMaskState.r===t&&this._colorMaskState.g===e&&this._colorMaskState.b===i&&this._colorMaskState.a===n||(this.gl.colorMask(t,e,i,n),this._colorMaskState.r=t,this._colorMaskState.g=e,this._colorMaskState.b=i,this._colorMaskState.a=n)},t.prototype.setClearColor=function(t,e,i,n){this._clearColor.r===t&&this._clearColor.g===e&&this._clearColor.b===i&&this._clearColor.a===n||(this.gl.clearColor(t,e,i,n),this._clearColor.r=t,this._clearColor.g=e,this._clearColor.b=i,this._clearColor.a=n)},t.prototype.setFaceCullingEnabled=function(t){this._polygonCullingEnabled!==t&&(!0===t?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE),this._polygonCullingEnabled=t)},t.prototype.setPolygonOffsetFillEnabled=function(t){this._polygonOffsetFillEnabled!==t&&(!0===t?this.gl.enable(this.gl.POLYGON_OFFSET_FILL):this.gl.disable(this.gl.POLYGON_OFFSET_FILL),this._polygonOffsetFillEnabled=t)},t.prototype.setPolygonOffset=function(t,e){this._polygonOffset[0]===t&&this._polygonOffset[1]===e||(this._polygonOffset[0]=t,this._polygonOffset[1]=e,this.gl.polygonOffset(t,e))},t.prototype.setCullFace=function(t){this._cullFace!==t&&(this.gl.cullFace(t),this._cullFace=t)},t.prototype.setFrontFace=function(t){this._frontFace!==t&&(this.gl.frontFace(t),this._frontFace=t)},t.prototype.setScissorTestEnabled=function(t){this._scissorTestEnabled!==t&&(!0===t?this.gl.enable(this.gl.SCISSOR_TEST):this.gl.disable(this.gl.SCISSOR_TEST),this._scissorTestEnabled=t)},t.prototype.setScissorRect=function(t,e,i,n){this._scissorRect.x===t&&this._scissorRect.y===e&&this._scissorRect.width===i&&this._scissorRect.height===n||(this.gl.scissor(t,e,i,n),this._scissorRect.x=t,this._scissorRect.y=e,this._scissorRect.width=i,this._scissorRect.height=n)},t.prototype.setDepthTestEnabled=function(t){this._depthTestEnabled!==t&&(!0===t?this.gl.enable(this.gl.DEPTH_TEST):this.gl.disable(this.gl.DEPTH_TEST),this._depthTestEnabled=t)},t.prototype.setClearDepth=function(t){this._clearDepth!==t&&(this.gl.clearDepth(t),this._clearDepth=t)},t.prototype.setDepthFunction=function(t){this._depthFunction!==t&&(this.gl.depthFunc(t),this._depthFunction=t)},t.prototype.setDepthWriteEnabled=function(t){this._depthWriteEnabled!==t&&(this.gl.depthMask(t),this._depthWriteEnabled=t)},t.prototype.setDepthRange=function(t,e){this._depthRange.zNear===t&&this._depthRange.zFar===e||(this.gl.depthRange(t,e),this._depthRange.zNear=t,this._depthRange.zFar=e)},t.prototype.setStencilTestEnabled=function(t){this._stencilTestEnabled!==t&&(!0===t?this.gl.enable(this.gl.STENCIL_TEST):this.gl.disable(this.gl.STENCIL_TEST),this._stencilTestEnabled=t)},t.prototype.setClearStencil=function(t){t!==this._clearStencil&&(this.gl.clearStencil(t),this._clearStencil=t)},t.prototype.setStencilFunction=function(t,e,i){this._stencilFunction.func===t&&this._stencilFunction.ref===e&&this._stencilFunction.mask===i||(this.gl.stencilFunc(t,e,i),this._stencilFunction.face=1032,this._stencilFunction.func=t,this._stencilFunction.ref=e,this._stencilFunction.mask=i)},t.prototype.setStencilFunctionSeparate=function(t,e,i,n){this._stencilFunction.face===t&&this._stencilFunction.func===e&&this._stencilFunction.ref===i&&this._stencilFunction.mask===n||(this.gl.stencilFuncSeparate(t,e,i,n),this._stencilFunction.face=t,this._stencilFunction.func=e,this._stencilFunction.ref=i,this._stencilFunction.mask=n)},t.prototype.setStencilWriteMask=function(t){this._stencilWriteMask!==t&&(this.gl.stencilMask(t),this._stencilWriteMask=t)},t.prototype.setStencilOp=function(t,e,i){this._stencilOperation.fail===t&&this._stencilOperation.zFail===e&&this._stencilOperation.zPass===i||(this.gl.stencilOp(t,e,i),this._stencilOperation.face=1032,this._stencilOperation.fail=t,this._stencilOperation.zFail=e,this._stencilOperation.zPass=i)},t.prototype.setStencilOpSeparate=function(t,e,i,n){this._stencilOperation.face===t&&this._stencilOperation.fail===e&&this._stencilOperation.zFail===i&&this._stencilOperation.zPass===n||(this.gl.stencilOpSeparate(t,e,i,n),this._stencilOperation.face=t,this._stencilOperation.face=t,this._stencilOperation.fail=e,this._stencilOperation.zFail=i,this._stencilOperation.zPass=n)},t.prototype.setLineWidth=function(t){var e=this._lineWidth;return this._lineWidth!==t&&(this.gl.lineWidth(t),this._lineWidth=t),e},t.prototype.setActiveTexture=function(t){var e=this._activeTextureUnit;return t>=0&&t!==this._activeTextureUnit&&(this.gl.activeTexture(n.BASE_TEXTURE_UNIT+t),this._activeTextureUnit=t),e},t.prototype.clear=function(t){t&&this.gl.clear(t)},t.prototype.drawArrays=function(t,e,n){i("esri-webgl-debug")&&(this._numOfDrawCalls++,this._numOfTriangles+=a(t,n)),this.gl.drawArrays(t,e,n)},t.prototype.drawElements=function(t,e,n,r){i("esri-webgl-debug")&&(this._numOfDrawCalls++,this._numOfTriangles+=a(t,e)),5123!==n?5125===n&&this.gl.drawElements(t,e,n,r):this.gl.drawElements(t,e,n,r)},t.prototype.logIno=function(){i("esri-webgl-debug")&&console.log("DrawCalls: "+this._numOfDrawCalls+", Triangles: "+this._numOfTriangles)},Object.defineProperty(t.prototype,"capabilities",{get:function(){return this._capabilities},enumerable:!0,configurable:!0}),t.prototype.setViewport=function(t,e,i,n){var r=this._viewport;r.x===t&&r.y===e&&r.width===i&&r.height===n||(r.x=t,r.y=e,r.width=i,r.height=n,this.gl.viewport(t,e,i,n))},t.prototype.getViewport=function(){return{x:this._viewport.x,y:this._viewport.y,width:this._viewport.width,height:this._viewport.height}},t.prototype.bindProgram=function(t){if(!t)return this.gl.useProgram(null),void(this._activeShaderProgram=null);this._activeShaderProgram!==t&&(t.initialize(),this.gl.useProgram(t.glName),this._activeShaderProgram=t)},t.prototype.bindTexture=function(e,i){void 0===i&&(i=0),-1===t._MAX_TEXTURE_IMAGE_UNITS&&(t._MAX_TEXTURE_IMAGE_UNITS=this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS)),(i>=t._MAX_TEXTURE_IMAGE_UNITS||i<0)&&console.error("Input texture unit is out of range of available units!");var n=this._textureUnitMap[i];return this.setActiveTexture(i),null==e||null==e.glName?(null!=n&&(this.gl.bindTexture(n.descriptor.target,null),n.setBoundToUnit(i,!1)),void(this._textureUnitMap[i]=null)):n&&n.id===e.id?void e.applyChanges():(this.gl.bindTexture(e.descriptor.target,e.glName),e.setBoundToUnit(i,!0),e.applyChanges(),void(this._textureUnitMap[i]=e))},t.prototype.bindFramebuffer=function(t){if(!t)return this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),void(this._activeFramebuffer=null);this._activeFramebuffer!==t&&(t.initialize()||this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,t.glName),this._activeFramebuffer=t)},t.prototype.bindBuffer=function(e){e&&(34962===e.bufferType?this._activeVertexBuffer=t._bindBuffer(this.gl,e,e.bufferType,this._activeVertexBuffer):this._activeIndexBuffer=t._bindBuffer(this.gl,e,e.bufferType,this._activeIndexBuffer))},t.prototype.bindRenderbuffer=function(t){var e=this.gl;t||(e.bindRenderbuffer(e.RENDERBUFFER,null),this._activeRenderbuffer=null),this._activeRenderbuffer!==t&&(e.bindRenderbuffer(e.RENDERBUFFER,t.glName),this._activeRenderbuffer=t)},t.prototype.unbindBuffer=function(e){34962===e?this._activeVertexBuffer=t._bindBuffer(this.gl,null,e,this._activeVertexBuffer):this._activeIndexBuffer=t._bindBuffer(this.gl,null,e,this._activeIndexBuffer)},t.prototype.bindVAO=function(t){t?this._activeVertexArrayObject&&this._activeVertexArrayObject.id===t.id||(t.bind(),this._activeVertexArrayObject=t):this._activeVertexArrayObject&&(this._activeVertexArrayObject.unbind(),this._activeVertexArrayObject=null)},t.prototype.getBoundTexture=function(t){return this._textureUnitMap[t]},t.prototype.getBoundFramebufferObject=function(){return this._activeFramebuffer},t.prototype.getBoundVAO=function(){return this._activeVertexArrayObject},t.prototype.resetState=function(){this.bindProgram(null),this.bindVAO(null),this.bindFramebuffer(null),this.unbindBuffer(34962),this.unbindBuffer(34963);for(var t=0;t<this.parameters.maxTextureImageUnits;t++)this.bindTexture(null,t);this.setBlendingEnabled(!1),this.setBlendFunction(1,0),this.setBlendEquation(32774),this.setBlendColor(0,0,0,0),this.setFaceCullingEnabled(!1),this.setCullFace(1029),this.setFrontFace(2305),this.setPolygonOffsetFillEnabled(!1),this.setPolygonOffset(0,0),this.setScissorTestEnabled(!1),this.setScissorRect(0,0,this.gl.canvas.width,this.gl.canvas.height),this.setDepthTestEnabled(!1),this.setDepthFunction(513),this.setDepthRange(0,1),this.setStencilTestEnabled(!1),this.setStencilFunction(519,0,0),this.setStencilOp(7680,7680,7680),this.setClearColor(0,0,0,0),this.setClearDepth(1),this.setClearStencil(0),this.setColorMask(!0,!0,!0,!0),this.setStencilWriteMask(4294967295),this.setDepthWriteEnabled(!0),this.setViewport(0,0,this.gl.canvas.width,this.gl.canvas.height)},t.prototype.enforceState=function(){var t=this.gl,e=this._capabilities.vao;e&&e.bindVertexArray(null);for(var r=0;r<this.parameters.maxVertexAttributes;r++)t.disableVertexAttribArray(r);if(this._activeVertexBuffer?t.bindBuffer(this._activeVertexBuffer.bufferType,this._activeVertexBuffer.glName):t.bindBuffer(34962,null),this._activeIndexBuffer?t.bindBuffer(this._activeIndexBuffer.bufferType,this._activeIndexBuffer.glName):t.bindBuffer(34963,null),e&&this._activeVertexArrayObject){var s=this._activeVertexArrayObject;this._activeVertexArrayObject&&(this._activeVertexArrayObject.unbind(),this._activeVertexArrayObject=null),this.bindVAO(s)}t.bindFramebuffer(t.FRAMEBUFFER,this._activeFramebuffer?this._activeFramebuffer.glName:null),t.useProgram(this._activeShaderProgram?this._activeShaderProgram.glName:null),t.blendColor(this._blendColorState.r,this._blendColorState.g,this._blendColorState.b,this._blendColorState.a),t.bindRenderbuffer(t.RENDERBUFFER,this._activeRenderbuffer?this._activeRenderbuffer.glName:null),!0===this._blendEnabled?t.enable(this.gl.BLEND):t.disable(this.gl.BLEND),t.blendEquationSeparate(this._blendEquationState.mode,this._blendEquationState.modeAlpha),t.blendFuncSeparate(this._blendFunctionState.srcRGB,this._blendFunctionState.dstRGB,this._blendFunctionState.srcAlpha,this._blendFunctionState.dstAlpha),t.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearColor.a),t.clearDepth(this._clearDepth),t.clearStencil(this._clearStencil),t.colorMask(this._colorMaskState.r,this._colorMaskState.g,this._colorMaskState.b,this._colorMaskState.a),t.cullFace(this._cullFace),t.depthFunc(this._depthFunction),t.depthRange(this._depthRange.zNear,this._depthRange.zFar),!0===this._depthTestEnabled?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),t.depthMask(this._depthWriteEnabled),t.frontFace(this._frontFace),t.lineWidth(this._lineWidth),!0===this._polygonCullingEnabled?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),t.polygonOffset(this._polygonOffset[0],this._polygonOffset[1]),!0===this._polygonOffsetFillEnabled?t.enable(t.POLYGON_OFFSET_FILL):t.disable(t.POLYGON_OFFSET_FILL),t.scissor(this._scissorRect.x,this._scissorRect.y,this._scissorRect.width,this._scissorRect.height),!0===this._scissorTestEnabled?t.enable(t.SCISSOR_TEST):t.disable(t.SCISSOR_TEST),t.stencilFunc(this._stencilFunction.func,this._stencilFunction.ref,this._stencilFunction.mask),t.stencilOpSeparate(this._stencilOperation.face,this._stencilOperation.fail,this._stencilOperation.zFail,this._stencilOperation.zPass),!0===this._stencilTestEnabled?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),t.stencilMask(this._stencilWriteMask);for(var o=0;o<this.parameters.maxTextureImageUnits;o++){t.activeTexture(n.BASE_TEXTURE_UNIT+o),t.bindTexture(3553,null);var a=this._textureUnitMap[o];a&&t.bindTexture(a.descriptor.target,a.glName)}t.activeTexture(n.BASE_TEXTURE_UNIT+this._activeTextureUnit),t.viewport(this._viewport.x,this._viewport.y,this._viewport.width,this._viewport.height),i("esri-webgl-debug")&&(this._numOfDrawCalls=0,this._numOfTriangles=0)},t._bindBuffer=function(t,e,i,n){return e?n===e?n:(t.bindBuffer(i,e.glName),e):(t.bindBuffer(i,null),null)},t._MAX_TEXTURE_IMAGE_UNITS=-1,t}()}.apply(null,n))||(t.exports=r)}}]);