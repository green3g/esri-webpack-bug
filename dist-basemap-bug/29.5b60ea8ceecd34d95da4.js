(function(){(this||window).webpackJsonp.registerAbsMids({"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/3d/layers/graphics/graphicUtils":406,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/layers/graphics/dehydratedFeatures":598,"esri/views/2d/engine/webgl/enums":623,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/engine/webgl/enums":623,"esri/views/2d/engine/webgl/Utils":675,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/engine/webgl/Utils":675,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/layers/graphics/dehydratedFeatureComparison":751,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/core/libs/gl-matrix/common":765,"esri/core/libs/gl-matrix/vec2":961,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/core/libs/gl-matrix/vec2":961,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/3d/layers/support/FastSymbolUpdates":966,"esri/core/HandleOwner":981,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/core/HandleOwner":981,"esri/views/2d/engine/webgl/color":1027,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/engine/webgl/color":1027,"esri/views/2d/engine/webgl/util/serializationUtils":1060,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/engine/webgl/util/serializationUtils":1060,"esri/views/2d/engine/webgl/number":1061,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/engine/webgl/number":1061,"esri/views/2d/engine/webgl/WGLDisplayRecord":1284,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/engine/webgl/WGLDisplayRecord":1284,"esri/core/libs/gl-matrix/mat2d":1303,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/core/libs/gl-matrix/mat2d":1303,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/engine/webgl/MaterialInfoUtils":1387,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/engine/webgl/MaterialInfo":1388,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/engine/webgl/MaterialKeyInfo":1389,"esri/views/2d/engine/webgl/visualVariablesUtils":1437,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/engine/webgl/visualVariablesUtils":1437,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/engine/webgl/MaterialInfoUtils_updateMaterialVariations":1533,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/engine/webgl/SymbolProperties":1534,"esri/views/2d/engine/webgl/WGLDisplayObject":1583,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/engine/webgl/WGLDisplayObject":1583,"esri/views/2d/engine/webgl/collisions/BoundingBox":1584,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/engine/webgl/collisions/BoundingBox":1584,"esri/views/2d/engine/webgl/mesh/factories/MaterialStore":1585,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/engine/webgl/mesh/factories/MaterialStore":1585,"esri/views/2d/engine/webgl/util/Writer":1586,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/engine/webgl/util/Writer":1586,"esri/views/2d/engine/webgl/rendererInfoUtils":1661,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/engine/webgl/rendererInfoUtils":1661,"esri/views/2d/engine/webgl/fontUtils":1662,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/engine/webgl/fontUtils":1662,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/engine/webgl/MeshData":2429,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/2d/engine/webgl/collisions/Metric":2430})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{1027:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(1061)],void 0===(n=function(e,t,r){function i(e,t){return Array.isArray(t)?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]):(e[0]=t.r,e[1]=t.g,e[2]=t.b,e[3]=t.a),e}function n(e,t,r){void 0===t&&(t=0),void 0===r&&(r=!1);var i=e[t+3];return e[t+0]*=i,e[t+1]*=i,e[t+2]*=i,r||(e[t+3]*=255),e}Object.defineProperty(t,"__esModule",{value:!0}),t.white=[255,255,255,1];var a=[0,0,0,0];t.premultiplyAlpha=n,t.copyAndPremultiply=function(e){return n(i([],e))},t.premultiplyAlphaUint32=function(e){return n(i(a,e)),r.i8888to32(a[0],a[1],a[2],a[3])},t.premultiplyAlphaRGBA=function(e){var t=e.r,i=e.g,n=e.b,a=e.a,o=t*a,s=i*a,l=n*a,u=255*a;return r.i8888to32(o,s,l,u)}}.apply(null,i))||(e.exports=n)},1060:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeList=function(e,t){if(null!==t){e.push(t.length);for(var r=0,i=t;r<i.length;r++)i[r].serialize(e);return e}e.push(0)},t.deserializeList=function(e,t,r){for(var i=e.readInt32(),n=new Array(i),a=0;a<n.length;a++)n[a]=t.deserialize(e,r);return n}}.apply(null,i))||(e.exports=n)},1061:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=new Float32Array(1),i=new Uint32Array(r.buffer);t.nextHighestPowerOfTwo=function(e){var t=e;return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t},t.toUint32=function(e){return r[0]=e,i[0]},t.i1616to32=function(e,t){return 65535&e|t<<16},t.i8888to32=function(e,t,r,i){return 255&e|(255&t)<<8|(255&r)<<16|i<<24},t.i8816to32=function(e,t,r){return 255&e|(255&t)<<8|r<<16},t.numTo32=function(e){return 0|e}}.apply(null,i))||(e.exports=n)},1284:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(343),r(2429),r(675)],void 0===(n=function(e,t,r,i,n){var a=r.getLogger("esri/views/2d/engine/webgl/WGLDisplayRecord");return function(){function e(e,t,r){this.id=e,this.geometryType=t,this._materialInfo=r,this.meshData=null,this.symbolLevel=0,this.zOrder=0,this.vertexFrom=0,this.vertexCount=0,this.indexFrom=0,this.indexCount=0}return Object.defineProperty(e.prototype,"sortKey",{get:function(){return void 0===this._sortKey&&this._computeSortKey(),this._sortKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"materialInfo",{get:function(){return"number"==typeof this._materialInfo?(a.warn("Tried to read materialInfo, but found an index! Was materialInfo deserialized correctly?"),null):this._materialInfo},set:function(e){this._materialInfo=e},enumerable:!0,configurable:!0}),e.prototype.copy=function(){var t=new e(this.id,this.geometryType,this._materialInfo);return t.vertexFrom=this.vertexFrom,t.vertexCount=this.vertexCount,t.indexFrom=this.indexFrom,t.indexCount=this.indexCount,t.zOrder=this.zOrder,t.symbolLevel=this.symbolLevel,t.meshData=this.meshData,t},e.prototype.setMeshDataFromBuffers=function(e,t,r){var a=new i;for(var o in t){for(var s=t[o].stride,l=t[o].data,u=[],c=n.strideToPackingFactor(s),f=0;f<s*e.vertexCount/c;++f)u[f]=l[f+s*e.vertexFrom/c];a.vertexData.set(o,u)}a.indexData.length=0;for(f=0;f<e.indexCount;++f)a.indexData[f]=r[f+e.indexFrom]-e.vertexFrom;a.vertexCount=e.vertexCount,this.meshData=a},e.prototype.readMeshDataFromBuffers=function(e,t){for(var r in this.meshData?this.meshData.clear():this.meshData=new i,e){for(var a=e[r].stride,o=e[r].data,s=[],l=n.strideToPackingFactor(a),u=0;u<a*this.vertexCount/l;++u)s[u]=o[u+a*this.vertexFrom/l];this.meshData.vertexData.set(r,s)}this.meshData.indexData.length=0;for(u=0;u<this.indexCount;++u)this.meshData.indexData[u]=t[u+this.indexFrom]-this.vertexFrom;this.meshData.vertexCount=this.vertexCount},e.prototype.writeMeshDataToBuffers=function(e,t,r,i){for(var a in t)for(var o=t[a].stride,s=this.meshData.vertexData.get(a),l=t[a].data,u=n.strideToPackingFactor(o),c=0;c<o*this.meshData.vertexCount/u;++c)l[c+o*e/u]=s[c];for(c=0;c<this.meshData.indexData.length;++c)i[c+r]=this.meshData.indexData[c]+e;this.vertexFrom=e,this.vertexCount=this.meshData.vertexCount,this.indexFrom=r,this.indexCount=this.meshData.indexData.length},e.writeAllMeshDataToBuffers=function(e,t,r){for(var i=0,n=0,a=0,o=e;a<o.length;a++){var s=o[a];s.writeMeshDataToBuffers(i,t,n,r),i+=s.vertexCount,n+=s.indexCount}},e.prototype._computeSortKey=function(){this._sortKey=(31&this.symbolLevel)<<12|(127&this.zOrder)<<4|7&this.geometryType},e.prototype.serialize=function(e){return e.push(this.geometryType),e.push(this._materialInfo),e.push(this.symbolLevel),e.push(this.zOrder),e.push(this.vertexFrom),e.push(this.vertexCount),e.push(this.indexFrom),e.push(this.indexCount),e},e.deserialize=function(t,r){var i=t.readInt32(),n=r.store&&r.store.get(t.readInt32())||t.readInt32(),a=new e(r.id,i,n);return a.symbolLevel=t.readInt32(),a.zOrder=t.readInt32(),a.vertexFrom=t.readInt32(),a.vertexCount=t.readInt32(),a.indexFrom=t.readInt32(),a.indexCount=t.readInt32(),a},e}()}.apply(null,i))||(e.exports=n)},1303:function(e,t,r){var i,n;i=[r(765)],void 0===(n=function(e){var t={create:function(){var t=new e.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},clone:function(t){var r=new e.ARRAY_TYPE(6);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},fromValues:function(t,r,i,n,a,o){var s=new e.ARRAY_TYPE(6);return s[0]=t,s[1]=r,s[2]=i,s[3]=n,s[4]=a,s[5]=o,s},set:function(e,t,r,i,n,a,o){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e[4]=a,e[5]=o,e},invert:function(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],o=t[4],s=t[5],l=r*a-i*n;return l?(l=1/l,e[0]=a*l,e[1]=-i*l,e[2]=-n*l,e[3]=r*l,e[4]=(n*s-a*o)*l,e[5]=(i*o-r*s)*l,e):null},determinant:function(e){return e[0]*e[3]-e[1]*e[2]},multiply:function(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=r[0],c=r[1],f=r[2],p=r[3],v=r[4],d=r[5];return e[0]=i*u+a*c,e[1]=n*u+o*c,e[2]=i*f+a*p,e[3]=n*f+o*p,e[4]=i*v+a*d+s,e[5]=n*v+o*d+l,e}};return t.mul=t.multiply,t.rotate=function(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=Math.sin(r),c=Math.cos(r);return e[0]=i*c+a*u,e[1]=n*c+o*u,e[2]=i*-u+a*c,e[3]=n*-u+o*c,e[4]=s,e[5]=l,e},t.scale=function(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=r[0],c=r[1];return e[0]=i*u,e[1]=n*u,e[2]=a*c,e[3]=o*c,e[4]=s,e[5]=l,e},t.translate=function(e,t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=r[0],c=r[1];return e[0]=i,e[1]=n,e[2]=a,e[3]=o,e[4]=i*u+a*c+s,e[5]=n*u+o*c+l,e},t.fromRotation=function(e,t){var r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=r,e[2]=-r,e[3]=i,e[4]=0,e[5]=0,e},t.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e},t.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e},t.str=function(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"},t.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)},t.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e},t.subtract=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e},t.sub=t.subtract,t.multiplyScalar=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e},t.multiplyScalarAndAdd=function(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e[4]=t[4]+r[4]*i,e[5]=t[5]+r[5]*i,e},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]},t.equals=function(t,r){var i=t[0],n=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=r[0],c=r[1],f=r[2],p=r[3],v=r[4],d=r[5];return Math.abs(i-u)<=e.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(n-c)<=e.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(a-f)<=e.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(o-p)<=e.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(s-v)<=e.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(l-d)<=e.EPSILON*Math.max(1,Math.abs(l),Math.abs(d))},t}.apply(null,i))||(e.exports=n)},1387:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(623),r(1388),r(1389)],void 0===(n=function(e,t,r,i,n){function a(e){if(e.geometryType===r.WGLGeometryType.UNKNOWN)return-1;var t,i,n=((i=[])[0]=!!(t=e).sdf,i[1]=!!t.vvSizeMinMaxValue,i[2]=!!t.vvSizeScaleStops,i[3]=!!t.vvSizeFieldStops,i[4]=!!t.vvSizeUnitValue,i[5]=!!t.vvColor,i[6]=!!t.vvRotation,i[7]=!!t.vvOpacity,i[8]=!!t.visibility,i[9]=!!t.pattern,i[10]=!!t.heatmap,i.reduce(function(e,t,r){return t&&(e|=1<<r+2),e},0)<<3);return e.geometryType+n}Object.defineProperty(t,"__esModule",{value:!0}),t.createTextMaterialInfo=function(e,t,o){var s=new i.default,l=new n;return l.geometryType=o,l.sdf=!0,l.pattern=!1,l.visibility=!1,l.heatmap=!1,s.texBindingInfo.push(new i.TexBindingInfo(2,e.page,"u_texture")),0===t?l.vvOpacity=l.vvSizeMinMaxValue=l.vvSizeScaleStops=l.vvSizeFieldStops=l.vvSizeUnitValue=l.vvColor=l.vvRotation=!1:(l.vvOpacity=0!=(t&r.WGLVVFlag.OPACITY),l.vvSizeMinMaxValue=0!=(t&r.WGLVVFlag.SIZE_MINMAX_VALUE),l.vvSizeScaleStops=0!=(t&r.WGLVVFlag.SIZE_SCALE_STOPS),l.vvSizeFieldStops=0!=(t&r.WGLVVFlag.SIZE_FIELD_STOPS),l.vvSizeUnitValue=0!=(t&r.WGLVVFlag.SIZE_UNIT_VALUE),l.vvColor=0!=(t&r.WGLVVFlag.COLOR),l.vvRotation=0!=(t&r.WGLVVFlag.ROTATION)),s.materialKey=a(l),s.materialKeyInfo=l,s},t.createMaterialInfo=function(e,t,o){var s=new i.default,l=new n;if(l.geometryType=t,e){var u=e.spriteMosaicItem;l.sdf=u.sdf,l.pattern=!0,s.texBindingInfo.push(new i.TexBindingInfo(1,u.page,"u_texture"))}else l.sdf=!1,l.pattern=!1;return 0===o?l.vvOpacity=l.vvSizeMinMaxValue=l.vvSizeScaleStops=l.vvSizeFieldStops=l.vvSizeUnitValue=l.vvColor=l.vvRotation=!1:(l.vvOpacity=0!=(o&r.WGLVVFlag.OPACITY),l.vvSizeMinMaxValue=0!=(o&r.WGLVVFlag.SIZE_MINMAX_VALUE),l.vvSizeScaleStops=0!=(o&r.WGLVVFlag.SIZE_SCALE_STOPS),l.vvSizeFieldStops=0!=(o&r.WGLVVFlag.SIZE_FIELD_STOPS),l.vvSizeUnitValue=0!=(o&r.WGLVVFlag.SIZE_UNIT_VALUE),l.vvColor=0!=(o&r.WGLVVFlag.COLOR),l.vvRotation=0!=(o&r.WGLVVFlag.ROTATION)),l.visibility=!1,s.materialKey=a(l),s.materialKeyInfo=l,s},t.getMaterialKey=a,t.getMaterialVariations=function(e){return{geometryType:7&e,programOptions:{id:0!=(1&(e>>=3)),highlight:0!=(2&e),isSDF:0!=(4&e),vvSizeMinMaxValue:0!=(8&e),vvSizeScaleStops:0!=(16&e),vvSizeFieldStops:0!=(32&e),vvSizeUnitValue:0!=(64&e),vvColor:0!=(128&e),vvRotation:0!=(256&e),vvOpacity:0!=(512&e),visibility:0!=(1024&e),pattern:0!=(2048&e),heatmap:0!=(4096&e)}}}}.apply(null,i))||(e.exports=n)},1388:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(623),r(1387),r(1533),r(1389),r(1060)],void 0===(n=function(e,t,r,i,n,a,o){Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t,r){this.unit=e,this.pageId=t,this.semantic=r}return e.prototype.clone=function(){return new e(this.unit,this.pageId,this.semantic)},e.prototype.serialize=function(e){return e.push(this.unit),e.push(this.pageId),e},e.deserialize=function(t){return new e(t.readInt32(),t.readInt32(),"u_texture")},e}();t.TexBindingInfo=s;var l=function(){function e(e,t){this.name=e,this.value=t}return e.prototype.clone=function(){return new e(this.name,this.value)},e.prototype.serialize=function(e){return e.push(this.value),e},e.deserialize=function(t){return new e("u_my_param",t.readInt32())},e}();t.MaterialParam=l;var u=function(){function e(){this.texBindingInfo=[],this.materialParams=[]}return e.fromSprite=function(t,n,o){var l=new e,u=new a;return u.geometryType=n,t?(u.sdf=t.sdf,u.pattern=!0,l.texBindingInfo.push(new s(1,t.page,"u_texture"))):(u.sdf=!1,u.pattern=!1),0===o?u.vvOpacity=u.vvSizeMinMaxValue=u.vvSizeScaleStops=u.vvSizeFieldStops=u.vvSizeUnitValue=u.vvColor=u.vvRotation=!1:(u.vvOpacity=0!=(o&r.WGLVVFlag.OPACITY),u.vvSizeMinMaxValue=0!=(o&r.WGLVVFlag.SIZE_MINMAX_VALUE),u.vvSizeScaleStops=0!=(o&r.WGLVVFlag.SIZE_SCALE_STOPS),u.vvSizeFieldStops=0!=(o&r.WGLVVFlag.SIZE_FIELD_STOPS),u.vvSizeUnitValue=0!=(o&r.WGLVVFlag.SIZE_UNIT_VALUE),u.vvColor=0!=(o&r.WGLVVFlag.COLOR),u.vvRotation=0!=(o&r.WGLVVFlag.ROTATION)),u.visibility=!1,l.materialKey=i.getMaterialKey(u),l.materialKeyInfo=u,l},e.fromGlyph=function(t,n,o){var l=new e,u=new a;return u.geometryType=n,u.sdf=!0,u.pattern=!1,u.visibility=!1,u.heatmap=!1,l.texBindingInfo.push(new s(2,t.page,"u_texture")),0===o?u.vvOpacity=u.vvSizeMinMaxValue=u.vvSizeScaleStops=u.vvSizeFieldStops=u.vvSizeUnitValue=u.vvColor=u.vvRotation=!1:(u.vvOpacity=0!=(o&r.WGLVVFlag.OPACITY),u.vvSizeMinMaxValue=0!=(o&r.WGLVVFlag.SIZE_MINMAX_VALUE),u.vvSizeScaleStops=0!=(o&r.WGLVVFlag.SIZE_SCALE_STOPS),u.vvSizeFieldStops=0!=(o&r.WGLVVFlag.SIZE_FIELD_STOPS),u.vvSizeUnitValue=0!=(o&r.WGLVVFlag.SIZE_UNIT_VALUE),u.vvColor=0!=(o&r.WGLVVFlag.COLOR),u.vvRotation=0!=(o&r.WGLVVFlag.ROTATION)),l.materialKey=i.getMaterialKey(u),l.materialKeyInfo=u,l},e.prototype.copy=function(e){this.materialParams=e.materialParams.map(function(e){return e.clone()}),this.texBindingInfo=e.texBindingInfo.map(function(e){return e.clone()}),e.materialKeyInfo&&(this.materialKeyInfo=new a,this.materialKeyInfo.copy(e.materialKeyInfo)),this.materialKey=e.materialKey},e.prototype.serialize=function(e){return e.push(this.materialKey),o.serializeList(e,this.texBindingInfo),o.serializeList(e,this.materialParams),e},e.deserialize=function(t){var r=new e;return r.materialKey=t.readInt32(),r.texBindingInfo=o.deserializeList(t,s),r.materialParams=o.deserializeList(t,l),r.materialKeyInfo=new a,n(r.materialKeyInfo,r.materialKey),r},e}();t.default=u}.apply(null,i))||(e.exports=n)},1389:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){return function(){function e(){this.sdf=!1,this.vvSizeMinMaxValue=!1,this.vvSizeScaleStops=!1,this.vvSizeFieldStops=!1,this.vvSizeUnitValue=!1,this.vvColor=!1,this.vvRotation=!1,this.vvOpacity=!1,this.visibility=!1,this.pattern=!1,this.heatmap=!1}return e.prototype.copy=function(e){this.geometryType=e.geometryType,this.sdf=e.sdf,this.vvSizeMinMaxValue=e.vvSizeMinMaxValue,this.vvSizeScaleStops=e.vvSizeScaleStops,this.vvSizeFieldStops=e.vvSizeFieldStops,this.vvSizeUnitValue=e.vvSizeUnitValue,this.vvColor=e.vvColor,this.vvRotation=e.vvRotation,this.vvOpacity=e.vvOpacity,this.visibility=e.visibility,this.pattern=e.pattern,this.heatmap=e.heatmap},e.prototype.hasVV=function(){return void 0===this._hasVV&&(this._hasVV=this.vvColor||this.vvOpacity||this.vvRotation||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue),this._hasVV},e.prototype.hasVVSize=function(){return this.vvSizeMinMaxValue||this.vvSizeFieldStops||this.vvSizeScaleStops||this.vvSizeUnitValue},e.prototype.hasVVColor=function(){return this.vvColor},e.prototype.hasVVRotation=function(){return this.vvRotation},e.prototype.hasVVOpacity=function(){return this.vvOpacity},e}()}.apply(null,i))||(e.exports=n)},1437:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(357),r(1027),r(623),r(675),r(966)],void 0===(n=function(e,t,r,i,n,a,o){function s(e){return a.isNumber(e.minDataValue)&&a.isNumber(e.maxDataValue)&&null!=e.minSize&&null!=e.maxSize?n.WGLVVFlag.SIZE_MINMAX_VALUE:(e.expression&&"view.scale"===e.expression||e.valueExpression&&"$view.scale"===e.valueExpression)&&Array.isArray(e.stops)?n.WGLVVFlag.SIZE_SCALE_STOPS:(null!=e.field||e.expression&&"view.scale"!==e.expression||e.valueExpression&&"$view.scale"!==e.valueExpression)&&Array.isArray(e.stops)?n.WGLVVFlag.SIZE_FIELD_STOPS:(null!=e.field||e.expression&&"view.scale"!==e.expression||e.valueExpression&&"$view.scale"!==e.valueExpression)&&null!=e.valueUnit?n.WGLVVFlag.SIZE_UNIT_VALUE:n.WGLVVFlag.NONE}function l(e){return{value:e.value,size:r.toPt(e.size)}}function u(e){return e.map(function(e){return l(e)})}function c(e){if("string"==typeof e||"number"==typeof e)return r.toPt(e);var t=e;return{type:"size",expression:t.expression,stops:u(t.stops)}}function f(e){var t={values:[0,0,0,0,0,0,0,0],opacities:[0,0,0,0,0,0,0,0]};if(a.isString(e.field))if(e.stops){if(e.stops.length>8)return null;for(var r=e.stops,i=0;i<8;++i){var n=r[Math.min(i,r.length-1)];t.values[i]=n.value,t.opacities[i]=n.opacity}}else{if(!e.opacityValues)return null;if(!a.isDefined(e.minDataValue)||!a.isDefined(e.maxDataValue))return null;if(2!==e.opacityValues.length)return null;t.values[0]=e.minDataValue,t.opacities[0]=e.opacityValues[0],t.values[1]=e.maxDataValue,t.opacities[1]=e.opacityValues[1];for(i=2;i<8;++i)t.values[i]=e.maxDataValue,t.opacities[i]=e.opacityValues[1]}else{if(!(e.stops&&e.stops.length>=0||e.opacityValues&&e.opacityValues.length>=0))return null;var o=e.stops&&e.stops.length>=0?e.stops[0].opacity:e.opacityValues[0];for(i=0;i<8;i++)t.values[i]=1/0,t.opacities[i]=o}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getTypeOfSizeVisualVariable=s,t.getVisualVariableSizeValueRepresentationRatio=function(e,t){if(!e||!t)return e;switch(t){case"radius":case"distance":return 2*e;case"diameter":case"width":return e;case"area":return Math.sqrt(e)}return e},t.stopToSizeStop=l,t.normalizeSizeStops=u,t.normalizeSizeElement=c,t.getVisualVariablesFields=function(e){var t=e&&e.length>0?{}:null;return t&&e.forEach(function(e){var r=e.type;e.field&&(t[r]=e.field)}),t},t.convertVisualVariables=function(e){var t=e&&e.length>0?{}:null,a=t?{}:null;if(!t)return{vvFields:t,vvRanges:a};for(var l=0,p=e;l<p.length;l++){var v=p[l],d=v.type;if(v.field&&(t[d]=v.field),"size"===d){a.size||(a.size={});var h=v;switch(s(h)){case n.WGLVVFlag.SIZE_MINMAX_VALUE:a.size.minMaxValue={minDataValue:h.minDataValue,maxDataValue:h.maxDataValue,minSize:c(h.minSize),maxSize:c(h.maxSize)};break;case n.WGLVVFlag.SIZE_SCALE_STOPS:a.size.scaleStops={stops:u(h.stops)};break;case n.WGLVVFlag.SIZE_FIELD_STOPS:for(var m=[],y=[],_=u(h.stops),S=_.length,g=0;g<6;g++){var I=_[Math.min(g,S-1)];m.push(I.value),y.push(r.pt2px(I.size))}a.size.fieldStops={values:m,sizes:y};break;case n.WGLVVFlag.SIZE_UNIT_VALUE:a.size.unitValue={unit:h.valueUnit,valueRepresentation:h.valueRepresentation}}}else if("color"===d){var E=o.convertVisualVariables([v],{modelSize:null,symbolSize:null,unitInMeters:1,transformation:null});for(a.color=E.color,g=0;g<32;g+=4)i.premultiplyAlpha(a.color.colors,g,!0)}else if("opacity"===d)a.opacity=f(v);else if("rotation"===d){var b=v;a.rotation={type:b.rotationType}}}return{vvFields:t,vvRanges:a}}}.apply(null,i))||(e.exports=n)},1533:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){return function(e,t){return e.geometryType=7&t,t>>=3,e.sdf=0!=(4&t),e.vvSizeMinMaxValue=0!=(8&t),e.vvSizeScaleStops=0!=(16&t),e.vvSizeFieldStops=0!=(32&t),e.vvSizeUnitValue=0!=(64&t),e.vvColor=0!=(128&t),e.vvRotation=0!=(256&t),e.vvOpacity=0!=(512&t),e.visibility=0!=(1024&t),e.pattern=0!=(2048&t),e.heatmap=0!=(4096&t),e}}.apply(null,i))||(e.exports=n)},1534:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(412)],void 0===(n=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.color=[0,0,0,0],this.haloColor=[0,0,0,0],this.haloSize=0,this.size=12,this.angle=0,this.offsetX=0,this.offsetY=0,this.hAnchor=0,this.vAnchor=0}return e.prototype.acquire=function(e,t,r,i,n,a,o,s,l){this.color=e,this.haloColor=t,this.haloSize=r,this.size=i,this.angle=n,this.offsetX=a,this.offsetY=o,this.hAnchor=s,this.vAnchor=l},e.prototype.release=function(){this.color[0]=this.color[1]=this.color[2]=this.color[3]=0,this.haloColor[0]=this.haloColor[1]=this.haloColor[2]=this.haloColor[3]=0,this.haloSize=0,this.size=0,this.angle=0,this.offsetX=0,this.offsetY=0,this.hAnchor=0,this.vAnchor=0},e.pool=new r(e),e}();t.TextProperties=i}.apply(null,i))||(e.exports=n)},1583:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(961),r(1284),r(2430),r(1060)],void 0===(n=function(e,t,r,i,n,a){return function(){function e(e){this.xBucket=-1,this.yBucket=-1,this.xOverflow=-1,this.yOverflow=-1,this.id=e,this.displayRecords=[],this.metrics=[],this.anchor=null}return e.prototype.copy=function(){var t=new e(this.id);return t.set(this),t},e.prototype.set=function(e){this.id=e.id,this.displayRecords=e.displayRecords,this.metrics=e.metrics,this.anchor=e.anchor,this.xBucket=e.xBucket,this.yBucket=e.yBucket,this.xOverflow=e.xOverflow,this.yOverflow=e.yOverflow},e.prototype.addMetric=function(e,t,r,i){this.metrics.push(new n.default(e,{from:t,count:r},i))},e.prototype.serialize=function(e){return e.push(this.id),a.serializeList(e,this.metrics),a.serializeList(e,this.displayRecords),this.anchor?(e.writeF32(this.anchor[0]),e.writeF32(this.anchor[1]),e.push(this.xBucket),e.push(this.yBucket),e.push(this.xOverflow),e.push(this.yOverflow)):(e.writeF32(0),e.writeF32(0)),e},e.deserialize=function(t,o){var s=o.store,l=t.readInt32(),u=new e(l),c={id:l,store:s},f=a.deserializeList(t,n.default);f.length&&(u.metrics=f),u.displayRecords=a.deserializeList(t,i,c);var p=t.readF32(),v=t.readF32();return(p||v)&&(u.anchor=r.fromValues(p,v),u.xBucket=t.readInt32(),u.yBucket=t.readInt32(),u.xOverflow=t.readInt32(),u.yOverflow=t.readInt32()),u},e}()}.apply(null,i))||(e.exports=n)},1584:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(961)],void 0===(n=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,i,n){this.width=i,this.height=n,this.center=r.fromValues(e,t)}return Object.defineProperty(e.prototype,"x",{get:function(){return this.center[0]},set:function(e){this.center[0]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.center[1]},set:function(e){this.center[1]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"halfWidth",{get:function(){return this.width/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"halfHeight",{get:function(){return this.height/2},enumerable:!0,configurable:!0}),e.prototype.serialize=function(e){return e.writeF32(this.center[0]),e.writeF32(this.center[1]),e.push(this.width),e.push(this.height),e},e.deserialize=function(t){return new e(t.readF32(),t.readF32(),t.readInt32(),t.readInt32())},e}();t.default=i}.apply(null,i))||(e.exports=n)},1585:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(1388),r(1060)],void 0===(n=function(e,t,r,i){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this._materials=[],this._materialsIndex=new Map}return e.prototype.insert=function(e){var t=this._materials.length;return this._materials.push(e),t},e.prototype._hashGlyph=function(e,t,r){return"G-"+t+"-"+r+"-"+e.page},e.prototype._hashSprite=function(e,t,r){return e?"S-"+t+"-"+r+"-"+e.page+"-"+(e.sdf?1:0):"S-"+t+"-"+r+"--1}"},e.prototype.createSpriteMaterial=function(e,t,i){var n=this._hashSprite(e,t,i);if(this._materialsIndex.has(n))return this._materialsIndex.get(n);var a=this._materials.length,o=r.default.fromSprite(e,t,i);return this._materials.push(o),this._materialsIndex.set(n,a),a},e.prototype.createGlyphMaterial=function(e,t,i){var n=this._hashGlyph(e,t,i);if(this._materialsIndex.has(n))return this._materialsIndex.get(n);var a=this._materials.length,o=r.default.fromGlyph(e,t,i);return this._materials.push(o),this._materialsIndex.set(n,a),a},e.prototype.get=function(e){return this._materials[e]},e.prototype.serialize=function(e){return i.serializeList(e,this._materials),e},e.deserialize=function(t){var n=new e;return n._materials=i.deserializeList(t,r.default),n},e}();t.default=n}.apply(null,i))||(e.exports=n)},1586:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this._pos=0;var r=t?this._roundToNearest(t,e.BYTES_PER_ELEMENT):40;this._array=new ArrayBuffer(r),this._buffer=new e(this._array),this._ctor=e}return Object.defineProperty(e.prototype,"length",{get:function(){return this._pos},enumerable:!0,configurable:!0}),e.prototype._roundToNearest=function(e,t){var r=Math.round(e);return r+(t-r%t)},e.prototype._ensureSize=function(e){if(this._pos+e>=this._buffer.length){var t=this._roundToNearest(1.5*(this._array.byteLength+e*this._buffer.BYTES_PER_ELEMENT),this._buffer.BYTES_PER_ELEMENT),r=new ArrayBuffer(t),i=new this._ctor(r);i.set(this._buffer,0),this._array=r,this._buffer=i}},e.prototype.writeF32=function(e){this._ensureSize(1);var t=this._pos;return new Float32Array(this._array,4*this._pos,1)[0]=e,this._pos++,t},e.prototype.push=function(e){this._ensureSize(1);var t=this._pos;return this._buffer[this._pos++]=e,t},e.prototype.writeRegion=function(e){this._ensureSize(e.length);var t=this._pos;return this._buffer.set(e,this._pos),this._pos+=e.length,t},e.prototype.buffer=function(){var e=this._array.slice(0,4*this._pos);return this.destroy(),e},e.prototype.destroy=function(){this._array=null,this._buffer=null},e}();t.default=r}.apply(null,i))||(e.exports=n)},1661:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(345),r(384),r(723),r(393),r(623),r(1437)],void 0===(n=function(e,t,r,i,n,a,o,s){function l(e,t,n){if(!e)return null;var o=0,s={},l=e.clone(),c=l.visualVariables,f=null;if("simple"!==l.type){var p=l.field,v=l.valueExpression;if(!p&&v){var d="$$fake"+o++,h=a.createFunction(v);s[d]=function(e,r){return u.repurposeFromGraphicLikeObject(e.geometry,e.attributes,n),a.executeFunction(h,{vars:{$feature:u,$view:a.getViewInfo(r)},spatialReference:t})},l.field=d,l.valueExpression=null,f=function(e,t){return t.attributes[d]=s[d](t),e.valueExpression?e.getSymbol(i.fromJSON(t)):e.getSymbol(t)}}}return c&&(l.visualVariables=c.map(function(e){if(e.normalizationField){var i=e.field,l=e.normalizationField,c="$$fake"+o++;return s[c]=function(e,t){return e.attributes[i]/e.attributes[l]},(f=r({},e)).field=c,delete f.normalizationField,f}if(e.valueExpression&&"$view.scale"!==e.valueExpression){var f,p=e.valueExpression,v=(c="$$fake"+o++,a.createFunction(p));return s[c]=function(e,r){return u.repurposeFromGraphicLikeObject(e.geometry,e.attributes,n),a.executeFunction(v,{vars:{$feature:u,$view:a.getViewInfo(r)},spatialReference:t})},(f=r({},e)).field=c,delete f.valueExpression,f}return e})),{renderer:l,normalizingFunctions:s,getSymbolFunction:f}}Object.defineProperty(t,"__esModule",{value:!0});var u=new n;t.createRendererInfo=function(e,t,r){var i=l(e,t,r)||{renderer:null,normalizingFunctions:null,getSymbolFunction:null},n=i&&i.normalizingFunctions,a=i&&i.getSymbolFunction;e=i&&i.renderer||e;var o=s.convertVisualVariables(e.visualVariables);return{renderer:e,vvFields:o.vvFields,vvRanges:o.vvRanges,getValue:function(e,t){var r=n[t];return r?r(e):e.attributes[t]},getSymbol:function(e){return a?a(this.renderer,e):this.renderer.getSymbol?this.renderer.getSymbol.call(this.renderer,e):null}}},t.getNormalizedRenderer=function(e,t,r){var i=l(e,t,r)||{renderer:null,normalizingFunctions:null,getSymbolFunction:null};return i&&i.renderer||e},t.getSymbol=function(e,t){return e.getSymbol(t)},t.isRendererWebGLCompatible=function(e){if(!e)return!1;if(-1===["simple","class-breaks","unique-value","heatmap"].indexOf(e.type))return!1;if(e.visualVariables)for(var t=0,r=e.visualVariables;t<r.length;t++){var i=r[t];switch(i.type){case"color":case"opacity":if(i.stops&&i.stops.length>8)return!1;break;case"size":if(s.getTypeOfSizeVisualVariable(i)===o.WGLVVFlag.SIZE_FIELD_STOPS&&i.stops&&i.stops.length>6)return!1}}return!0}}.apply(null,i))||(e.exports=n)},1662:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=8,i=-3;t.getFullyQualifiedFontName=function(e){var t=function(e){if(!e.weight)return"";switch(e.weight.toLowerCase()){case"bold":case"bolder":return"-bold"}return""}(e)+function(e){if(!e.style)return"";switch(e.style.toLowerCase()){case"italic":case"oblic":return"-italic"}return""}(e);return function(e){var t=e.toLowerCase().split(" ").join("-");switch(t){case"serif":return"noto-serif";case"sans-serif":return"arial-unicode-ms";case"monospace":return"ubuntu-mono";case"fantasy":return"cabin-sketch";case"cursive":return"redressed";default:return t}}(e.family)+(t.length>0?t:"-regular")},t.getFontDecorationOffset=function(e){switch(e.decoration.toLowerCase()){case"underline":return r;case"line-through":return i}return NaN}}.apply(null,i))||(e.exports=n)},2429:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){return function(){function e(){this.vertexData=new Map,this.vertexCount=0,this.indexData=[]}return e.prototype.clear=function(){this.vertexData.clear(),this.vertexCount=0,this.indexData=[]},e.prototype.update=function(e,t,r){for(var i in e)this.vertexData.set(i,e[i]);for(var i in this.vertexData)null===e[i]&&this.vertexData.delete(i);this.vertexCount=t,this.indexData=r},e}()}.apply(null,i))||(e.exports=n)},2430:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(1584)],void 0===(n=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,r,i,n){void 0===i&&(i=255),void 0===n&&(n=0),this.bounds=e,this.range=t,this.index=r,this.minZoom=i,this.maxZoom=n}return e.prototype.serialize=function(e){return this.bounds.serialize(e),e.push(this.range.from),e.push(this.range.count),e.push(this.index),e},e.deserialize=function(t){return new e(r.default.deserialize(t),{from:t.readInt32(),count:t.readInt32()},t.readInt32())},e}();t.default=i}.apply(null,i))||(e.exports=n)},406:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(365),r(389),r(367),r(798),r(693),r(383),r(598),r(344),r(364)],void 0===(n=function(e,t,r,i,n,a,o,s,l,u,c){function f(e){var t=e.paths[0];if(!t||0===t.length)return null;var r=o.getPointOnPath(t,o.getPathLength(t)/2);return l.makeDehydratedPoint(r[0],r[1],r[2],e.spatialReference)}Object.defineProperty(t,"__esModule",{value:!0});var p=[1,1,1];t.computeCentroid=function(e){if("point"===e.type)return e;if(l.isHydratedGeometry(e))switch(e.type){case"extent":return e.center;case"polygon":return e.centroid;case"polyline":return f(e);case"mesh":return e.extent.center}else switch(e.type){case"extent":return function(e){var t=c.isFinite(e.zmin);return l.makeDehydratedPoint(.5*(e.xmax+e.xmin),.5*(e.ymax+e.ymin),t?.5*(e.zmax+e.zmin):void 0,e.spatialReference)}(e);case"polygon":return function(e){var t=e.rings[0];if(!t||0===t.length)return null;var r=a.ringsCentroid(e.rings,e.hasZ);return l.makeDehydratedPoint(r[0],r[1],r[2],e.spatialReference)}(e);case"polyline":return f(e)}},t.convertPointSR=function(e,t){var i=e.spatialReference;i.isWebMercator&&t.isWGS84?(s.xyToLngLat(e.x,e.y,v),e.x=v[0],e.y=v[1],e.spatialReference=r.SpatialReference.WGS84):t.isWebMercator&&i.isWGS84&&(s.lngLatToXY(e.x,e.y,v),e.x=v[0],e.y=v[1],e.spatialReference=r.SpatialReference.WebMercator)},t.enlargeExtent=function(e,t,r){if(e){t||(t=n.create());var i=e,a=.5*i.width*(r-1),o=.5*i.height*(r-1);return i.width<1e-7*i.height?a+=o/20:i.height<1e-7*i.width&&(o+=a/20),u.vec4d.set4(i.xmin-a,i.ymin-o,i.xmax+a,i.ymax+o,t),t}return null},t.updateVertexAttributeAuxpos1w=function(e,t){for(var r=0;r<e.geometries.length;++r){var i=e.geometries[r].data.vertexAttributes.auxpos1;i&&i.data[3]!==t&&(i.data[3]=t,e.geometryVertexAttrsUpdated(r))}},t.mixinColorAndOpacity=function(e,t){var r=[1,1,1,1];return null!=e&&(r[0]=e[0],r[1]=e[1],r[2]=e[2]),null!=t?r[3]=t:null!=e&&e.length>3&&(r[3]=e[3]),r},t.overrideColor=function(e,t,r,i,n,a){void 0===a&&(a=[0,0,0,0]);for(var o=0;o<3;++o)e&&null!=e[o]?a[o]=e[o]:r&&null!=r[o]?a[o]=r[o]:a[o]=n[o];return a[3]=null!=t?t:null!=i?i:n[3],a},t.computeObjectScale=function(e,t,r,i){void 0===e&&(e=p),void 0===i&&(i=1);var n=new Array(3);if(null==t||null==r)n[0]=1,n[1]=1,n[2]=1;else{for(var a=void 0,o=0,s=2;s>=0;s--){var l=e[s],u=void 0,c=null!=l,f=0===s&&!a&&!c,v=r[s];"symbolValue"===l||f?u=0!==v?t[s]/v:1:c&&"proportional"!==l&&isFinite(l)&&(u=0!==v?l/v:1),null!=u&&(n[s]=u,a=u,o=Math.max(o,Math.abs(u)))}for(s=2;s>=0;s--)null==n[s]?n[s]=a:0===n[s]&&(n[s]=.001*o)}for(s=2;s>=0;s--)n[s]/=i;return n},t.computeSizeWithResourceSize=function(e,t){var r=t.isPrimitive,i=t.width,n=t.depth,a=t.height,o=r?10:1;if(null==i&&null==a&&null==n)return[o*e[0],o*e[1],o*e[2]];for(var s,l=[i,n,a],u=0;u<3;u++){var c=l[u];if(null!=c){s=c/e[u];break}}for(u=0;u<3;u++)null==l[u]&&(l[u]=e[u]*s);return l},t.validateSymbolLayerSize=function(e){return function(e){return null!=e.isPrimitive}(e)&&(e=[e.width,e.depth,e.height]),function e(t){if(Array.isArray(t)){for(var r=0,i=t;r<i.length;r++)if(!e(i[r]))return!1;return!0}return null==t||t>=0}(e)?null:"Symbol sizes may not be negative values"},t.computeObjectRotation=function(e,t,r,i){void 0===i&&(i=u.mat4d.identity());var n=e||0,a=t||0,o=r||0;return 0!==n&&u.mat4d.rotateZ(i,-n/180*Math.PI,i),0!==a&&u.mat4d.rotateX(i,a/180*Math.PI,i),0!==o&&u.mat4d.rotateY(i,o/180*Math.PI,i),i},t.demResolutionForBoundingBox=function(e,t){return null!=t.minDemResolution?t.minDemResolution:i.isPoint(e)?t.minDemResolutionForPoints:.01*i.maximumDimension(e)};var v=[0,0]}.apply(null,i))||(e.exports=n)},598:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(384),r(339),r(360),r(389),r(367),r(773),r(751)],void 0===(n=function(e,t,r,i,n,a,o,s,l){function u(e){switch(e){case"esriGeometryPoint":return"point";case"esriGeometryMultipoint":return"multipoint";case"esriGeometryPolyline":return"polyline";case"esriGeometryPolygon":return"polygon";case"esriGeometryEnvelope":return"extent"}}function c(e,t,i,n){return{uid:r.generateUID(),objectId:n&&e.attributes?e.attributes[n]:null,attributes:e.attributes,geometry:f(e.geometry,t,i),visible:!0}}function f(e,t,r){if(!e)return null;switch(t){case"point":var i=e;return{x:i.x,y:i.y,z:i.z,m:i.m,hasZ:null!=i.z,hasM:null!=i.m,type:t,spatialReference:r};case"polyline":var n=e;return{paths:n.paths,hasZ:!!n.hasZ,hasM:!!n.hasM,type:t,spatialReference:r};case"polygon":var a=e;return{rings:a.rings,hasZ:!!a.hasZ,hasM:!!a.hasM,type:t,spatialReference:r};case"multipoint":var o=e;return{points:o.points,hasZ:!!o.hasZ,hasM:!!o.hasM,type:t,spatialReference:r};case"extent":var s=e;return{xmin:s.xmin,ymin:s.ymin,zmin:s.zmin,mmin:s.mmin,xmax:s.xmax,ymax:s.ymax,zmax:s.zmax,mmax:s.mmax,hasZ:!!s.hasZ,hasM:!!s.hasM,type:t,spatialReference:r}}}function p(e){return"declaredClass"in e}function v(e,t){switch(a.empty(t),"mesh"===e.type&&(e=e.extent),e.type){case"point":t[0]=t[3]=e.x,t[1]=t[4]=e.y,e.hasZ&&(t[2]=t[5]=e.z);break;case"polyline":for(var r=0;r<e.paths.length;r++)a.expandWithNestedArray(t,e.paths[r],e.hasZ);break;case"polygon":for(r=0;r<e.rings.length;r++)a.expandWithNestedArray(t,e.rings[r],e.hasZ);break;case"multipoint":a.expandWithNestedArray(t,e.points,e.hasZ);break;case"extent":t[0]=e.xmin,t[1]=e.ymin,t[3]=e.xmax,t[4]=e.ymax,null!=e.zmin&&(t[2]=e.zmin),null!=e.zmax&&(t[5]=e.zmax)}}function d(e,t){switch(o.empty(t),"mesh"===e.type&&(e=e.extent),e.type){case"point":t[0]=t[2]=e.x,t[1]=t[3]=e.y;break;case"polyline":for(var r=0;r<e.paths.length;r++)o.expandWithNestedArray(t,e.paths[r]);break;case"polygon":for(r=0;r<e.rings.length;r++)o.expandWithNestedArray(t,e.rings[r]);break;case"multipoint":o.expandWithNestedArray(t,e.points);break;case"extent":t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax}}Object.defineProperty(t,"__esModule",{value:!0}),t.equals=l.equals,t.isPoint=function(e){return"point"===e.type},t.mapJSONGeometryType=u,t.fromFeatureSetJSON=function(e){var t=u(e.geometryType),r=n.fromJSON(e.spatialReference),i=e.transform;return e.features.map(function(n){var a=c(n,t,r,e.objectIdFieldName),o=a.geometry;if(o&&i)switch(o.type){case"point":a.geometry=s.hydratePoint(i,o,o,o.hasZ,o.hasM);break;case"multipoint":a.geometry=s.hydrateMultipoint(i,o,o,o.hasZ,o.hasM);break;case"polygon":a.geometry=s.hydratePolygon(i,o,o,o.hasZ,o.hasM);break;case"polyline":a.geometry=s.hydratePolyline(i,o,o,o.hasZ,o.hasM)}return a})},t.fromJSON=c,t.fromJSONGeometry=f,t.makeDehydratedPoint=function(e,t,r,i){return{x:e,y:t,z:r,hasZ:null!=r,hasM:!1,spatialReference:i,type:"point"}},t.isHydratedGeometry=function(e){return"declaredClass"in e},t.isHydratedGraphic=p,t.hydrateGraphic=function(e,t){if(!e||p(e))return e;var n=new r({layer:t,sourceLayer:t});return n.visible=e.visible,n.symbol=i.clone(e.symbol),n.attributes=i.clone(e.attributes),e.geometry&&("mesh"===e.geometry.type?n.geometry=e.geometry:n.read({geometry:function(e){var t=e.spatialReference.toJSON();switch(e.type){case"point":return{x:e.x,y:e.y,z:e.z,m:e.m,spatialReference:t};case"polygon":var r=e.rings,i=e.hasZ,n=e.hasM;return{rings:r,hasZ:i,hasM:n,spatialReference:t};case"polyline":var a=e.paths,i=e.hasZ,n=e.hasM;return{paths:a,hasZ:i,hasM:n,spatialReference:t};case"extent":var o=e.xmin,s=e.xmax,l=e.ymin,u=e.ymax,c=e.zmin,f=e.zmax,p=e.mmin,v=e.mmax,i=e.hasZ,n=e.hasM;return{xmin:o,xmax:s,ymin:l,ymax:u,zmin:c,zmax:f,mmin:p,mmax:v,hasZ:i,hasM:n,spatialReference:t};case"multipoint":var d=e.points,i=e.hasZ,n=e.hasM;return{points:d,hasZ:i,hasM:n,spatialReference:t}}}(e.geometry)})),n},t.computeAABB=v,t.expandAABB=function(e,t){v(e,h),a.expand(t,h)},t.computeAABR=d,t.expandAABR=function(e,t){d(e,m),o.expand(t,m)};var h=a.create(),m=o.create()}.apply(null,i))||(e.exports=n)},623:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.FILL=0]="FILL",e[e.LINE=1]="LINE",e[e.MARKER=2]="MARKER",e[e.TEXT=3]="TEXT",e[e.LABEL=4]="LABEL",e[e.NONE=5]="NONE",e[e.UNKNOWN=6]="UNKNOWN",e[e.COUNT=7]="COUNT"}(t.WGLGeometryType||(t.WGLGeometryType={})),function(e){e[e.SUCCEEDED=0]="SUCCEEDED",e[e.FAILED_OUT_OF_MEMORY=1]="FAILED_OUT_OF_MEMORY"}(t.WGLGeometryTransactionStatus||(t.WGLGeometryTransactionStatus={})),function(e){e[e.NONE=0]="NONE",e[e.FILL=1]="FILL",e[e.LINE=2]="LINE",e[e.MARKER=4]="MARKER",e[e.TEXT=8]="TEXT",e[e.LABEL=16]="LABEL",e[e.LABEL_ALPHA=32]="LABEL_ALPHA",e[e.HITTEST=64]="HITTEST",e[e.HIGHLIGHT=128]="HIGHLIGHT",e[e.CLIP=256]="CLIP",e[e.DEBUG=512]="DEBUG",e[e.NUM_DRAW_PHASES=12]="NUM_DRAW_PHASES"}(t.WGLDrawPhase||(t.WGLDrawPhase={})),function(e){e[e.SIZE=0]="SIZE",e[e.COLOR=1]="COLOR",e[e.OPACITY=2]="OPACITY",e[e.ROTATION=3]="ROTATION"}(t.VVType||(t.VVType={})),function(e){e[e.NONE=0]="NONE",e[e.OPACITY=1]="OPACITY",e[e.COLOR=2]="COLOR",e[e.ROTATION=4]="ROTATION",e[e.SIZE_MINMAX_VALUE=8]="SIZE_MINMAX_VALUE",e[e.SIZE_SCALE_STOPS=16]="SIZE_SCALE_STOPS",e[e.SIZE_FIELD_STOPS=32]="SIZE_FIELD_STOPS",e[e.SIZE_UNIT_VALUE=64]="SIZE_UNIT_VALUE"}(t.WGLVVFlag||(t.WGLVVFlag={})),function(e){e[e.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",e[e.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",e[e.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",e[e.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}(t.WGLVVTarget||(t.WGLVVTarget={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.BUTT=1]="BUTT",e[e.ROUND=2]="ROUND",e[e.SQUARE=3]="SQUARE"}(t.CapType||(t.CapType={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.MITER=1]="MITER",e[e.BEVEL=2]="BEVEL",e[e.ROUND=3]="ROUND"}(t.JoinType||(t.JoinType={})),function(e){e.SIMPLE_MARKER="esriSMS",e.SIMPLE_LINE="esriSLS",e.SIMPLE_FILL="esriSFS",e.PICTURE_MARKER="esriPMS",e.PICTURE_FILL="esriPFS",e.TEXT="esriTS"}(t.EsriSymbolType||(t.EsriSymbolType={})),function(e){e.SIMPLE_MARKER="simple-marker",e.SIMPLE_LINE="simple-line",e.SIMPLE_FILL="simple-fill",e.PICTURE_MARKER="picture-marker",e.PICTURE_FILL="picture-fill",e.TEXT="text"}(t.EsriSymbolTypeKebab||(t.EsriSymbolTypeKebab={}))}.apply(null,i))||(e.exports=n)},675:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(1258),r(723),r(342),r(343),r(357),r(393),r(1027),r(623),r(1534)],void 0===(n=function(e,t,r,i,n,a,o,s,l,u,c){function f(e){for(var t={},r=0,i=e;r<i.length;r++){var n=i[r];t[n.name]=n.strideInBytes}return t}function p(e){switch(e){case u.WGLGeometryType.MARKER:return V;case u.WGLGeometryType.FILL:return x;case u.WGLGeometryType.LINE:return T;case u.WGLGeometryType.TEXT:return M;case u.WGLGeometryType.LABEL:return z}return null}function v(e){switch(e%4){case 0:case 2:return 4;case 1:case 3:return 1}}function d(e){switch(e){case"esriSMS":return"simple-marker";case"esriPMS":return"picture-marker";case"esriSLS":return"simple-line";case"esriPLS":return"picture-line";case"esriSFS":return"simple-fill";case"esriPFS":return"picture-fill";case"esriTS":return"text"}return e}function h(e){var t=d(e.type);if(t){switch(t){case"simple-marker":case"picture-marker":case"CIMPointSymbol":return!0}return!1}}function m(e){var t=d(e.type);if(t){switch(t){case"simple-fill":case"picture-fill":case"CIMPolygonSymbol":return!0}return!1}}function y(e){var t=d(e.type);if(t){switch(t){case"simple-line":case"picture-line":case"CIMLineSymbol":return!0}return!1}}function _(e){var t=d(e.type);if(t){switch(t){case"text":case"CIMTextSymbol":return!0}return!1}}function S(e,t){return!1}function g(e){return e&&e.length||0}function I(e){return"string"==typeof e}Object.defineProperty(t,"__esModule",{value:!0});var E,b=a.getLogger("esri.views.2d.engine.webgl.Utils");t.C_HITTEST_SEARCH_SIZE=4,t.C_VBO_GEOMETRY="geometry",t.C_VBO_PERINSTANCE="per_instance",t.C_VBO_PERINSTANCE_VV="per_instance_vv",t.C_VBO_VISIBILITY="visibility",t.C_VBO_VISIBILITY_RANGE="visibilityRange",t.C_ICON_VERTEX_DEF=[{name:t.C_VBO_GEOMETRY,strideInBytes:24,divisor:0},{name:t.C_VBO_VISIBILITY,strideInBytes:1,divisor:0}],t.C_ICON_VERTEX_DEF_VV=[{name:t.C_VBO_GEOMETRY,strideInBytes:40,divisor:0},{name:t.C_VBO_VISIBILITY,strideInBytes:1,divisor:0}],t.C_ICON_HEATMAP=[{name:t.C_VBO_GEOMETRY,strideInBytes:28,divisor:0},{name:t.C_VBO_VISIBILITY,strideInBytes:1,divisor:0}],t.C_FILL_VERTEX_DEF=[{name:t.C_VBO_GEOMETRY,strideInBytes:24,divisor:0},{name:t.C_VBO_VISIBILITY,strideInBytes:1,divisor:0}],t.C_FILL_VERTEX_DEF_VV=[{name:t.C_VBO_GEOMETRY,strideInBytes:32,divisor:0},{name:t.C_VBO_VISIBILITY,strideInBytes:1,divisor:0}],t.C_LINE_VERTEX_DEF=[{name:t.C_VBO_GEOMETRY,strideInBytes:32,divisor:0},{name:t.C_VBO_VISIBILITY,strideInBytes:1,divisor:0}],t.C_LINE_VERTEX_DEF_VV=[{name:t.C_VBO_GEOMETRY,strideInBytes:44,divisor:0},{name:t.C_VBO_VISIBILITY,strideInBytes:1,divisor:0}],t.C_TEXT_VERTEX_DEF=[{name:t.C_VBO_GEOMETRY,strideInBytes:20,divisor:0},{name:t.C_VBO_VISIBILITY,strideInBytes:1,divisor:0}],t.C_TEXT_VERTEX_DEF_VV=[{name:t.C_VBO_GEOMETRY,strideInBytes:36,divisor:0},{name:t.C_VBO_VISIBILITY,strideInBytes:1,divisor:0}],t.C_LABEL_VERTEX_DEF=[{name:t.C_VBO_GEOMETRY,strideInBytes:20,divisor:0},{name:t.C_VBO_VISIBILITY,strideInBytes:1,divisor:0},{name:t.C_VBO_VISIBILITY_RANGE,strideInBytes:2,divisor:0}],t.C_ICON_STRIDE_SPEC=f(t.C_ICON_VERTEX_DEF),t.C_ICON_STRIDE_SPEC_VV=f(t.C_ICON_VERTEX_DEF_VV),t.C_ICON_STRIDE_SPEC_HEATMAP=f(t.C_ICON_HEATMAP),t.C_FILL_STRIDE_SPEC=f(t.C_FILL_VERTEX_DEF),t.C_FILL_STRIDE_SPEC_VV=f(t.C_FILL_VERTEX_DEF_VV),t.C_LINE_STRIDE_SPEC=f(t.C_LINE_VERTEX_DEF),t.C_LINE_STRIDE_SPEC_VV=f(t.C_LINE_VERTEX_DEF_VV),t.C_TEXT_STRIDE_SPEC=f(t.C_TEXT_VERTEX_DEF),t.C_TEXT_STRIDE_SPEC_VV=f(t.C_TEXT_VERTEX_DEF_VV),t.C_LABEL_STRIDE_SPEC=f(t.C_LABEL_VERTEX_DEF),t.getStrides=function(e,r,i){switch(void 0===i&&(i=!1),e){case u.WGLGeometryType.MARKER:return r?t.C_ICON_STRIDE_SPEC_VV:i?t.C_ICON_STRIDE_SPEC_HEATMAP:t.C_ICON_STRIDE_SPEC;case u.WGLGeometryType.FILL:return r?t.C_FILL_STRIDE_SPEC_VV:t.C_FILL_STRIDE_SPEC;case u.WGLGeometryType.LINE:return r?t.C_LINE_STRIDE_SPEC_VV:t.C_LINE_STRIDE_SPEC;case u.WGLGeometryType.TEXT:return r?t.C_TEXT_STRIDE_SPEC_VV:t.C_TEXT_STRIDE_SPEC;case u.WGLGeometryType.LABEL:return t.C_LABEL_STRIDE_SPEC}return null};var V=[t.C_VBO_GEOMETRY,t.C_VBO_VISIBILITY],x=[t.C_VBO_GEOMETRY,t.C_VBO_VISIBILITY],T=[t.C_VBO_GEOMETRY,t.C_VBO_VISIBILITY],M=[t.C_VBO_GEOMETRY,t.C_VBO_VISIBILITY],z=[t.C_VBO_GEOMETRY,t.C_VBO_VISIBILITY,t.C_VBO_VISIBILITY_RANGE];t.getNamedBuffers=p,t.strideToPackingFactor=v,t.allocateTypedArrayBuffer=function(e,t){switch(t%4){case 0:case 2:return new Uint32Array(Math.floor(e*t/4));case 1:case 3:return new Uint8Array(e*t)}},t.allocateTypedArrayBufferwithData=function(e,t){switch(t%4){case 0:case 2:return new Uint32Array(e);case 1:case 3:return new Uint8Array(e)}},t.getSymbolGeometryType=function(e){return h(e)?u.WGLGeometryType.MARKER:y(e)?u.WGLGeometryType.LINE:m(e)?u.WGLGeometryType.FILL:_(e)?u.WGLGeometryType.TEXT:u.WGLGeometryType.UNKNOWN},t.normalizeSymbolType=d,t.isMarkerSymbol=h,t.isFillSymbol=m,t.isLineSymbol=y,t.isPictureSymbol=function(e){var t=d(e.type);if(t){switch(t){case"picture-marker":case"picture-line":case"picture-fill":return!0}return!1}return!1},t.isTextSymbol=_,t.getTextProperties=function(e){return c.TextProperties.pool.acquire(e.color?l.copyAndPremultiply(e.color):[255,255,255,255],e.haloColor?l.copyAndPremultiply(e.haloColor):[255,255,255,255],o.pt2px(e.haloSize),o.pt2px(e.font.size),e.angle*Math.PI/180,e.xoffset/e.font.size,e.yoffset/e.font.size,"left"===e.horizontalAlignment?0:"right"===e.horizontalAlignment?1:.5,"top"===e.verticalAlignment?0:"bottom"===e.verticalAlignment?1:.5)},t.isSameUniformValue=S,t.isSameMaterialInfo=function(e,t){if(e.materialKey!==t.materialKey)return!1;if(g(e.texBindingInfo)!==g(t.texBindingInfo))return!1;if(g(e.materialParams)!==g(t.materialParams))return!1;for(var r=e.texBindingInfo.length,i=0;i<r;++i){var n=e.texBindingInfo[i],a=t.texBindingInfo[i];if(n.unit!==a.unit||n.pageId!==a.pageId||n.semantic!==a.semantic)return!1}var o=e.materialParams.length;for(i=0;i<o;++i){var s=e.materialParams[i],l=t.materialParams[i];if(s.name!==l.name||(s.value,l.value,1))return!1}return!0},t.serializeString=function(e,t,r){for(var i=0,n=e.length,a=0;a<n;++a)t&&(t[r+i]=e.charCodeAt(a)),++i;return t&&(t[r+i]=0),++i},t.deserializeString=function(e,t,r){var i=0;e.s="";for(var n=!0;n;){var a=t[r+i];++i,0!==a?e.s+=String.fromCharCode(a):n=!1}return i},t.isDefined=function(e){return null!=e},t.isNumber=function(e){return"number"==typeof e},t.isString=I,t.isStringOrNull=function(e){return null==e||I(e)},t.lerp=function(e,t,r){return e+(t-e)*r};var L=function(){function e(){this._arr=[],this._push=this._push.bind(this)}return e.prototype._push=function(e,t){this._arr.push(t)},e.prototype.getKeys=function(e){return this._arr.length=0,e&&e.forEach(this._push),this._arr},e}();t.KeysGetter=L;var C=function(){function e(){this._arr=[],this._push=this._push.bind(this)}return e.prototype._push=function(e,t){this._arr.push(e)},e.prototype.getValues=function(e){return this._arr.length=0,e&&e.forEach(this._push),this._arr},e}();t.ValuesGetter=C,t.getCapType=function(e){switch(e){case"butt":return u.CapType.BUTT;case"round":return u.CapType.ROUND;case"square":return u.CapType.SQUARE;default:return b.error(new n("mapview-invalid-type","Cap type "+e+" is not a valid option. Defaulting to round")),u.CapType.ROUND}},t.getJoinType=function(e){switch(e){case"miter":return u.JoinType.MITER;case"bevel":return u.JoinType.BEVEL;case"round":return u.JoinType.ROUND;default:return b.error(new n("mapview-invalid-type","Join type "+e+" is not a valid option. Defaulting to round")),u.JoinType.ROUND}},t.getVVType=function(e){switch(e){case"opacity":return u.VVType.OPACITY;case"color":return u.VVType.COLOR;case"rotation":return u.VVType.ROTATION;case"size":return u.VVType.SIZE;default:return b.error("Cannot interpret unknown vv: "+e),null}},t.createArcadeFunction=function(e,t){var n=e.valueExpression,a=e.spatialReference,o=e.layer,l=s.createFunction(n),u=new i,c=new r({viewingMode:null,scale:null}),f={},p={vars:{$feature:u,$view:null},spatialReference:a};return function(e,r){u.repurposeFromGraphicLikeObject(e.geometry,e.attributes,o),r?(p.vars.$view=c,c.attributes.viewingMode=r.viewingMode,c.attributes.scale=r.scale):p.vars.$view=f;var i=s.executeFunction(l,p);return t?t(i):i}},t.copyMeshData=function(e,t,r,i,n,a,o){for(var s in a)for(var l=a[s].stride,u=v(l),c=a[s].data,f=r[s].data,p=l*n.vertexCount/u,d=l*e/u,h=l*n.vertexFrom/u,m=0;m<p;++m)f[m+d]=c[m+h];var y=n.indexCount;for(m=0;m<y;++m)i[m+t]=o[m+n.indexFrom]-n.vertexFrom+e},t.C_VBO_INFO=((E={})[t.C_VBO_GEOMETRY]=35044,E[t.C_VBO_VISIBILITY]=35044,E[t.C_VBO_VISIBILITY_RANGE]=35048,E),t.createGeometryData=function(e,t){for(var r=[],i=0;i<5;++i){for(var n={},a=0,o=p(i);a<o.length;a++){var s=o[a];n[s]={data:t(i,s)}}r.push({data:e(i),buffers:n})}return r},t.resampleHermite=function(e,t,r,i,n,a,o){void 0===o&&(o=!0);for(var s=t/n,l=r/a,u=Math.ceil(s/2),c=Math.ceil(l/2),f=0;f<a;f++)for(var p=0;p<n;p++){for(var v=4*(p+(o?a-f-1:f)*n),d=0,h=0,m=0,y=0,_=0,S=0,g=0,I=(f+.5)*l,E=Math.floor(f*l);E<(f+1)*l;E++)for(var b=Math.abs(I-(E+.5))/c,V=(p+.5)*s,x=b*b,T=Math.floor(p*s);T<(p+1)*s;T++){var M=Math.abs(V-(T+.5))/u,z=Math.sqrt(x+M*M);z>=-1&&z<=1&&(d=2*z*z*z-3*z*z+1)>0&&(g+=d*e[3+(M=4*(T+E*t))],m+=d,e[M+3]<255&&(d=d*e[M+3]/250),y+=d*e[M],_+=d*e[M+1],S+=d*e[M+2],h+=d)}i[v]=y/h,i[v+1]=_/h,i[v+2]=S/h,i[v+3]=g/m}}}.apply(null,i))||(e.exports=n)},751:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){function r(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var i=e[r],n=t[r];if(i.length!==n.length)return!1;for(var a=0;a<i.length;a++)if(i[a]!==n[a])return!1}return!0}function i(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!r(e[i],t[i]))return!1;return!0}function n(e,t){return e===t||e&&t&&e.equals(t)}function a(e,t){if(e===t)return!0;if(!e||!t)return!1;if(e.type!==t.type)return!1;switch(e.type){case"point":return function(e,t){return!!n(e.spatialReference,t.spatialReference)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.m===t.m}(e,t);case"extent":return function(e,t){return e.hasZ===t.hasZ&&e.hasM===t.hasM&&!!n(e.spatialReference,t.spatialReference)&&e.xmin===t.xmin&&e.ymin===t.ymin&&e.zmin===t.zmin&&e.xmax===t.xmax&&e.ymax===t.ymax&&e.zmax===t.zmax}(e,t);case"polyline":return function(e,t){return e.hasZ===t.hasZ&&e.hasM===t.hasM&&!!n(e.spatialReference,t.spatialReference)&&i(e.paths,t.paths)}(e,t);case"polygon":return function(e,t){return e.hasZ===t.hasZ&&e.hasM===t.hasM&&!!n(e.spatialReference,t.spatialReference)&&i(e.rings,t.rings)}(e,t);case"multipoint":return function(e,t){return e.hasZ===t.hasZ&&e.hasM===t.hasM&&!!n(e.spatialReference,t.spatialReference)&&r(e.points,t.points)}(e,t);case"mesh":return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.equals=function(e,t){return e===t||null!=e&&null!=t&&e.objectId===t.objectId&&!!a(e.geometry,t.geometry)&&!!function(e,t){if(e===t)return!0;if(!e||!t)return!1;for(var r in e)if(!(r in t)||e[r]!==t[r])return!1;for(var r in t)if(!(r in e))return!1;return!0}(e.attributes,t.attributes)}}.apply(null,i))||(e.exports=n)},765:function(e,t,r){var i;void 0===(i=function(){var e={EPSILON:1e-6};e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,e.RANDOM=Math.random,e.ENABLE_SIMD=!1,e.SIMD_AVAILABLE=e.ARRAY_TYPE===Float32Array&&"SIMD"in this,e.USE_SIMD=e.ENABLE_SIMD&&e.SIMD_AVAILABLE,e.setMatrixArrayType=function(t){e.ARRAY_TYPE=t};var t=Math.PI/180;return e.toRadian=function(e){return e*t},e.equals=function(t,r){return Math.abs(t-r)<=e.EPSILON*Math.max(1,Math.abs(t),Math.abs(r))},e}.apply(null,[]))||(e.exports=i)},961:function(e,t,r){var i,n;i=[r(765)],void 0===(n=function(e){var t={create:function(){var t=new e.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},clone:function(t){var r=new e.ARRAY_TYPE(2);return r[0]=t[0],r[1]=t[1],r},fromValues:function(t,r){var i=new e.ARRAY_TYPE(2);return i[0]=t,i[1]=r,i},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e},set:function(e,t,r){return e[0]=t,e[1]=r,e},add:function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e},subtract:function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}};return t.sub=t.subtract,t.multiply=function(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e},t.mul=t.multiply,t.divide=function(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e},t.div=t.divide,t.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e},t.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e},t.min=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e},t.max=function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e},t.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e},t.scale=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e},t.scaleAndAdd=function(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e},t.distance=function(e,t){var r=t[0]-e[0],i=t[1]-e[1];return Math.sqrt(r*r+i*i)},t.dist=t.distance,t.squaredDistance=function(e,t){var r=t[0]-e[0],i=t[1]-e[1];return r*r+i*i},t.sqrDist=t.squaredDistance,t.length=function(e){var t=e[0],r=e[1];return Math.sqrt(t*t+r*r)},t.len=t.length,t.squaredLength=function(e){var t=e[0],r=e[1];return t*t+r*r},t.sqrLen=t.squaredLength,t.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e},t.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},t.normalize=function(e,t){var r=t[0],i=t[1],n=r*r+i*i;return n>0&&(n=1/Math.sqrt(n),e[0]=t[0]*n,e[1]=t[1]*n),e},t.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},t.cross=function(e,t,r){var i=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=i,e},t.lerp=function(e,t,r,i){var n=t[0],a=t[1];return e[0]=n+i*(r[0]-n),e[1]=a+i*(r[1]-a),e},t.random=function(t,r){r=r||1;var i=2*e.RANDOM()*Math.PI;return t[0]=Math.cos(i)*r,t[1]=Math.sin(i)*r,t},t.transformMat2=function(e,t,r){var i=t[0],n=t[1];return e[0]=r[0]*i+r[2]*n,e[1]=r[1]*i+r[3]*n,e},t.transformMat2d=function(e,t,r){var i=t[0],n=t[1];return e[0]=r[0]*i+r[2]*n+r[4],e[1]=r[1]*i+r[3]*n+r[5],e},t.transformMat3=function(e,t,r){var i=t[0],n=t[1];return e[0]=r[0]*i+r[3]*n+r[6],e[1]=r[1]*i+r[4]*n+r[7],e},t.transformMat4=function(e,t,r){var i=t[0],n=t[1];return e[0]=r[0]*i+r[4]*n+r[12],e[1]=r[1]*i+r[5]*n+r[13],e},t.forEach=function(){var e=t.create();return function(t,r,i,n,a,o){var s,l;for(r||(r=2),i||(i=0),l=n?Math.min(n*r+i,t.length):t.length,s=i;s<l;s+=r)e[0]=t[s],e[1]=t[s+1],a(e,e,o),t[s]=e[0],t[s+1]=e[1];return t}}(),t.str=function(e){return"vec2("+e[0]+", "+e[1]+")"},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]},t.equals=function(t,r){var i=t[0],n=t[1],a=r[0],o=r[1];return Math.abs(i-a)<=e.EPSILON*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(n-o)<=e.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))},t}.apply(null,i))||(e.exports=n)},966:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(727),r(406),r(344)],void 0===(n=function(e,t,r,i,n){function a(e){return null!=e}function o(e){return"number"==typeof e}function s(e){return"string"==typeof e}function l(e,t){e&&e.push(t),c(t)}function u(e){E&&console.warn("[FastSymbolUpdates] "+e)}function c(e){E&&console.info("[FastSymbolUpdates] "+e)}function f(e,t,i,n,s){var u=e.minSize,c=e.maxSize;if(e.expression)return l(s,"Could not convert size info: expression not supported"),!1;if(e.useSymbolValue){var f=n.symbolSize[i];return t.minSize[i]=f,t.maxSize[i]=f,t.offset[i]=t.minSize[i],t.factor[i]=0,t.type[i]=1,!0}if(a(e.field))return a(e.stops)?2===e.stops.length&&o(e.stops[0].size)&&o(e.stops[1].size)?(p(e.stops[0].size,e.stops[1].size,e.stops[0].value,e.stops[1].value,t,i),t.type[i]=1,!0):(l(s,"Could not convert size info: stops only supported with 2 elements"),!1):o(u)&&o(c)&&a(e.minDataValue)&&a(e.maxDataValue)?(p(u,c,e.minDataValue,e.maxDataValue,t,i),t.type[i]=1,!0):null!=r.meterIn[e.valueUnit]?(t.minSize[i]=-1/0,t.maxSize[i]=1/0,t.offset[i]=0,t.factor[i]=1/r.meterIn[e.valueUnit],t.type[i]=1,!0):"unknown"===e.valueUnit?(l(s,"Could not convert size info: proportional size not supported"),!1):(l(s,"Could not convert size info: scale-dependent size not supported"),!1);if(!a(e.field)){if(e.stops&&e.stops[0]&&o(e.stops[0].size))return t.minSize[i]=e.stops[0].size,t.maxSize[i]=e.stops[0].size,t.offset[i]=t.minSize[i],t.factor[i]=0,t.type[i]=1,!0;if(o(u))return t.minSize[i]=u,t.maxSize[i]=u,t.offset[i]=u,t.factor[i]=0,t.type[i]=1,!0}return l(s,"Could not convert size info: unsupported variant of sizeInfo"),!1}function p(e,t,r,i,n,a){var o=Math.abs(i-r)>0?(t-e)/(i-r):0;n.minSize[a]=o>0?e:t,n.maxSize[a]=o>0?t:e,n.offset[a]=e-r*o,n.factor[a]=o}function v(e,t,r,i){if(e.normalizationField||e.valueRepresentation)return l(i,"Could not convert size info: unsupported property"),null;if(!function(e){return null==e||s(e)}(e.field))return l(i,"Could not convert size info: field is not a string"),null;if(t.size){if(e.field)if(t.size.field){if(e.field!==t.size.field)return l(i,"Could not convert size info: multiple fields in use"),null}else t.size.field=e.field}else t.size={field:e.field,minSize:[0,0,0],maxSize:[0,0,0],offset:[0,0,0],factor:[0,0,0],type:[0,0,0]};var n;switch(e.axis){case"width":return(n=f(e,t.size,0,r,i))?t:null;case"height":return(n=f(e,t.size,2,r,i))?t:null;case"depth":return(n=f(e,t.size,1,r,i))?t:null;case"width-and-depth":return(n=f(e,t.size,0,r,i))&&f(e,t.size,1,r,i),n?t:null;case null:case void 0:case"all":return(n=(n=(n=f(e,t.size,0,r,i))&&f(e,t.size,1,r,i))&&f(e,t.size,2,r,i))?t:null;default:return l(i,'Could not convert size info: unknown axis "'+e.axis+'""'),null}}function d(e,t,r){e[4*t+0]=r.r/255,e[4*t+1]=r.g/255,e[4*t+2]=r.b/255,e[4*t+3]=r.a}function h(e,t,r){if(e.normalizationField)return l(r,"Could not convert color info: unsupported property"),null;if(s(e.field))if(e.stops){if(e.stops.length>8)return l(r,"Could not convert color info: too many color stops"),null;t.color={field:e.field,values:[0,0,0,0,0,0,0,0],colors:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};for(var i=e.stops,n=0;n<8;++n){var o=i[Math.min(n,i.length-1)];t.color.values[n]=o.value,d(t.color.colors,n,o.color)}}else{if(!e.colors)return l(r,"Could not convert color info: missing stops or colors"),null;if(!a(e.minDataValue)||!a(e.maxDataValue))return l(r,"Could not convert color info: missing data values"),null;if(2!==e.colors.length)return l(r,"Could not convert color info: invalid colors array"),null;t.color={field:e.field,values:[0,0,0,0,0,0,0,0],colors:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},t.color.values[0]=e.minDataValue,d(t.color.colors,0,e.colors[0]),t.color.values[1]=e.maxDataValue,d(t.color.colors,1,e.colors[1]);for(n=2;n<8;++n)t.color.values[n]=e.maxDataValue,d(t.color.colors,n,e.colors[1])}else{if(!(e.stops&&e.stops.length>=0||e.colors&&e.colors.length>=0))return l(r,"Could not convert color info: no field and no colors/stops"),null;var u=e.stops&&e.stops.length>=0?e.stops[0].color:e.colors[0];t.color={field:null,values:[0,0,0,0,0,0,0,0],colors:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};for(n=0;n<8;n++)t.color.values[n]=1/0,d(t.color.colors,n,u)}return t}function m(e,t,r,i){var n=2===r&&"arithmetic"===e.rotationType;t.offset[r]=n?90:0,t.factor[r]=n?-1:1,t.type[r]=1}function y(e,t,r){if(!e)return null;var i=!t.supportedTypes||!!t.supportedTypes.size,n=!t.supportedTypes||!!t.supportedTypes.color,a=!t.supportedTypes||!!t.supportedTypes.rotation;E&&(r=r||[]);var o=e.reduce(function(e,o){if(!e)return e;if(o.valueExpression)return l(r,"Could not convert visual variables: arcade expressions not supported"),null;switch(o.type){case"size":return i?v(o,e,t,r):e;case"color":return n?h(o,e,r):e;case"rotation":return a?function(e,t,r){if(!s(e.field))return l(r,"Could not convert rotation info: field is not a string"),null;if(t.rotation){if(e.field)if(t.rotation.field){if(e.field!==t.rotation.field)return l(r,"Could not convert rotation info: multiple fields in use"),null}else t.rotation.field=e.field}else t.rotation={field:e.field,offset:[0,0,0],factor:[1,1,1],type:[0,0,0]};switch(e.axis){case"tilt":return m(e,t.rotation,0),t;case"roll":return m(e,t.rotation,1),t;case null:case void 0:case"heading":return m(e,t.rotation,2),t;default:return l(r,'Could not convert rotation info: unknown axis "'+e.axis+'""'),null}}(o,e,r):e;default:return l(r,"Could not convert visual variables: unsupported type "+o.type),null}},{size:null,color:null,rotation:null});return o&&o.size&&!function(e,t,r){for(var i=0;i<3;++i){var n=t.unitInMeters;1===e.type[i]&&(n*=t.modelSize[i],e.type[i]=2),e.minSize[i]=e.minSize[i]/n,e.maxSize[i]=e.maxSize[i]/n,e.offset[i]=e.offset[i]/n,e.factor[i]=e.factor[i]/n}var a;if(0!==e.type[0])a=0;else if(0!==e.type[1])a=1;else{if(0===e.type[2])return l(r,"No size axis contains a valid size or scale"),!1;a=2}for(i=0;i<3;++i)0===e.type[i]&&(e.minSize[i]=e.minSize[a],e.maxSize[i]=e.maxSize[a],e.offset[i]=e.offset[a],e.factor[i]=e.factor[a],e.type[i]=e.type[a]);return!0}(o.size,t,r)?null:o}function _(e){return e&&null!=e.size}function S(e,t,r){if(!!e!=!!t)return u("State update failed ({$name} enabled/disabled)"),!1;if(e&&e.field!==t.field)return u("State update failed ({$name} field changed)"),!1;if(e&&"rotation"===r)for(var i=e,n=t,a=0;a<3;a++)if(i.type[a]!==n.type[a]||i.offset[a]!==n.offset[a]||i.factor[a]!==n.factor[a])return!1;return!0}function g(e,t){var r={vvSizeEnabled:!1,vvSizeMinSize:null,vvSizeMaxSize:null,vvSizeOffset:null,vvSizeFactor:null,vvSizeValue:null,vvColorEnabled:!1,vvColorValues:null,vvColorColors:null,vvSymbolAnchor:null,vvSymbolRotation:null},i=_(e);return e&&e.size?(r.vvSizeEnabled=!0,r.vvSizeMinSize=e.size.minSize,r.vvSizeMaxSize=e.size.maxSize,r.vvSizeOffset=e.size.offset,r.vvSizeFactor=e.size.factor):e&&i&&(r.vvSizeValue=t.transformation.scale),e&&i&&(r.vvSymbolAnchor=t.transformation.anchor,r.vvSymbolRotation=t.transformation.rotation),e&&e.color&&(r.vvColorEnabled=!0,r.vvColorValues=e.color.values,r.vvColorColors=e.color.colors),r}Object.defineProperty(t,"__esModule",{value:!0});var I,E=!1,b=!1;t.convertVisualVariables=y,t.initFastSymbolUpdatesState=function(e,t){if(b)return u("State not initialized, fast updates disabled (globally disabled)"),{enabled:!1};if(!e)return u("State not initialized, fast updates disabled (no renderer)"),{enabled:!1};if(e.disableFastUpdates)return u("State not initialized, fast updates disabled (renderer.disableFastUpdates set)"),{enabled:!1};var r=y(e.visualVariables,t);return r?(c("State initialized, fast updates enabled"),{enabled:!0,visualVariables:r,materialParameters:g(r,t),customTransformation:_(r)}):(u("State not initialized, fast updates disabled (conversion failed)"),{enabled:!1})},t.updateFastSymbolUpdatesState=function(e,t,r){if(!t||!e.enabled)return!1;var i=e.visualVariables,n=y(t.visualVariables,r);return n?!!(S(i.size,n.size,"size")&&S(i.color,n.color,"color")&&S(i.rotation,n.rotation,"rotation"))&&(e.visualVariables=n,e.materialParameters=g(n,r),e.customTransformation=_(n),c("State updated"),!0):(u("State update failed (conversion failed)"),!1)},t.getMaterialParams=g,function(e){function t(e,t,r){return e<t?t:e>r?r:e}var r=n.mat4d.create(),a=n.vec3d.create();e.evaluateModelTransform=function(e,o,s){if(!e.vvSizeEnabled)return s;if(n.mat4d.set(s,r),i.computeObjectRotation(e.vvSymbolRotation[2],e.vvSymbolRotation[0],e.vvSymbolRotation[1],r),e.vvSizeEnabled){for(var l=0;l<3;++l){var u=e.vvSizeOffset[l]+o[0]*e.vvSizeFactor[l];a[l]=t(u,e.vvSizeMinSize[l],e.vvSizeMaxSize[l])}n.mat4d.scale(r,a,r)}else n.mat4d.scale(r,e.vvSizeValue,r);return n.mat4d.translate(r,e.vvSymbolAnchor,r),r}}(I||(I={})),t.evaluateModelTransform=I.evaluateModelTransform}.apply(null,i))||(e.exports=n)},981:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(338),r(336),r(346),r(366),r(337)],void 0===(n=function(e,t,r,i,n,a,o){return function(e){function t(){var t=e.call(this)||this;return t.handles=new a,t}return r(t,e),t.prototype.destroy=function(){this.handles.destroy()},i([o.property({readOnly:!0})],t.prototype,"handles",void 0),i([o.subclass("esri.core.HandleOwner")],t)}(o.declared(n))}.apply(null,i))||(e.exports=n)}}]);