(function(){(this||window).webpackJsonp.registerAbsMids({"esri/core/tsSupport/generatorHelper":398,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/core/tsSupport/generatorHelper":398,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/core/tsSupport/awaiterHelper":404,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/3d/support/buffer/BufferView":618,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/3d/support/buffer/InterleavedLayout":665,"esri/views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker":686,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker":686,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/3d/support/buffer/glUtil":753,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/geometry/support/quantizationUtils":773,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/3d/webgl-engine/lib/PreinterleavedGeometryData":808,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/3d/webgl-engine/lib/geometryDataUtils":902,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/3d/webgl-engine/lib/edgeRendering/bufferLayouts":965,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/3d/webgl-engine/lib/edgeRendering/edgeBufferWriters":1008,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/3d/support/meshProcessing":1044,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/3d/support/buffer/internals/Mat3":1501,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/3d/support/buffer/internals/Mat4":1502,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/3d/support/buffer/internals/Single":1503,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/3d/support/buffer/internals/Vec2":1504,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/3d/support/buffer/internals/Vec3":1505,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/3d/support/buffer/internals/Vec4":1506,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/3d/support/buffer/workerHelper":1507,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/views/3d/webgl-engine/lib/edgeRendering/edgePreprocessing":1508})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1008:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(345),r(347),r(344),r(753),r(965)],void 0===(i=function(e,t,r,n,i,o,u){function a(e){var t=f;t[0]=e.position0[0],t[1]=e.position0[1],t[2]=e.position0[2],t[3]=e.position1[0],t[4]=e.position1[1],t[5]=e.position1[2],l[0]=5381;for(var r=0;r<c.length;r++)l[0]=31*l[0]+c[r];return l[0]}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){}return e.prototype.updateSettings=function(e){this.settings=e},e.prototype.write=function(e,t,r){var n=a(r);d.reseed(n);var i=d.randomRangeInt(0,255),o=d.randomRangeInt(0,this.settings.variants-1),u=d.randomFloat(),s=255*(.5*function(e,t){var r=e<0?-1:1;return Math.pow(Math.abs(e),t)*r}(-(1-Math.min(u/.7,1))+Math.max(0,u-.7)/(1-.7),1.2)+.5);e.position0.setVec(t,r.position0),e.position1.setVec(t,r.position1),e.componentIndex.set(t,r.componentIndex),e.variantOffset.set(t,i),e.variantStroke.set(t,o),e.variantExtension.set(t,s)},e.prototype.trim=function(e,t){return e.slice(0,t)},e}();t.CommonBufferWriter=s;var f=new Float32Array(6),c=new Uint32Array(f.buffer),l=new Uint32Array(1),d=new(function(){function e(e){void 0===e&&(e=1),this.seed=e}return e.prototype.randomFloat=function(){return this.step()/e.LARGE_PRIME},e.prototype.randomRangeInt=function(e,t){var r=t-e;return Math.round(e+this.randomFloat()*r)},e.prototype.reseed=function(e){this.seed=e},e.prototype.step=function(){return this.seed=this.seed*e.SMALL_PRIME%e.LARGE_PRIME},e.LARGE_PRIME=2147483647,e.SMALL_PRIME=16807,e}()),p=function(){function e(){this.commonWriter=new s}return e.prototype.updateSettings=function(e){this.commonWriter.updateSettings(e)},e.prototype.allocate=function(e){return u.RegularEdgeInstancesLayout.createBuffer(e)},e.prototype.write=function(e,t,r){this.commonWriter.write(e,t,r);var n=i.vec3d.normalize(i.vec3d.add(r.faceNormal0,r.faceNormal1,y));e.normal.setVec(t,n)},e.prototype.trim=function(e,t){return this.commonWriter.trim(e,t)},e.Layout=u.RegularEdgeInstancesLayout,e.glLayout=o.glLayout(u.RegularEdgeInstancesLayout,{prefixA:!0,divisor:1}),e}();t.RegularEdgeBufferWriter=p;var h=function(){function e(){this.commonWriter=new s}return e.prototype.updateSettings=function(e){this.commonWriter.updateSettings(e)},e.prototype.allocate=function(e){return u.SilhouetteEdgeInstancesLayout.createBuffer(e)},e.prototype.write=function(e,t,r){this.commonWriter.write(e,t,r),e.normalA.setVec(t,r.faceNormal0),e.normalB.setVec(t,r.faceNormal1)},e.prototype.trim=function(e,t){return this.commonWriter.trim(e,t)},e.Layout=u.SilhouetteEdgeInstancesLayout,e.glLayout=o.glLayout(u.SilhouetteEdgeInstancesLayout,{prefixA:!0,divisor:1}),e}();t.SilhouetteEdgeBufferWriter=h;var y=i.vec3d.create()}.apply(null,n))||(e.exports=i)},1044:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(364)],void 0===(i=function(e,t,r){function n(e,t,r,n){for(var i=0;i<n;i++)if(e[t+i]!==e[r+i])return!1;return!0}function i(e,t,r,n,i){for(var o=0;o<i;o++)r[n+o]=e[t+o]}function o(e,t,r){for(var n=0,i=0;i<r;i++)n=(n=e[t+i]+n|0)+(n<<11)+(n>>>2)|0;return n>>>0}Object.defineProperty(t,"__esModule",{value:!0}),t.computeNeighbors=function(e,t){for(var r=e.length/3,n=new Uint32Array(t+1),i=new Uint32Array(t+1),o=function(e,t){e<t?n[e+1]++:i[t+1]++},u=0;u<r;u++){var a=e[3*u],s=e[3*u+1],f=e[3*u+2];o(a,s),o(s,f),o(f,a)}var c=0,l=0;for(u=0;u<t;u++){var d=n[u+1],p=i[u+1];n[u+1]=c,i[u+1]=l,c+=d,l+=p}var h=new Uint32Array(6*r),y=n[t],m=function(e,t,r){if(e<t){var o=n[e+1]++;h[2*o]=t,h[2*o+1]=r}else o=i[t+1]++,h[2*y+2*o]=e,h[2*y+2*o+1]=r};for(u=0;u<r;u++)a=e[3*u],s=e[3*u+1],f=e[3*u+2],m(a,s,u),m(s,f,u),m(f,a,u);var v=function(e,t){for(var r=2*e,n=t-e,i=1;i<n;i++){for(var o=h[r+2*i],u=h[r+2*i+1],a=i-1;a>=0&&h[r+2*a]>o;a--)h[r+2*a+2]=h[r+2*a],h[r+2*a+3]=h[r+2*a+1];h[r+2*a+2]=o,h[r+2*a+3]=u}};for(u=0;u<t;u++)v(n[u],n[u+1]),v(y+i[u],y+i[u+1]);var g=new Int32Array(3*r),w=function(t,r){return t===e[3*r]?0:t===e[3*r+1]?1:t===e[3*r+2]?2:-1},b=function(e,t){var r=w(e,t);g[3*t+r]=-1};for(u=0;u<t;u++){for(var V=n[u],E=n[u+1],B=i[u],I=i[u+1];V<E&&B<I;){var T=h[2*V];T===(_=h[2*y+2*B])?(function(e,t,r,n){var i=w(e,t);g[3*t+i]=n;var o=w(r,n);g[3*n+o]=t}(u,h[2*V+1],_,h[2*y+2*B+1]),V++,B++):T<_?(b(u,h[2*V+1]),V++):(b(_,h[2*y+2*B+1]),B++)}for(;V<E;)b(u,h[2*V+1]),V++;for(;B<I;){var _;b(_=h[2*y+2*B],h[2*y+2*B+1]),B++}}return g};var u=null;t.deduplicate=function(e,t,a,s,f){void 0===a&&(a=0),void 0===s&&(s=0),void 0===f&&(f=e.byteLength/(4*t));var c=new Uint32Array(e,s,f*t),l=new Uint32Array(f),d=Math.floor(1.1*f)+1;(null==u||u.length<2*d)&&(u=new Uint32Array(r.nextHighestPowerOfTwo(2*d)));for(var p=0;p<2*d;p++)u[p]=0;var h=0,y=1.96,m=0!==a?Math.ceil(4*y*y/(a*a)*a*(1-a)):f;for(p=0;p<f;p++){if(p===m){var v=1-h/p;if(v+y*Math.sqrt(v*(1-v)/p)<a)return null;m*=2}for(var g=p*t,w=o(c,g,t),b=w%d,V=h;0!==u[2*b+1];){if(u[2*b]===w){var E=u[2*b+1]-1;if(n(c,g,E*t,t)){V=l[E];break}}++b>=d&&(b-=d)}V===h&&(u[2*b]=w,u[2*b+1]=p+1,h++),l[p]=V}if(0!==a&&1-h/f<a)return null;var B=new Uint32Array(t*h);for(h=0,p=0;p<f;p++)l[p]===h&&(i(c,p*t,B,h*t,t),h++);return{buffer:B.buffer,indices:l,uniqueCount:h}}}.apply(null,n))||(e.exports=i)},1501:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,r,n){void 0===r&&(r=0),this.TypedArrayConstructor=e,this.elementCount=9;var i=this.TypedArrayConstructor;void 0===n&&(n=9*i.BYTES_PER_ELEMENT);var o=0===t.byteLength?0:r;this.data=new i(t,o),this.elementStride=n/i.BYTES_PER_ELEMENT}return e.prototype.getMat=function(e,t){for(var r=e*this.elementStride,n=0;n<9;n++)t[n]=this.data[r+n];return t},e.prototype.setMat=function(e,t){for(var r=e*this.elementStride,n=0;n<9;n++)this.data[r+n]=t[n]},e.prototype.get=function(e,t){return this.data[e*this.elementStride+t]},e.prototype.set=function(e,t,r){this.data[e*this.elementStride+t]=r},Object.defineProperty(e.prototype,"count",{get:function(){return Math.ceil(this.data.length/this.elementStride)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"buffer",{get:function(){return this.data.buffer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typedBuffer",{get:function(){return this.data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stride",{get:function(){return this.elementStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT},enumerable:!0,configurable:!0}),e.ElementCount=9,e}();t.BufferViewMat3=r}.apply(null,n))||(e.exports=i)},1502:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,r,n){void 0===r&&(r=0),this.TypedArrayConstructor=e,this.elementCount=16;var i=this.TypedArrayConstructor;void 0===n&&(n=16*i.BYTES_PER_ELEMENT);var o=0===t.byteLength?0:r;this.data=new i(t,o),this.elementStride=n/i.BYTES_PER_ELEMENT}return e.prototype.getMat=function(e,t){for(var r=e*this.elementStride,n=0;n<16;n++)t[n]=this.data[r+n];return t},e.prototype.setMat=function(e,t){for(var r=e*this.elementStride,n=0;n<16;n++)this.data[r+n]=t[n]},e.prototype.get=function(e,t){return this.data[e*this.elementStride+t]},e.prototype.set=function(e,t,r){this.data[e*this.elementStride+t]=r},Object.defineProperty(e.prototype,"count",{get:function(){return Math.ceil(this.data.length/this.elementStride)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"buffer",{get:function(){return this.data.buffer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typedBuffer",{get:function(){return this.data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stride",{get:function(){return this.elementStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT},enumerable:!0,configurable:!0}),e.ElementCount=16,e}();t.BufferViewMat4=r}.apply(null,n))||(e.exports=i)},1503:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,r,n,i){void 0===r&&(r=0),this.TypedArrayConstructor=e,this.elementCount=1;var o=this.TypedArrayConstructor;void 0===n&&(n=o.BYTES_PER_ELEMENT);var u=0===t.byteLength?0:r;this.data=null==i?new o(t,u):new o(t,u,(i-r)/o.BYTES_PER_ELEMENT),this.elementStride=n/o.BYTES_PER_ELEMENT}return e.prototype.get=function(e){return this.data[e*this.elementStride]},e.prototype.set=function(e,t){this.data[e*this.elementStride]=t},Object.defineProperty(e.prototype,"count",{get:function(){return Math.ceil(this.data.length/this.elementStride)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"buffer",{get:function(){return this.data.buffer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typedBuffer",{get:function(){return this.data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stride",{get:function(){return this.elementStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT},enumerable:!0,configurable:!0}),e.ElementCount=1,e}();t.BufferViewSingle=r}.apply(null,n))||(e.exports=i)},1504:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(344)],void 0===(i=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,r,n,i){void 0===r&&(r=0),this.TypedArrayConstructor=e,this.elementCount=2;var o=this.TypedArrayConstructor;void 0===n&&(n=2*o.BYTES_PER_ELEMENT);var u=0===t.byteLength?0:r;this.data=null==i?new o(t,u):new o(t,u,(i-r)/o.BYTES_PER_ELEMENT),this.elementStride=n/o.BYTES_PER_ELEMENT}return e.prototype.getVec=function(e,t){return r.vec2d.set2(this.data[e*this.elementStride],this.data[e*this.elementStride+1],t)},e.prototype.setVec=function(e,t){this.data[e*this.elementStride]=t[0],this.data[e*this.elementStride+1]=t[1]},e.prototype.get=function(e,t){return this.data[e*this.elementStride+t]},e.prototype.set=function(e,t,r){this.data[e*this.elementStride+t]=r},Object.defineProperty(e.prototype,"count",{get:function(){return Math.ceil(this.data.length/this.elementStride)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"buffer",{get:function(){return this.data.buffer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typedBuffer",{get:function(){return this.data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stride",{get:function(){return this.elementStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typedBufferStride",{get:function(){return this.elementStride},enumerable:!0,configurable:!0}),e.ElementCount=2,e}();t.BufferViewVec2Impl=n}.apply(null,n))||(e.exports=i)},1505:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(344)],void 0===(i=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,r,n,i){void 0===r&&(r=0),this.TypedArrayConstructor=e,this.elementCount=3;var o=this.TypedArrayConstructor;void 0===n&&(n=3*o.BYTES_PER_ELEMENT);var u=0===t.byteLength?0:r;this.data=null==i?new o(t,u):new o(t,u,(i-r)/o.BYTES_PER_ELEMENT),this.elementStride=n/o.BYTES_PER_ELEMENT}return e.prototype.getVec=function(e,t){return r.vec3d.set3(this.data[e*this.elementStride],this.data[e*this.elementStride+1],this.data[e*this.elementStride+2],t)},e.prototype.setVec=function(e,t){this.data[e*this.elementStride]=t[0],this.data[e*this.elementStride+1]=t[1],this.data[e*this.elementStride+2]=t[2]},e.prototype.get=function(e,t){return this.data[e*this.elementStride+t]},e.prototype.set=function(e,t,r){this.data[e*this.elementStride+t]=r},Object.defineProperty(e.prototype,"count",{get:function(){return Math.ceil(this.data.length/this.elementStride)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"buffer",{get:function(){return this.data.buffer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typedBuffer",{get:function(){return this.data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stride",{get:function(){return this.elementStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typedBufferStride",{get:function(){return this.elementStride},enumerable:!0,configurable:!0}),e.ElementCount=3,e}();t.BufferViewVec3Impl=n}.apply(null,n))||(e.exports=i)},1506:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(344)],void 0===(i=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,r,n,i){void 0===r&&(r=0),this.TypedArrayConstructor=e,this.elementCount=4;var o=this.TypedArrayConstructor;void 0===n&&(n=4*o.BYTES_PER_ELEMENT);var u=0===t.byteLength?0:r;this.data=null==i?new o(t,u):new o(t,u,(i-r)/o.BYTES_PER_ELEMENT),this.elementStride=n/o.BYTES_PER_ELEMENT}return e.prototype.getVec=function(e,t){return r.vec4d.set4(this.data[e*this.elementStride],this.data[e*this.elementStride+1],this.data[e*this.elementStride+2],this.data[e*this.elementStride+3],t)},e.prototype.setVec=function(e,t){this.data[e*this.elementStride]=t[0],this.data[e*this.elementStride+1]=t[1],this.data[e*this.elementStride+2]=t[2],this.data[e*this.elementStride+3]=t[3]},e.prototype.get=function(e,t){return this.data[e*this.elementStride+t]},e.prototype.set=function(e,t,r){this.data[e*this.elementStride+t]=r},Object.defineProperty(e.prototype,"count",{get:function(){return Math.ceil(this.data.length/this.elementStride)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"buffer",{get:function(){return this.data.buffer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typedBuffer",{get:function(){return this.data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stride",{get:function(){return this.elementStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typedBufferStride",{get:function(){return this.elementStride},enumerable:!0,configurable:!0}),e.ElementCount=4,e}();t.BufferViewVec4Impl=n}.apply(null,n))||(e.exports=i)},1507:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(345),r(618),r(665)],void 0===(i=function(e,t,r,n,i){function o(e){var t=new Array;return e.fields.forEach(function(e,n){var i=r({},e,{constructor:a(e.constructor)});t.push([n,i])}),{stride:e.stride,fields:t,fieldNames:e.fieldNames}}function u(e){var t=i.newLayout();return t.stride=e.stride,t.fieldNames=e.fieldNames,e.fields.forEach(function(e){return t.fields.set(e[0],r({},e[1],{constructor:function(e){return f.get(e)}(e[1].constructor)}))}),t}function a(e){return e.ElementType+"_"+e.ElementCount}Object.defineProperty(t,"__esModule",{value:!0}),t.packInterleavedBuffer=function(e,t){return t.push(e.buffer),{buffer:e.buffer,layout:o(e.layout)}},t.unpackInterleavedBuffer=function(e){return u(e.layout).createView(e.buffer)},t.packLayout=o,t.unpackLayout=u;var s=[n.BufferViewFloat,n.BufferViewVec2f,n.BufferViewVec3f,n.BufferViewVec4f,n.BufferViewMat4f,n.BufferViewFloat64,n.BufferViewVec2f64,n.BufferViewVec3f64,n.BufferViewVec4f64,n.BufferViewUint8,n.BufferViewVec2u8,n.BufferViewVec3u8,n.BufferViewVec4u8,n.BufferViewUint16,n.BufferViewVec2u16,n.BufferViewVec3u16,n.BufferViewVec4u16,n.BufferViewUint32,n.BufferViewVec2u32,n.BufferViewVec3u32,n.BufferViewVec4u32,n.BufferViewInt8,n.BufferViewVec2i8,n.BufferViewVec3i8,n.BufferViewVec4i8,n.BufferViewInt16,n.BufferViewVec2i16,n.BufferViewVec3i16,n.BufferViewVec4i16,n.BufferViewInt32,n.BufferViewVec2i32,n.BufferViewVec3i32,n.BufferViewVec4i32],f=new Map;s.forEach(function(e){return f.set(a(e),e)})}.apply(null,n))||(e.exports=i)},1508:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(382),r(344),r(364),r(631)],void 0===(i=function(e,t,r,n,i,o){function u(e,t){return e.cosAngle<t}function a(e,t){return e.cosAngle>t}function s(e,t){var r=Math.acos(e.cosAngle),i=l.fwd,o=l.ortho;return n.vec3d.normalize(n.vec3d.direction(e.position0,e.position1,i)),r*(n.vec3d.dot(n.vec3d.cross(e.faceNormal0,e.faceNormal1,o),i)>0?-1:1)>t}function f(e){for(var t=e.faces.length/3,r=e.vertices.position,i=e.faces,o=d.v0,u=d.v1,a=d.v2,s=new Float32Array(3*t),f=0;f<t;f++){var c=i[3*f+0],l=i[3*f+1],p=i[3*f+2];r.getVec(c,o),r.getVec(l,u),r.getVec(p,a),n.vec3d.subtract(u,o),n.vec3d.subtract(a,o),n.vec3d.normalize(n.vec3d.cross(u,a,o)),s[3*f+0]=o[0],s[3*f+1]=o[1],s[3*f+2]=o[2]}return s}Object.defineProperty(t,"__esModule",{value:!0});var c=-1;t.extractEdges=function(e,t,d,h){void 0===h&&(h=p);var y=e.vertices.position,m=e.vertices.componentIndex,v=i.deg2rad(h.anglePlanar),g=i.deg2rad(h.angleSignificantEdge),w=Math.cos(g),b=Math.cos(v),V=l.edge,E=V.position0,B=V.position1,I=V.faceNormal0,T=V.faceNormal1,_=f(e),A=function(e){for(var t=e.faces.length/3,r=e.faces,n=e.neighbors,i=0,o=0;o<t;o++){var u=n[3*o+0],a=n[3*o+1],s=n[3*o+2],f=r[3*o+0],l=r[3*o+1],d=r[3*o+2];i+=u===c||f<l?1:0,i+=a===c||l<d?1:0,i+=s===c||d<f?1:0}for(var p=new Int32Array(4*i),h=0,o=0;o<t;o++){var u=n[3*o+0],a=n[3*o+1],s=n[3*o+2],f=r[3*o+0],l=r[3*o+1],d=r[3*o+2];(u===c||f<l)&&(p[h++]=f,p[h++]=l,p[h++]=o,p[h++]=u),(a===c||l<d)&&(p[h++]=l,p[h++]=d,p[h++]=o,p[h++]=a),(s===c||d<f)&&(p[h++]=d,p[h++]=f,p[h++]=o,p[h++]=s)}return p}(e),S=A.length/4,x=t.allocate(S),P=0,M=S,N=d.allocate(M),j=0,L=0,U=0,C=r.range(0,S),O=new Float32Array(S);o.forEach(O,function(e,t,r){y.getVec(A[4*t+0],E),y.getVec(A[4*t+1],B),r[t]=n.vec3d.dist(E,B)}),C.sort(function(e,t){return O[t]-O[e]});for(var z=new Array,D=new Array,R=0;R<S;R++){var k=C[R],F=O[k],Y=A[4*k+0],W=A[4*k+1],q=A[4*k+2],G=A[4*k+3],H=G===c;if(y.getVec(Y,E),y.getVec(W,B),H)n.vec3d.set3(_[3*q+0],_[3*q+1],_[3*q+2],I),n.vec3d.set(I,T),V.componentIndex=m.get(Y),V.cosAngle=n.vec3d.dot(I,T);else if(n.vec3d.set3(_[3*q+0],_[3*q+1],_[3*q+2],I),n.vec3d.set3(_[3*G+0],_[3*G+1],_[3*G+2],T),V.componentIndex=m.get(Y),V.cosAngle=n.vec3d.dot(I,T),a(V,b))continue;L+=F,U++,H||u(V,w)?(t.write(x,P++,V),z.push(F)):s(V,v)&&(d.write(N,j++,V),D.push(F))}var Q=new Float32Array(z.reverse()),J=new Float32Array(D.reverse());return{regular:{instancesData:t.trim(x,P),lodInfo:{lengths:Q}},silhouette:{instancesData:d.trim(N,j),lodInfo:{lengths:J}},averageEdgeLength:L/U}};var l={edge:{position0:n.vec3d.create(),position1:n.vec3d.create(),faceNormal0:n.vec3d.create(),faceNormal1:n.vec3d.create(),componentIndex:0,cosAngle:0},ortho:n.vec3d.create(),fwd:n.vec3d.create()},d={v0:n.vec3d.create(),v1:n.vec3d.create(),v2:n.vec3d.create()},p={anglePlanar:4,angleSignificantEdge:35}}.apply(null,n))||(e.exports=i)},398:function(e,t,r){var n;void 0===(n=function(){return function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(u=2&r[0]?o.return:r[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,r[1])).done)return u;switch(o=0,u&&(r=[2&r[0],u.value]),r[0]){case 0:case 1:u=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(u=(u=s.trys).length>0&&u[u.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!u||r[1]>u[0]&&r[1]<u[3])){s.label=r[1];break}if(6===r[0]&&s.label<u[1]){s.label=u[1],u=r;break}if(u&&s.label<u[2]){s.label=u[2],s.ops.push(r);break}u[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{i=u=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,o,u,a,s={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}}.apply(null,[]))||(e.exports=n)},404:function(e,t,r){var n,i;n=[r(340)],void 0===(i=function(e){function t(t){return t&&"function"==typeof t.then?t:e.resolve(t)}return function(r,n,i,o){var u=null;return e.create(function(e,i){function a(e){try{f(o.next(e))}catch(e){i(e)}}function s(e){try{f(o.throw(e))}catch(e){i(e)}}function f(r){r.done?(u=t(r.value)).then(e,i):(u=t(r.value)).then(a,s)}f((o=o.apply(r,n||[])).next())},function(e){u&&u.cancel(e)})}}.apply(null,n))||(e.exports=i)},618:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(347),r(1501),r(1502),r(1503),r(1504),r(1505),r(1506)],void 0===(i=function(e,t,r,n,i,o,u,a,s){Object.defineProperty(t,"__esModule",{value:!0});var f=function(e){function t(t,r,n){void 0===r&&(r=0);var i=e.call(this,Float32Array,t,r,n)||this;return i.elementType="f32",i}return r(t,e),t.ElementType="f32",t}(o.BufferViewSingle);t.BufferViewFloat=f;var c=function(e){function t(t,r,n,i){void 0===r&&(r=0);var o=e.call(this,Float32Array,t,r,n,i)||this;return o.elementType="f32",o}return r(t,e),t.ElementType="f32",t}(u.BufferViewVec2Impl);t.BufferViewVec2f=c;var l=function(e){function t(t,r,n,i){void 0===r&&(r=0);var o=e.call(this,Float32Array,t,r,n,i)||this;return o.elementType="f32",o}return r(t,e),t.ElementType="f32",t}(a.BufferViewVec3Impl);t.BufferViewVec3f=l;var d=function(e){function t(t,r,n,i){void 0===r&&(r=0);var o=e.call(this,Float32Array,t,r,n,i)||this;return o.elementType="f32",o}return r(t,e),t.ElementType="f32",t}(s.BufferViewVec4Impl);t.BufferViewVec4f=d;var p=function(e){function t(t,r,n){void 0===r&&(r=0);var i=e.call(this,Float32Array,t,r,n)||this;return i.elementType="f32",i}return r(t,e),t.ElementType="f32",t}(n.BufferViewMat3);t.BufferViewMat3f=p;var h=function(e){function t(t,r,n){void 0===r&&(r=0);var i=e.call(this,Float32Array,t,r,n)||this;return i.elementType="f32",i}return r(t,e),t.ElementType="f32",t}(i.BufferViewMat4);t.BufferViewMat4f=h;var y=function(e){function t(t,r,n){void 0===r&&(r=0);var i=e.call(this,Float64Array,t,r,n)||this;return i.elementType="f64",i}return r(t,e),t.ElementType="f64",t}(o.BufferViewSingle);t.BufferViewFloat64=y;var m=function(e){function t(t,r,n){void 0===r&&(r=0);var i=e.call(this,Float64Array,t,r,n)||this;return i.elementType="f64",i}return r(t,e),t.ElementType="f64",t}(u.BufferViewVec2Impl);t.BufferViewVec2f64=m;var v=function(e){function t(t,r,n){void 0===r&&(r=0);var i=e.call(this,Float64Array,t,r,n)||this;return i.elementType="f64",i}return r(t,e),t.ElementType="f64",t}(a.BufferViewVec3Impl);t.BufferViewVec3f64=v;var g=function(e){function t(t,r,n){void 0===r&&(r=0);var i=e.call(this,Float64Array,t,r,n)||this;return i.elementType="f64",i}return r(t,e),t.ElementType="f64",t}(s.BufferViewVec4Impl);t.BufferViewVec4f64=g;var w=function(e){function t(t,r,n,i){void 0===r&&(r=0);var o=e.call(this,Uint8Array,t,r,n,i)||this;return o.elementType="u8",o}return r(t,e),t.ElementType="u8",t}(o.BufferViewSingle);t.BufferViewUint8=w;var b=function(e){function t(t,r,n){void 0===r&&(r=0);var i=e.call(this,Uint8Array,t,r,n)||this;return i.elementType="u8",i}return r(t,e),t.ElementType="u8",t}(u.BufferViewVec2Impl);t.BufferViewVec2u8=b;var V=function(e){function t(t,r,n){void 0===r&&(r=0);var i=e.call(this,Uint8Array,t,r,n)||this;return i.elementType="u8",i}return r(t,e),t.ElementType="u8",t}(a.BufferViewVec3Impl);t.BufferViewVec3u8=V;var E=function(e){function t(t,r,n,i){void 0===r&&(r=0);var o=e.call(this,Uint8Array,t,r,n,i)||this;return o.elementType="u8",o}return r(t,e),t.ElementType="u8",t}(s.BufferViewVec4Impl);t.BufferViewVec4u8=E;var B=function(e){function t(t,r,n,i){void 0===r&&(r=0);var o=e.call(this,Uint16Array,t,r,n,i)||this;return o.elementType="u16",o}return r(t,e),t.ElementType="u16",t}(o.BufferViewSingle);t.BufferViewUint16=B;var I=function(e){function t(t,r,n){void 0===r&&(r=0);var i=e.call(this,Uint16Array,t,r,n)||this;return i.elementType="u16",i}return r(t,e),t.ElementType="u16",t}(u.BufferViewVec2Impl);t.BufferViewVec2u16=I;var T=function(e){function t(t,r,n){void 0===r&&(r=0);var i=e.call(this,Uint16Array,t,r,n)||this;return i.elementType="u16",i}return r(t,e),t.ElementType="u16",t}(a.BufferViewVec3Impl);t.BufferViewVec3u16=T;var _=function(e){function t(t,r,n){void 0===r&&(r=0);var i=e.call(this,Uint16Array,t,r,n)||this;return i.elementType="u16",i}return r(t,e),t.ElementType="u16",t}(s.BufferViewVec4Impl);t.BufferViewVec4u16=_;var A=function(e){function t(t,r,n,i){void 0===r&&(r=0);var o=e.call(this,Uint32Array,t,r,n,i)||this;return o.elementType="u32",o}return r(t,e),t.ElementType="u32",t}(o.BufferViewSingle);t.BufferViewUint32=A;var S=function(e){function t(t,r,n){void 0===r&&(r=0);var i=e.call(this,Uint32Array,t,r,n)||this;return i.elementType="u32",i}return r(t,e),t.ElementType="u32",t}(u.BufferViewVec2Impl);t.BufferViewVec2u32=S;var x=function(e){function t(t,r,n){void 0===r&&(r=0);var i=e.call(this,Uint32Array,t,r,n)||this;return i.elementType="u32",i}return r(t,e),t.ElementType="u32",t}(a.BufferViewVec3Impl);t.BufferViewVec3u32=x;var P=function(e){function t(t,r,n){void 0===r&&(r=0);var i=e.call(this,Uint32Array,t,r,n)||this;return i.elementType="u32",i}return r(t,e),t.ElementType="u32",t}(s.BufferViewVec4Impl);t.BufferViewVec4u32=P;var M=function(e){function t(t,r,n){void 0===r&&(r=0);var i=e.call(this,Int8Array,t,r,n)||this;return i.elementType="i8",i}return r(t,e),t.ElementType="i8",t}(o.BufferViewSingle);t.BufferViewInt8=M;var N=function(e){function t(t,r,n){void 0===r&&(r=0);var i=e.call(this,Int8Array,t,r,n)||this;return i.elementType="i8",i}return r(t,e),t.ElementType="i8",t}(u.BufferViewVec2Impl);t.BufferViewVec2i8=N;var j=function(e){function t(t,r,n){void 0===r&&(r=0);var i=e.call(this,Int8Array,t,r,n)||this;return i.elementType="i8",i}return r(t,e),t.ElementType="i8",t}(a.BufferViewVec3Impl);t.BufferViewVec3i8=j;var L=function(e){function t(t,r,n){void 0===r&&(r=0);var i=e.call(this,Int8Array,t,r,n)||this;return i.elementType="i8",i}return r(t,e),t.ElementType="i8",t}(s.BufferViewVec4Impl);t.BufferViewVec4i8=L;var U=function(e){function t(t,r,n){void 0===r&&(r=0);var i=e.call(this,Int16Array,t,r,n)||this;return i.elementType="i16",i}return r(t,e),t.ElementType="i16",t}(o.BufferViewSingle);t.BufferViewInt16=U;var C=function(e){function t(t,r,n){void 0===r&&(r=0);var i=e.call(this,Int16Array,t,r,n)||this;return i.elementType="i16",i}return r(t,e),t.ElementType="i16",t}(u.BufferViewVec2Impl);t.BufferViewVec2i16=C;var O=function(e){function t(t,r,n){void 0===r&&(r=0);var i=e.call(this,Int16Array,t,r,n)||this;return i.elementType="i16",i}return r(t,e),t.ElementType="i16",t}(a.BufferViewVec3Impl);t.BufferViewVec3i16=O;var z=function(e){function t(t,r,n){void 0===r&&(r=0);var i=e.call(this,Int16Array,t,r,n)||this;return i.elementType="i16",i}return r(t,e),t.ElementType="i16",t}(s.BufferViewVec4Impl);t.BufferViewVec4i16=z;var D=function(e){function t(t,r,n){void 0===r&&(r=0);var i=e.call(this,Int32Array,t,r,n)||this;return i.elementType="i32",i}return r(t,e),t.ElementType="i32",t}(o.BufferViewSingle);t.BufferViewInt32=D;var R=function(e){function t(t,r,n){void 0===r&&(r=0);var i=e.call(this,Int32Array,t,r,n)||this;return i.elementType="i32",i}return r(t,e),t.ElementType="i32",t}(u.BufferViewVec2Impl);t.BufferViewVec2i32=R;var k=function(e){function t(t,r,n){void 0===r&&(r=0);var i=e.call(this,Int32Array,t,r,n)||this;return i.elementType="i32",i}return r(t,e),t.ElementType="i32",t}(a.BufferViewVec3Impl);t.BufferViewVec3i32=k;var F=function(e){function t(t,r,n){void 0===r&&(r=0);var i=e.call(this,Int32Array,t,r,n)||this;return i.elementType="i32",i}return r(t,e),t.ElementType="i32",t}(s.BufferViewVec4Impl);t.BufferViewVec4i32=F}.apply(null,n))||(e.exports=i)},665:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(618)],void 0===(i=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this.layout=e,this.buffer="number"==typeof t?new ArrayBuffer(t*e.stride):t;for(var r=0,n=e.fieldNames;r<n.length;r++){var i=n[r],o=e.fields.get(i);this[i]=new o.constructor(this.buffer,o.offset,this.stride)}}return Object.defineProperty(e.prototype,"stride",{get:function(){return this.layout.stride},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this.buffer.byteLength/this.stride},enumerable:!0,configurable:!0}),e.prototype.getField=function(e,t){var r=this[e];return r&&r.elementCount===t.ElementCount&&r.elementType===t.ElementType?r:null},e.prototype.slice=function(t,r){return new e(this.layout,this.buffer.slice(t*this.stride,r*this.stride))},e}(),i=function(){function e(){this.stride=0,this.fields=new Map,this.fieldNames=[]}return e.prototype.vec2f=function(e,t){return this.fields.set(e,{size:8,constructor:r.BufferViewVec2f,offset:this.stride,optional:t}),this.stride+=8,this.fieldNames.push(e),this},e.prototype.vec2f64=function(e,t){return this.fields.set(e,{size:16,constructor:r.BufferViewVec2f64,offset:this.stride,optional:t}),this.stride+=16,this.fieldNames.push(e),this},e.prototype.vec3f=function(e,t){return this.fields.set(e,{size:12,constructor:r.BufferViewVec3f,offset:this.stride,optional:t}),this.stride+=12,this.fieldNames.push(e),this},e.prototype.vec3f64=function(e,t){return this.fields.set(e,{size:24,constructor:r.BufferViewVec3f64,offset:this.stride,optional:t}),this.stride+=24,this.fieldNames.push(e),this},e.prototype.vec4f=function(e,t){return this.fields.set(e,{size:16,constructor:r.BufferViewVec4f,offset:this.stride,optional:t}),this.stride+=16,this.fieldNames.push(e),this},e.prototype.vec4f64=function(e,t){return this.fields.set(e,{size:32,constructor:r.BufferViewVec4f64,offset:this.stride,optional:t}),this.stride+=32,this.fieldNames.push(e),this},e.prototype.mat3f=function(e,t){return this.fields.set(e,{size:36,constructor:r.BufferViewMat3f,offset:this.stride,optional:t}),this.stride+=36,this.fieldNames.push(e),this},e.prototype.mat4f=function(e,t){return this.fields.set(e,{size:64,constructor:r.BufferViewMat4f,offset:this.stride,optional:t}),this.stride+=64,this.fieldNames.push(e),this},e.prototype.vec4u8=function(e,t){return this.fields.set(e,{offset:this.stride,size:4,optional:t,constructor:r.BufferViewVec4u8}),this.stride+=4,this.fieldNames.push(e),this},e.prototype.f32=function(e,t){return this.fields.set(e,{offset:this.stride,size:4,optional:t,constructor:r.BufferViewFloat}),this.stride+=4,this.fieldNames.push(e),this},e.prototype.f64=function(e,t){return this.fields.set(e,{offset:this.stride,size:8,optional:t,constructor:r.BufferViewFloat64}),this.stride+=8,this.fieldNames.push(e),this},e.prototype.u8=function(e,t){return this.fields.set(e,{offset:this.stride,size:1,optional:t,constructor:r.BufferViewUint8}),this.stride+=1,this.fieldNames.push(e),this},e.prototype.u16=function(e,t){return this.fields.set(e,{offset:this.stride,size:2,optional:t,constructor:r.BufferViewUint16}),this.stride+=2,this.fieldNames.push(e),this},e.prototype.i8=function(e,t){return this.fields.set(e,{offset:this.stride,size:1,optional:t,constructor:r.BufferViewInt8}),this.stride+=1,this.fieldNames.push(e),this},e.prototype.vec2i8=function(e,t){return this.fields.set(e,{offset:this.stride,size:2,optional:t,constructor:r.BufferViewVec2i8}),this.stride+=2,this.fieldNames.push(e),this},e.prototype.vec2i16=function(e,t){return this.fields.set(e,{offset:this.stride,size:4,optional:t,constructor:r.BufferViewVec2i16}),this.stride+=4,this.fieldNames.push(e),this},e.prototype.vec2u8=function(e,t){return this.fields.set(e,{offset:this.stride,size:2,optional:t,constructor:r.BufferViewVec2u8}),this.stride+=2,this.fieldNames.push(e),this},e.prototype.vec4u16=function(e,t){return this.fields.set(e,{offset:this.stride,size:8,optional:t,constructor:r.BufferViewVec4u16}),this.stride+=8,this.fieldNames.push(e),this},e.prototype.u32=function(e,t){return this.fields.set(e,{offset:this.stride,size:4,optional:t,constructor:r.BufferViewUint32}),this.stride+=4,this.fieldNames.push(e),this},e.prototype.hasField=function(e){return this.fieldNames.indexOf(e)>=0},e.prototype.createBuffer=function(e){return new n(this,e)},e.prototype.createView=function(e){return new n(this,e)},e.prototype.clone=function(){var t=new e;return t.stride=this.stride,t.fields=new Map,this.fields.forEach(function(e,r){return t.fields.set(r,e)}),t.fieldNames=this.fieldNames.slice(),t.BufferType=this.BufferType,t},e}();t.InterleavedLayout=i,t.newLayout=function(){return new i}}.apply(null,n))||(e.exports=i)},686:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(404),r(398),r(1044),r(631),r(1507),r(965),r(1008),r(1508)],void 0===(i=function(e,t,r,n,i,o,u,a,s,f){return function(){function e(){this.regularWriter=new s.RegularEdgeBufferWriter,this.silhouetteWriter=new s.SilhouetteEdgeBufferWriter}return e.prototype.process=function(e,t){return r(this,void 0,void 0,function(){var r,i,o;return n(this,function(n){switch(n.label){case 0:return t?(r=new Array,i=this.packInput(e,r),this.wrappedWork,[4,t.invoke("wrappedWork",i,r)]):[3,2];case 1:return o=n.sent(),[2,this.unpackOutput(o)];case 2:return[2,this.work(e)]}})})},e.prototype.wrappedWork=function(e){return r(this,void 0,void 0,function(){var t,r,i;return n(this,function(n){return t=this.unpackInput(e),r=this.work(t),i=new Array,this.packInputTransferables(t,i),[2,{result:this.packOutput(r,i),transferList:i}]})})},e.prototype.work=function(e){var t=this.extractEdgeInformation(e.data,e.skipDeduplicate,e.originalIndices);return this.regularWriter.updateSettings(e.writerSettings),this.silhouetteWriter.updateSettings(e.writerSettings),f.extractEdges(t,this.regularWriter,this.silhouetteWriter)},e.prototype.packInputTransferables=function(e,t){t.push(e.data.buffer)},e.prototype.packInput=function(e,t){this.packInputTransferables(e,t);var r={dataBuffer:e.data.buffer,writerSettings:e.writerSettings,skipDeduplicate:e.skipDeduplicate};return e.originalIndices&&(r.originalIndicesBuffer=e.originalIndices.buffer,r.originalIndicesType=o.isUint32Array(e.originalIndices)?"Uint32Array":"Uint16Array"),r},e.prototype.unpackInput=function(e){return{data:a.EdgeInputBufferLayout.createView(e.dataBuffer),originalIndices:"Uint32Array"===e.originalIndicesType?new Uint32Array(e.originalIndicesBuffer):"Uint16Array"===e.originalIndicesType?new Uint16Array(e.originalIndicesBuffer):void 0,writerSettings:e.writerSettings,skipDeduplicate:e.skipDeduplicate}},e.prototype.packOutput=function(e,t){return t.push(e.regular.lodInfo.lengths.buffer),t.push(e.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:u.packInterleavedBuffer(e.regular.instancesData,t),lodInfo:{lengths:e.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:u.packInterleavedBuffer(e.silhouette.instancesData,t),lodInfo:{lengths:e.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:e.averageEdgeLength}},e.prototype.unpackOutput=function(e){return{regular:{instancesData:u.unpackInterleavedBuffer(e.regular.instancesData),lodInfo:{lengths:new Float32Array(e.regular.lodInfo.lengths)}},silhouette:{instancesData:u.unpackInterleavedBuffer(e.silhouette.instancesData),lodInfo:{lengths:new Float32Array(e.silhouette.lodInfo.lengths)}},averageEdgeLength:e.averageEdgeLength}},e.prototype.extractEdgeInformation=function(e,t,r){if(t&&r)return{faces:r,neighbors:i.computeNeighbors(r,e.count),vertices:e};var n=i.deduplicate(e.buffer,e.stride/4),o=this.selectIndexData(n.indices,r);return{faces:o,neighbors:i.computeNeighbors(o,n.uniqueCount),vertices:a.EdgeInputBufferLayout.createView(n.buffer)}},e.prototype.selectIndexData=function(e,t){if(t){for(var r=o.slice(t),n=0;n<r.length;n++)r[n]=e[r[n]];return r}return e},e}()}.apply(null,n))||(e.exports=i)},753:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(345)],void 0===(i=function(e,t,r){function n(e){var t=o[e];if(t)return t;throw new Error("BufferType not supported in WebGL")}Object.defineProperty(t,"__esModule",{value:!0});var i={divisor:0,prefixA:!1};t.glLayout=function(e,t){void 0===t&&(t={}),t=r({},i,t);var o=e.stride;return e.fieldNames.filter(function(t){var r=e.fields.get(t).optional;return!(r&&r.glPadding)}).map(function(r){var i=e.fields.get(r),u=i.constructor.ElementCount,a=n(i.constructor.ElementType),s=i.offset,f=!(!i.optional||!i.optional.glNormalized);return{name:t.prefixA?function(e){return"a"+e[0].toUpperCase()+e.substr(1)}(r):r,stride:o,count:u,type:a,offset:s,normalized:f,divisor:t.divisor}})};var o={u8:5121,u16:5123,u32:5125,i8:5120,i16:5122,i32:5124,f32:5126}}.apply(null,n))||(e.exports=i)},773:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=function(e,t){function r(e){return e&&"upperLeft"===e.originPosition}function n(e,t){var r=e.scale,n=e.translate;return Math.round((t-n[0])/r[0])}function i(e,t){var r=e.scale,n=e.translate;return Math.round((n[1]-t)/r[1])}function o(e,t,r){for(var o,u,a,s,f=[],c=0;c<r.length;c++){var l=r[c];c>0?(a=n(e,l[0]),s=i(e,l[1]),a===o&&s===u||(f.push(t(l,a-o,s-u)),o=a,u=s)):(o=n(e,l[0]),u=i(e,l[1]),f.push(t(l,o,u)))}return f.length>0?f:null}function u(e,t,r,n){return o(e,r?n?b:w:n?w:g,t)}function a(e,t,r,n){for(var i=[],u=r?n?b:w:n?w:g,a=0;a<t.length;a++){var s=o(e,u,t[a]);s&&s.length>=3&&i.push(s)}return i.length?i:null}function s(e,t,r,n){for(var i=[],u=r?n?b:w:n?w:g,a=0;a<t.length;a++){var s=o(e,u,t[a]);s&&s.length>=2&&i.push(s)}return i.length?i:null}function f(e,t){var r=e.scale,n=e.translate;return t*r[0]+n[0]}function c(e,t){var r=e.scale;return e.translate[1]-t*r[1]}function l(e,t,r){var n=new Array(r.length);if(!r.length)return n;var i=e.scale,o=i[0],u=i[1],a=f(e,r[0][0]),s=c(e,r[0][1]);n[0]=t(r[0],a,s);for(var l=1;l<r.length;l++){var d=r[l];a+=d[0]*o,s-=d[1]*u,n[l]=t(d,a,s)}return n}function d(e,t,r){for(var n=new Array(r.length),i=0;i<r.length;i++)n[i]=l(e,t,r[i]);return n}function p(e,t,r,n){return l(e,r?n?b:w:n?w:g,t)}function h(e,t,r,n){return d(e,r?n?b:w:n?w:g,t)}function y(e,t,r,n){return d(e,r?n?b:w:n?w:g,t)}function m(e,t,r){for(var n=r[0],i=n[0],o=n[1],u=Math.min(i,t[0]),a=Math.min(o,t[1]),s=Math.max(i,t[2]),f=Math.max(o,t[3]),c=1;c<r.length;c++){var l=r[c],d=l[0],p=l[1];i+=d,o+=p,d<0&&(u=Math.min(u,i)),d>0&&(s=Math.max(s,i)),p<0?a=Math.min(a,o):p>0&&(f=Math.max(f,o))}return e[0]=u,e[1]=a,e[2]=s,e[3]=f,e}function v(e,t){if(!t.length)return null;e[0]=e[1]=Number.POSITIVE_INFINITY,e[2]=e[3]=Number.NEGATIVE_INFINITY;for(var r=0;r<t.length;r++)m(e,e,t[r]);return e}Object.defineProperty(t,"__esModule",{value:!0});var g=function(e,t,r){return[t,r]},w=function(e,t,r){return[t,r,e[2]]},b=function(e,t,r){return[t,r,e[2],e[3]]};t.toTransform=function(e){return e?{originPosition:"upperLeft",scale:[e.tolerance,e.tolerance],translate:[e.extent.xmin,e.extent.ymax]}:null},t.equals=function(e,t){return e===t||null==e&&null==t||null!=e&&null!=t&&(r(e)?(n=e.translate[0],i=e.translate[1],o=e.scale[0]):(n=e.extent.xmin,i=e.extent.ymax,o=e.tolerance),r(t)?(u=t.translate[0],a=t.translate[1],s=t.scale[0]):(u=t.extent.xmin,a=t.extent.ymax,s=t.tolerance),n===u&&i===a&&o===s);var n,i,o,u,a,s},t.quantizeX=n,t.quantizeY=i,t.quantizeBounds=function(e,t,r){return t[0]=n(e,r[0]),t[3]=i(e,r[1]),t[2]=n(e,r[2]),t[1]=i(e,r[3]),t},t.quantizePoints=u,t.quantizeRings=a,t.quantizePaths=s,t.hydrateX=f,t.hydrateY=c,t.hydrateCoordsArray=l,t.hydrateCoordsArrayArray=d,t.hydrateBounds=function(e,t,r){return r?(t[0]=f(e,r[0]),t[1]=c(e,r[3]),t[2]=f(e,r[2]),t[3]=c(e,r[1]),t):[f(e,t[0]),c(e,t[3]),f(e,t[2]),c(e,t[1])]},t.hydratePoints=p,t.hydratePaths=h,t.hydrateRings=y,t.getQuantizedBoundsCoordsArray=m,t.getQuantizedBoundsCoordsArrayArray=v,t.getQuantizedBoundsPoints=function(e){var t=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return m(t,t,e)},t.getQuantizedBoundsPaths=function(e){return v([0,0,0,0],e)},t.getQuantizedBoundsRings=function(e){return v([0,0,0,0],e)},t.quantizeExtent=function(e,t,r,o,u){return t.xmin=n(e,r.xmin),t.ymin=i(e,r.ymin),t.xmax=n(e,r.xmax),t.ymax=i(e,r.ymax),t!==r&&(o&&(t.zmin=r.zmin,t.zmax=r.zmax),u&&(t.mmin=r.mmin,t.mmax=r.mmax)),t},t.quantizeMultipoint=function(e,t,r,n,i){return t.points=u(e,r.points,n,i),t},t.quantizePoint=function(e,t,r,o,u){return t.x=n(e,r.x),t.y=i(e,r.y),t!==r&&(o&&(t.z=r.z),u&&(t.m=r.m)),t},t.quantizePolygon=function(e,t,r,n,i){var o=a(e,r.rings,n,i);return o?(t.rings=o,t):null},t.quantizePolyline=function(e,t,r,n,i){var o=s(e,r.paths,n,i);return o?(t.paths=o,t):null},t.hydrateExtent=function(e,t,r,n,i){return t.xmin=f(e,r.xmin),t.ymin=c(e,r.ymin),t.xmax=f(e,r.xmax),t.ymax=c(e,r.ymax),t!==r&&(n&&(t.zmin=r.zmin,t.zmax=r.zmax),i&&(t.mmin=r.mmin,t.mmax=r.mmax)),t},t.hydrateMultipoint=function(e,t,r,n,i){return t.points=p(e,r.points,n,i),t},t.hydratePoint=function(e,t,r,n,i){return t.x=f(e,r.x),t.y=c(e,r.y),t!==r&&(n&&(t.z=r.z),i&&(t.m=r.m)),t},t.hydratePolygon=function(e,t,r,n,i){return t.rings=y(e,r.rings,n,i),t},t.hydratePolyline=function(e,t,r,n,i){return t.paths=h(e,r.paths,n,i),t}}.apply(null,n))||(e.exports=i)},808:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(430),r(902),r(397)],void 0===(i=function(e,t,r,n,i){function o(e){switch(e){case 5120:return Int8Array;case 5126:return Float32Array;case 5124:return Int32Array;case 5122:return Int16Array;case 5121:return Uint8Array;case 5125:return Uint32Array;case 5123:return Uint16Array}throw new Error("Unhandled data type: "+e)}return function(){function e(t,u,a,s,f,c){void 0===a&&(a=null),void 0===s&&(s=e.DefaultOffsets),void 0===f&&(f=e.DefaultIndices),void 0===c&&(c=!1),this._freeDataAfterUse=c,this.preinterleaved=!0,this.primitiveType="triangle",this._positionData=null;var l=i.getStride(u)/4,d=t.length/l;this._hasDefaultIndices=f===e.DefaultIndices,this._hasDefaultIndices&&(f=n.generateDefaultIndexArray(d));for(var p={},h=0,y=u;h<y.length;h++){var m=y[h],v=new(o(m.type))(t.buffer),g=i.getBytesPerElement(m.type),w=m.count,b=m.offset/g,V=m.stride/g;p[m.name]={data:v,size:w,offsetIdx:b,strideIdx:V}}a&&(this._positionData=a,p.position={data:a.data,size:3,offsetIdx:0,strideIdx:3}),this._id=n.getNewId(),this._vertexData=t,this._vertexAttributes=p,this._layout=u,this._indexData=f,this._componentOffsets=r.createOffsets(s),this._gpuMemoryUsage=t.byteLength+(this._hasDefaultIndices?0:f.byteLength)}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layout",{get:function(){return this._layout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentOffsets",{get:function(){return this._componentOffsets},enumerable:!0,configurable:!0}),e.prototype.toRenderData=function(){var e={id:this._id.toString(),preinterleaved:!0,indexData:this._hasDefaultIndices?null:this._indexData,indexCount:this._indexData.length,vertexData:this._vertexData,layout:this._layout};return this._freeDataAfterUse&&(this._vertexData=null,this._indexData=null,this._vertexAttributes={position:this._vertexAttributes.position}),e},e.prototype.getIndices=function(e){return"position"===e&&this._positionData?this._positionData.indices:this._indexData},e.prototype.getAttribute=function(e){return this._vertexAttributes[e]},e.prototype.estimateGpuMemoryUsage=function(){return this._gpuMemoryUsage},Object.defineProperty(e.prototype,"hasPositionData",{get:function(){return!!this._positionData},enumerable:!0,configurable:!0}),e.DefaultOffsets=new Uint32Array(0),e.DefaultIndices=new Uint32Array(0),e}()}.apply(null,n))||(e.exports=i)},902:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=1,n=null;t.generateDefaultIndexArray=function(e){if(e>r||null==n){for(;e>r;)r*=2;n=new Uint32Array(r);for(var t=0;t<r;t++)n[t]=t}return new Uint32Array(n.buffer,0,e)};var i=0;t.getNewId=function(){return i++}}.apply(null,n))||(e.exports=i)},965:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(753),r(665)],void 0===(i=function(e,t,r,n){Object.defineProperty(t,"__esModule",{value:!0}),t.EdgeInputBufferLayout=n.newLayout().vec3f("position").u16("componentIndex").u16("_padding"),t.VertexLayout=n.newLayout().vec2u8("sideness"),t.glVertexLayout=r.glLayout(t.VertexLayout,{prefixA:!0}),t.CommonInstancesLayout=n.newLayout().vec3f("position0").vec3f("position1").u16("componentIndex").vec2u8("packedAttributes").u8("variantOffset",{glNormalized:!0}).u8("variantStroke").u8("variantExtension",{glNormalized:!0}).u8("_padding",{glPadding:!0}),t.RegularEdgeInstancesLayout=t.CommonInstancesLayout.clone().vec3f("normal"),t.SilhouetteEdgeInstancesLayout=t.CommonInstancesLayout.clone().vec3f("normalA").vec3f("normalB"),t.EdgeShaderAttributeLocations={aPosition0:0,aPosition1:1,aComponentIndex:2,aPackedAttributes:3,aVariantOffset:4,aVariantStroke:5,aVariantExtension:6,aNormal:7,aNormalA:7,aNormalB:8,aSideness:9}}.apply(null,n))||(e.exports=i)}}]);