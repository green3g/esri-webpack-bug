(function(){(this||window).webpackJsonp.registerAbsMids({"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/layers/support/lazyLayerLoader":744,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/portal/support/portalLayers":1285,"C:/Users/roemh/web/datafi/node_modules/arcgis-js-api/portal/support/mapNotesUtils":1422})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[96],{1285:function(e,n,r){var t,a;t=[r.dj.c(e.i),n,r(345),r(351),r(358),r(342),r(340),r(744),r(691),r(1422)],void 0===(a=function(e,n,r,t,a,u,o,i,c,l){function s(e){switch(e.type){case"Map Service":return function(e){return y(e).then(function(e){return e?{className:"TileLayer"}:{className:"MapImageLayer"}})}(e);case"Feature Service":return function(e){return p(e).then(function(e){if("object"==typeof e){var n={outFields:["*"]};return null!=e.id&&(n.layerId=e.id),{className:"FeatureLayer",properties:n}}return{className:"GroupLayer"}})}(e);case"Feature Collection":return function(e){return e.load().then(function(){return e.fetchData()}).then(function(e){if(e&&Array.isArray(e.layers)){if(l.isMapNotesLayer(e))return{className:"MapNotesLayer"};if(1===e.layers.length)return{className:"FeatureLayer"}}return{className:"GroupLayer"}})}(e);case"Scene Service":return function(e){return p(e).then(function(n){if("object"==typeof n){var r={},t=void 0;if(null!=n.id?(r.layerId=n.id,t=e.url+"/layers/"+n.id):t=e.url,Array.isArray(e.typeKeywords)&&e.typeKeywords.length>0)for(var a={IntegratedMesh:"IntegratedMeshLayer","3DObject":"SceneLayer",Point:"SceneLayer",PointCloud:"PointCloudLayer"},u=0,o=Object.keys(a);u<o.length;u++){var i=o[u];if(-1!==e.typeKeywords.indexOf(i))return{className:a[i]}}return h(t).then(function(e){var n="SceneLayer";return null!=e&&"IntegratedMesh"===e.layerType?n="IntegratedMeshLayer":null!=e&&"PointCloud"===e.layerType&&(n="PointCloudLayer"),{className:n,properties:r}})}return{className:"GroupLayer"}})}(e);case"Image Service":return function(e){return y(e).then(function(n){var r=new a(e.typeKeywords);return n?r.find(function(e){return"elevation 3d layer"===e.toLowerCase()})?{className:"ElevationLayer"}:{className:"TileLayer"}:{className:"ImageryLayer"}})}(e);case"Stream Service":return{className:"StreamLayer"};case"Vector Tile Service":return{className:"VectorTileLayer"};case"KML":return{className:"KMLLayer"};case"WMTS":return{className:"WMTSLayer"};case"WMS":return{className:"WMSLayer"};default:return o.reject(new u("portal:unknown-item-type","Unknown item type '${type}'",{type:e.type}))}}function f(e){return(0,i.layerLookupMap[e.className])().then(function(n){return{constructor:n,properties:e.properties}})}function y(e){return h(e.url).then(function(e){return e.tileInfo})}function p(e){return!e.url||e.url.match(/\/\d+$/)?o.resolve({}):e.load().then(function(){return e.fetchData()}).then(function(n){return n&&Array.isArray(n.layers)?1===n.layers.length&&{id:n.layers[0].id}:h(e.url).then(function(e){return e&&Array.isArray(e.layers)?1===e.layers.length&&{id:e.layers[0].id}:{}})})}function h(e){return t(e,{responseType:"json",query:{f:"json"}}).then(function(e){return e.data})}Object.defineProperty(n,"__esModule",{value:!0}),n.fromItem=function(e){return!e.portalItem||e.portalItem instanceof c||e.portalItem.constructor&&e.portalItem.constructor._meta||(e=r({},e,{portalItem:new c(e.portalItem)})),function(e){return e.load().then(s).then(f)}(e.portalItem).then(function(n){var t=r({portalItem:e.portalItem},n.properties),a=n.constructor;return"esri.layers.FeatureLayer"===a.declaredClass&&(t.outFields=["*"]),o.resolve(new a(t))})},n.selectLayerClassPath=s}.apply(null,t))||(e.exports=a)},1422:function(e,n,r){var t,a;t=[r.dj.c(e.i),n],void 0===(a=function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isMapNotesLayer=function(e){var n=["TITLE","DESCRIPTION","IMAGE_URL","IMAGE_LINK_URL"],r=e.layers||e.featureCollection&&e.featureCollection.layers;if(r&&Array.isArray(r)){var t=r[0];return t.layerDefinition.fields&&t.layerDefinition.fields.forEach(function(e){var r=n.indexOf(e.name);r>-1&&n.splice(r,1)}),!n.length}}}.apply(null,t))||(e.exports=a)},744:function(e,n,r){var t,a;t=[r.dj.c(e.i),n,r(340)],void 0===(a=function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.layerLookupMap={CSVLayer:function(){return t.create(function(e){return Promise.all([r.e(0),r.e(1),r.e(3),r.e(2),r.e(22)]).then(function(){var n=[r(894)];e.apply(null,n)}.bind(this)).catch(r.oe)})},ElevationLayer:function(){return t.create(function(e){return r.e(35).then(function(){var n=[r(692)];e.apply(null,n)}.bind(this)).catch(r.oe)})},FeatureLayer:function(){return t.create(function(e){return Promise.all([r.e(0),r.e(1),r.e(3),r.e(2),r.e(25)]).then(function(){var n=[r(331)];e.apply(null,n)}.bind(this)).catch(r.oe)})},GroupLayer:function(){return t.create(function(e){return r.e(17).then(function(){var n=[r(705)];e.apply(null,n)}.bind(this)).catch(r.oe)})},GeoRSSLayer:function(){return t.create(function(e){return r.e(36).then(function(){var n=[r(895)];e.apply(null,n)}.bind(this)).catch(r.oe)})},ImageryLayer:function(){return t.create(function(e){return Promise.all([r.e(0),r.e(1),r.e(2),r.e(26),r.e(49)]).then(function(){var n=[r(891)];e.apply(null,n)}.bind(this)).catch(r.oe)})},KMLLayer:function(){return t.create(function(e){return Promise.all([r.e(0),r.e(1),r.e(14),r.e(31),r.e(50)]).then(function(){var n=[r(896)];e.apply(null,n)}.bind(this)).catch(r.oe)})},MapImageLayer:function(){return t.create(function(e){return Promise.all([r.e(0),r.e(1),r.e(3),r.e(2),r.e(21)]).then(function(){var n=[r(892)];e.apply(null,n)}.bind(this)).catch(r.oe)})},MapNotesLayer:function(){return t.create(function(e){return Promise.all([r.e(0),r.e(1),r.e(3),r.e(2),r.e(74)]).then(function(){var n=[r(1023)];e.apply(null,n)}.bind(this)).catch(r.oe)})},OpenStreetMapLayer:function(){return t.create(function(e){return r.e(39).then(function(){var n=[r(897)];e.apply(null,n)}.bind(this)).catch(r.oe)})},PointCloudLayer:function(){return t.create(function(e){return Promise.all([r.e(0),r.e(28),r.e(51)]).then(function(){var n=[r(898)];e.apply(null,n)}.bind(this)).catch(r.oe)})},SceneLayer:function(){return t.create(function(e){return Promise.all([r.e(0),r.e(1),r.e(3),r.e(2),r.e(23)]).then(function(){var n=[r(788)];e.apply(null,n)}.bind(this)).catch(r.oe)})},IntegratedMeshLayer:function(){return t.create(function(e){return Promise.all([r.e(0),r.e(43)]).then(function(){var n=[r(752)];e.apply(null,n)}.bind(this)).catch(r.oe)})},StreamLayer:function(){return t.create(function(e){return Promise.all([r.e(0),r.e(1),r.e(3),r.e(2),r.e(24)]).then(function(){var n=[r(893)];e.apply(null,n)}.bind(this)).catch(r.oe)})},TileLayer:function(){return t.create(function(e){return Promise.all([r.e(0),r.e(1),r.e(3),r.e(2),r.e(72)]).then(function(){var n=[r(666)];e.apply(null,n)}.bind(this)).catch(r.oe)})},UnknownLayer:function(){return t.create(function(e){return r.e(101).then(function(){var n=[r(1024)];e.apply(null,n)}.bind(this)).catch(r.oe)})},UnsupportedLayer:function(){return t.create(function(e){return r.e(102).then(function(){var n=[r(1025)];e.apply(null,n)}.bind(this)).catch(r.oe)})},VectorTileLayer:function(){return t.create(function(e){return Promise.all([r.e(16),r.e(37)]).then(function(){var n=[r(715)];e.apply(null,n)}.bind(this)).catch(r.oe)})},WebTileLayer:function(){return t.create(function(e){return r.e(40).then(function(){var n=[r(789)];e.apply(null,n)}.bind(this)).catch(r.oe)})},WMSLayer:function(){return t.create(function(e){return Promise.all([r.e(0),r.e(1),r.e(34),r.e(48)]).then(function(){var n=[r(899)];e.apply(null,n)}.bind(this)).catch(r.oe)})},WMTSLayer:function(){return t.create(function(e){return r.e(88).then(function(){var n=[r(1026)];e.apply(null,n)}.bind(this)).catch(r.oe)})},BingMapsLayer:function(){return t.create(function(e){return r.e(10).then(function(){var n=[r(747)];e.apply(null,n)}.bind(this)).catch(r.oe)})}}}.apply(null,t))||(e.exports=a)}}]);